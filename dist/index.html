<!doctype html>
<html role="api-designer">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>API Designer</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="styles/api-designer-vendor.css"/>

    <link rel="stylesheet" href="styles/api-designer.css"/>
  </head>
  <body ng-app="ramlEditorApp">
    <script>
      (function() {
        if (!String.prototype.startsWith) {
          String.prototype.startsWith = function(search, pos) {
            return this.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;
          };
        }

        if (!String.prototype.endsWith) {
          String.prototype.endsWith = function(search, thisLen) {
            if (thisLen === undefined || thisLen > this.length) {
              thisLen = this.length;
            }
            return this.substring(thisLen - search.length, thisLen) === search;
          };
        }

        if (!Array.prototype.find) {
          Array.prototype.find = function (predicate) {
            for (var i = 0, len = this.length; i < len; i++) {
              var item = this[i];
              if (predicate(item)) { return item; }
            }
            return undefined;
          };
        }

        if (!Array.prototype.includes) {
          Array.prototype.includes = function (value) {
            for (var i = 0, len = this.length; i < len; i++) {
              var item = this[i];
              if (item === value) { return true; }
            }
            return false;
          };
        }
      })();
    </script>

    <div class="container">
        <raml-editor></raml-editor>
    </div>

    <script src="scripts/api-designer-parser.js"></script>

    <script>
      (function (w) {
        if (!w.Worker) return;
        var proxy = location.search.indexOf('bypassProxy=true') > -1 ? '' : '/proxy/';
        try {
          w.RAML.worker = new Worker('scripts/api-designer-worker.js#parser=./api-designer-parser.js&proxy=' + proxy);
        } catch (e) {
          console.error('Failed to create worker, defaulting to main thread', e);
        }
      })(window);
    </script>

    <script src="scripts/api-designer-vendor.js"></script>

    <script src="scripts/api-designer.js"></script>
  </body>
</html>
