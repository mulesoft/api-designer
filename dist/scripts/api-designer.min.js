function range(a,b){for(var c=new Array(b-a+1),d=a;d<=b;d++)c[d-a]=d;return c}!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(){var c,d,e,f;e=a("./scorer"),c=a("./pathScorer"),a("./query"),d=function(a){return a.candidate},f=function(a,b){return b.score-a.score},b.exports=function(a,b,g){var h,i,j,k,l,m,n,o,p,q,r,s,t;for(o=[],j=g.key,l=g.maxResults,k=g.maxInners,r=g.usePathScoring,p=null!=k&&k>0?k:a.length+1,h=null!=j,n=r?c:e,s=0,t=a.length;s<t&&(i=a[s],!((q=h?i[j]:i)&&(m=n.score(q,b,g))>0)||(o.push({candidate:i,score:m}),--p));s++);return o.sort(f),a=o.map(d),null!=l&&(a=a.slice(0,l)),a}}).call(this)},{"./pathScorer":4,"./query":5,"./scorer":6}],2:[function(a,b,c){(function(c){(function(){var d,e,f,g,h,i,j,k;f=a("./filter"),g=a("./matcher"),k=a("./scorer"),i=a("./pathScorer"),d=a("./query"),j=null,e="win32"===(void 0!==c&&null!==c?c.platform:void 0)?"\\":"/",b.exports={filter:function(a,b,c){return null==c&&(c={}),(null!=b?b.length:void 0)&&(null!=a?a.length:void 0)?(c=h(c,b),f(a,b,c)):[]},score:function(a,b,c){return null==c&&(c={}),(null!=a?a.length:void 0)&&(null!=b?b.length:void 0)?(c=h(c,b),c.usePathScoring?i.score(a,b,c):k.score(a,b,c)):0},match:function(a,b,c){var d;return null==c&&(c={}),a&&b?a===b?function(){d=[];for(var b=0,c=a.length;0<=c?b<c:b>c;0<=c?b++:b--)d.push(b);return d}.apply(this):(c=h(c,b),g.match(a,b,c)):[]},wrap:function(a,b,c){return null==c&&(c={}),a&&b?(c=h(c,b),g.wrap(a,b,c)):[]},prepareQuery:function(a,b){return null==b&&(b={}),b=h(b,a),b.preparedQuery}},h=function(a,b){return null==a.allowErrors&&(a.allowErrors=!1),null==a.usePathScoring&&(a.usePathScoring=!0),null==a.useExtensionBonus&&(a.useExtensionBonus=!1),null==a.pathSeparator&&(a.pathSeparator=e),null==a.optCharRegEx&&(a.optCharRegEx=null),null==a.wrap&&(a.wrap=null),null==a.preparedQuery&&(a.preparedQuery=j&&j.query===b?j:j=new d(b,a)),a}}).call(this)}).call(this,a("_process"))},{"./filter":1,"./matcher":3,"./pathScorer":4,"./query":5,"./scorer":6,_process:7}],3:[function(a,b,c){(function(){var b,d,e,f,g,h,i,j,k,l;l=a("./scorer"),e=l.isMatch,f=l.isWordStart,k=l.scoreConsecutives,j=l.scoreCharacter,i=l.scoreAcronyms,c.match=g=function(a,c,f){var g,i,j,k,l,m;return g=f.allowErrors,l=f.preparedQuery,k=f.pathSeparator,g||e(a,l.core_lw,l.core_up)?(m=a.toLowerCase(),j=d(a,m,l),0===j.length?j:(a.indexOf(k)>-1&&(i=b(a,m,l,k),j=h(j,i)),j)):[]},c.wrap=function(a,b,c){var d,e,f,h,i,j,k,l,m;if(null!=c.wrap&&(m=c.wrap,j=m.tagClass,l=m.tagOpen,k=m.tagClose),null==j&&(j="highlight"),null==l&&(l='<strong class="'+j+'">'),null==k&&(k="</strong>"),a===b)return l+a+k;if(f=g(a,b,c),0===f.length)return a;for(h="",d=-1,i=0;++d<f.length;){for(e=f[d],e>i&&(h+=a.substring(i,e),i=e);++d<f.length;){if(f[d]!==e+1){d--;break}e++}e++,e>i&&(h+=l,h+=a.substring(i,e),h+=k,i=e)}return i<=a.length-1&&(h+=a.substring(i)),h},b=function(a,b,c,e){var f,g,h;for(h=a.length-1;a[h]===e;)h--;if(-1===(f=a.lastIndexOf(e,h)))return[];for(g=c.depth;g-- >0;)if(-1===(f=a.lastIndexOf(e,f-1)))return[];return f++,h++,d(a.slice(f,h),b.slice(f,h),c,f)},h=function(a,b){var c,d,e,f,g,h,i;if(g=a.length,0===(h=b.length))return a.slice();if(0===g)return b.slice();for(e=-1,f=0,d=b[f],i=[];++e<g;){for(c=a[e];d<=c&&++f<h;)d<c&&i.push(d),d=b[f];i.push(c)}for(;f<h;)i.push(b[f++]);return i},d=function(a,b,c,d){var e,g,h,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;for(null==d&&(d=0),z=c.query,A=c.query_lw,u=a.length,x=z.length,m=i(a,b,z,A).score,D=new Array(x),q=new Array(x),h=0,l=1,g=2,e=3,H=new Array(u*x),y=-1,t=-1;++t<x;)D[t]=0,q[t]=0;for(s=-1;++s<u;)for(B=0,E=0,p=0,F=b[s],t=-1;++t<x;)r=0,n=0,C=E,A[t]===F&&(G=f(s,a,b),r=p>0?p:k(a,b,z,A,s,t,G),n=C+j(s,t,G,m,r)),E=D[t],p=q[t],B>E?w=g:(B=E,w=l),n>B?(B=n,w=e):r=0,D[t]=B,q[t]=r,H[++y]=B>0?w:h;for(s=u-1,t=x-1,y=s*x+t,o=!0,v=[];o&&s>=0&&t>=0;)switch(H[y]){case l:s--,y-=x;break;case g:t--,y--;break;case e:v.push(s+d),t--,s--,y-=x+1;break;default:o=!1}return v.reverse(),v}}).call(this)},{"./scorer":6}],4:[function(a,b,c){(function(){var b,d,e,f,g,h,i,j,k;k=a("./scorer"),g=k.isMatch,b=k.computeScore,i=k.scoreSize,j=13,e=1.2,c.score=function(a,c,d){var e,f,i;return e=d.preparedQuery,d.allowErrors||g(a,e.core_lw,e.core_up)?(i=a.toLowerCase(),f=b(a,i,e),f=h(a,i,f,d),Math.ceil(f)):0},h=function(a,c,g,h){var k,l,m,n,o,p,q,r,s,t;if(0===g)return 0;for(s=h.preparedQuery,t=h.useExtensionBonus,r=h.pathSeparator,o=a.length-1;a[o]===r;)o--;if(m=a.lastIndexOf(r,o),q=o-m,p=1,t&&(p+=f(c,s.ext,m,o,2),g*=p),-1===m)return g;for(n=s.depth;m>-1&&n-- >0;)m=a.lastIndexOf(r,m-1);return l=-1===m?g:p*b(a.slice(m+1,o+1),c.slice(m+1,o+1),s),(k=.5*j/(j+d(a,o+1,r)))*l+(1-k)*g*i(0,e*q)},c.countDir=d=function(a,b,c){var d,e;if(b<1)return 0;for(d=0,e=-1;++e<b&&a[e]===c;);for(;++e<b;)if(a[e]===c)for(d++;++e<b&&a[e]===c;);return d},c.getExtension=function(a){var b;return b=a.lastIndexOf("."),b<0?"":a.substr(b+1)},f=function(a,b,c,d,e){var g,h,i,j;if(!b.length)return 0;if(!((j=a.lastIndexOf(".",d))>c))return 0;for(i=b.length,g=d-j,g<i&&(i=g,g=b.length),j++,h=-1;++h<i&&a[j+h]===b[h];);return 0===h&&e>0?.9*f(a,b,c,j-2,e-1):h/g}}).call(this)},{"./scorer":6}],5:[function(a,b,c){(function(){var c,d,e,f,g,h,i;i=a("./pathScorer"),d=i.countDir,f=i.getExtension,b.exports=function(){function a(a,b){var g,i,j;if(j=null!=b?b:{},g=j.optCharRegEx,i=j.pathSeparator,!a||!a.length)return null;this.query=a,this.query_lw=a.toLowerCase(),this.core=c(a,g),this.core_lw=this.core.toLowerCase(),this.core_up=h(this.core),this.depth=d(a,a.length,i),this.ext=f(this.query_lw),this.charCodes=e(this.query_lw)}return a}(),g=/[ _\-:\/\\]/g,c=function(a,b){return null==b&&(b=g),a.replace(b,"")},h=function(a){var b,c,d,e;for(c="",d=0,e=a.length;d<e;d++)b=a[d],c+=b.toUpperCase()[0];return c},e=function(a){var b,c,d;for(d=a.length,c=-1,b=[];++c<d;)b[a.charCodeAt(c)]=!0;return b}}).call(this)},{"./pathScorer":4}],6:[function(a,b,c){(function(){var a,b,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;u=150,k=20,t=85,j=.75,c.score=function(a,c,d){var e,g,h;return e=d.preparedQuery,d.allowErrors||f(a,e.core_lw,e.core_up)?(h=a.toLowerCase(),g=b(a,h,e),Math.ceil(g)):0},c.isMatch=f=function(a,b,c){var d,e,f,g,h,i,j;if(f=a.length,g=b.length,!f||g>f)return!1;for(d=-1,e=-1;++e<g;){for(h=b.charCodeAt(e),i=c.charCodeAt(e);++d<f&&(j=a.charCodeAt(d))!==h&&j!==i;);if(d===f)return!1}return!0},c.computeScore=b=function(a,b,c){var d,e,f,g,h,k,q,r,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;if(z=c.query,A=c.query_lw,u=a.length,x=z.length,d=l(a,b,z,A),e=d.score,d.count===x)return o(x,u,e,d.pos);if((y=b.indexOf(A))>-1)return p(a,b,z,A,y,x,u);for(E=new Array(x),h=new Array(x),I=s(x,u),v=Math.ceil(j*x)+5,w=v,q=!0,t=-1;++t<x;)E[t]=0,h[t]=0;for(r=-1;++r<u;)if(G=b[r],!G.charCodeAt(0)in c.charCodes){if(q){for(t=-1;++t<x;)h[t]=0;q=!1}}else for(C=0,D=0,g=0,B=!0,q=!0,t=-1;++t<x;){if(F=E[t],F>C&&(C=F),k=0,A[t]===G)if(H=i(r,a,b),k=g>0?g:n(a,b,z,A,r,t,H),(f=D+m(r,t,H,e,k))>C)C=f,w=v;else{if(B&&--w<=0)return Math.max(C,E[x-1])*I;B=!1}D=F,g=h[t],h[t]=k,E[t]=C}return(C=E[x-1])*I},c.isWordStart=i=function(a,b,c){var d,e;return 0===a||(d=b[a],e=b[a-1],g(e)||d!==c[a]&&e===c[a-1])},c.isWordEnd=h=function(a,b,c,d){var e,f;return a===d-1||(e=b[a],f=b[a+1],g(f)||e===c[a]&&f!==c[a+1])},g=function(a){return" "===a||"."===a||"-"===a||"_"===a||"/"===a||"\\"===a},r=function(a){var b;return a<k?100+(b=k-a)*b:Math.max(100+k-a,0)},c.scoreSize=s=function(a,b){return t/(t+Math.abs(b-a))},o=function(a,b,c,d){return 2*a*(u*c+r(d))*s(a,b)},c.scorePattern=q=function(a,b,c,d,e){var f,g;return g=a,f=6,c===a&&(f+=2),d&&(f+=3),e&&(f+=1),a===b&&(d&&(g+=c===b?2:1),e&&(f+=1)),c+g*(g+f)},c.scoreCharacter=m=function(a,b,c,d,e){var f;return f=r(a),c?f+u*((d>e?d:e)+10):f+u*e},c.scoreConsecutives=n=function(a,b,c,d,e,f,g){var i,j,k,l,m,n,o;for(j=a.length,l=c.length,k=j-e,m=l-f,i=k<m?k:m,n=0,o=0,c[f]===a[e]&&n++;++o<i&&d[++f]===b[++e];)c[f]===a[e]&&n++;return 1===o?1+2*n:q(o,l,n,g,h(e,a,b,j))},c.scoreExactMatch=p=function(a,b,c,d,e,f,g){var j,k,l,m,n;for(n=i(e,a,b),n||(l=b.indexOf(d,e+1))>-1&&(n=i(l,a,b))&&(e=l),k=-1,m=0;++k<f;)c[e+k]===a[k]&&m++;return j=h(e+f-1,a,b,g),o(f,g,q(f,f,m,n,j),e)},a=function(){function a(a,b,c){this.score=a,this.pos=b,this.count=c}return a}(),d=new a(0,.1,0),c.scoreAcronyms=l=function(b,c,f,h){var j,k,l,m,n,o,p,r,s,t,u;if(n=b.length,o=f.length,!(n>1&&o>1))return d;for(j=0,t=0,u=0,r=0,l=-1,m=-1;++m<o;){if(p=h[m],g(p)){if((l=c.indexOf(p,l+1))>-1){t++;continue}break}for(;++l<n;)if(p===c[l]&&i(l,b,c)){f[m]===b[l]&&r++,u+=l,j++;break}if(l===n)break}return j<2?d:(k=j===o&&e(b,c,f,j),s=q(j,o,r,!0,k),new a(s,u/j,j+t))},e=function(a,b,c,d){var e,f,g,h;if(g=a.length,h=c.length,e=0,g>12*h)return!1;for(f=-1;++f<g;)if(i(f,a,b)&&++e>d)return!1;return!0}}).call(this)},{}],7:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],8:[function(a,b,c){window.RAML=window.RAML||{},window.RAML.Suggestions=a("./index")},{"./index":10}],9:[function(a,b,c){"use strict";function d(a){pa=a}function e(){return pa||new na.EmptyLogger}function f(a,b,c){void 0===c&&(c=null);var d=new qa(a);return new ra(b,c).suggest(d,!0)}function g(a,b){var c=new qa(a);return new ra(b).suggestAsync(c,!0)}function h(a,b,c){for(var d=Object.keys(oa),e=0;e<d.length;e++)for(var f=d[e],g=Object.keys(oa[f]),h=0;h<g.length;h++){var j=g[h];if(j===a){var k=oa[f][j],l=k.is||[],m=k.parentIs||[];if(c&&ma.find(l,function(a){return i(c,a)}))return f;if(b&&ma.find(m,function(a){return i(b,a)}))return f}}return"unknown"}function i(a,b){for(var c=b.split("."),d=ga.universes,e=0;e<c.length;e++)d=d[c[e]];return a.isAssignableFrom(d.name)}function j(a,b){var c=null;b.astProvider&&(c=b.astProvider.getASTRoot());var d=l(a,b,c);return d||[]}function k(a,b){e().debug("Suggestions request for prefix: "+a.prefix()+" and value prefix: "+a.valuePrefix(),"completionProvider","doSuggestAsync"),a.async=!0,a.promises=[];var c=b.contentProvider.fsResolver;return c||(c=new ya(b.contentProvider)),ga.parseRAML(q(a),{fsResolver:c,filePath:a.content.getPath()}).then(function(c){return l(a,b,r(a.content.getOffset(),c.highLevel()))}).then(function(b){return Promise.all([b].concat(a.promises))}).then(function(a){var b=[];return a.forEach(function(a){a&&(b=b.concat(a))}),b})}function l(a,b,c,d){void 0===c&&(c=void 0),e().debugDetail("Suggestions request for prefix: "+a.prefix()+" and value prefix: "+a.valuePrefix(),"completionProvider","getSuggestions"),b.currentRequest=a;try{if(b.level>100)return;b.level++;var f=a.content.getOffset(),g=a.content.getText(),i=n(a);e().debugDetail("Determined completion kind: "+i,"completionProvider","getSuggestions");var j=c||o(a,b.contentProvider,!0,!0,d),k=j;if(i===ga.search.LocationKind.DIRECTIVE_COMPLETION)return[{text:"include"}];if(i===ga.search.LocationKind.ANNOTATION_COMPLETION){return ga.search.globalDeclarations(k).filter(function(a){return ga.universeHelpers.isAnnotationTypesProperty(a.property())}).map(function(a){return{text:ga.search.qName(a,k),annotation:!0}})}if(i===ga.search.LocationKind.VERSION_COMPLETION)return m(a);if(i===ga.search.LocationKind.INCOMMENT)return[];if(null===j)return[];for(var l=!1,p=f-1;p>=k.lowLevel().start();p--){var q=g[p];if("\r"==q||"\n"==q){l=!0;break}}for(var r=f,t=f-1;t>=0;t--){var w=g[t];{if(" "!==w&&"\t"!==w)break;r=t}}var x=ma.find(k.attrs(),function(a){return a.lowLevel().start()<r&&a.lowLevel().end()>=r&&!a.property().getAdapter(ga.ds.RAMLPropertyService).isKey()});if(!x){var y=ma.find(k.definition().allProperties(),function(a){return a.canBeValue()});if(l){var z=ma.find(k.lowLevel().children(),function(a){return a.start()<f&&a.end()>=f});if(z){var y=ma.find(k.definition().allProperties(),function(a){return a.nameId()==z.key()});if(y){var B=s(z.keyStart(),z.unit().contents());if(s(f,z.unit().contents()).length>B.length+1){y.range().hasValueTypeInHierarchy()?x=ga.stubs.createVirtualASTPropImpl(z,k,y.range(),y):z.children().length>0&&(k=ga.stubs.createVirtualNodeImpl(z.children()[0],k,y.range(),y))}}}}else y&&i==ga.search.LocationKind.VALUE_COMPLETION&&ga.universeHelpers.isTypeProperty(y)&&1==k.children().length&&(x=ga.stubs.createASTPropImpl(k.lowLevel(),k,y.range(),y))}if(i==ga.search.LocationKind.PATH_COMPLETION)return v(a,b.contentProvider,x,k,!1);if(x&&(i===ga.search.LocationKind.KEY_COMPLETION||i===ga.search.LocationKind.SEQUENCE_KEY_COPLETION)){for(var C="",p=f-1;p>=0;p--){var q=g[p];if("\r"==q||"\n"==q)break;C=q+C}C=C.trim(),C!=x.name()&&(i=ga.search.LocationKind.VALUE_COMPLETION)}if(i==ga.search.LocationKind.VALUE_COMPLETION){var E=x&&x.parent&&x.parent(),F=E&&E.property&&E.property(),H=E&&E.definition&&E.definition(),I=H&&(ka.isExtensionType(H)||ka.isOverlayType(H)),J=x&&x.property&&x.property()&&x.property().nameId(),K=J===ja.Universe10.Overlay.properties.extends.name||J===ja.Universe10.Extension.properties.extends.name;if(H&&H.isAssignableFrom(ga.universes.Universe10.TypeDeclaration.name)&&J===ja.Universe10.ObjectTypeDeclaration.properties.discriminator.name){var L=E.localType&&E.localType(),M=L&&L.allProperties()||[];return M=M.filter(function(a){return a.isPrimitive&&a.isPrimitive()}),M.map(function(a){var b=a.nameId();return{text:b,displayText:b,description:a.description(),category:h(b,H,a.range())}})}if(I&&K)return v(a,b.contentProvider,x,k,!1);if(F&&ka.isUsesProperty(F))return v(a,b.contentProvider,x,k,!1);var N=G(j,x,a,b);if(!x&&(!N||0==N.length)&&!l&&k.definition().getAdapter(ga.ds.RAMLService).isUserDefined())return D(k,a,fa,na,l);if(x&&x.property()&&(x.property().getAdapter(ga.ds.RAMLPropertyService).isTypeExpr()||x.property().isAnnotation())){N||(N=[]),N=N.filter(function(a){return Q(a)!==k.name()});var P=a.valuePrefix(),V=P.lastIndexOf(".");P=V?P.substr(0,V+1):null,P&&(N=N.filter(function(a){return 0==Q(a).indexOf(P)}),N.forEach(function(a){return R(a,Q(a).substring(P.length))}))}if(N)if(":"==g[f-1]&&N.forEach(function(a){a.extra?a.extra=" "+a.extra:a.extra=" "}),-1!=a.prefix().indexOf("["))a.setPrefix(""),N.forEach(function(a){a.text=": [ "+a.displayText});else if(T(x)){N=N.filter(function(a){return!S(x,a.displayText)});for(var W="",Y=f,Z=Y;Z<g.length&&!/[\t\n\r]/.test(g[Z]);Z++)if(W+=g[Z],":"===W.replace(/\s/g,"")){N.forEach(function(a){a.text=a.displayText,a.snippet=null,a.extra=null});break}var $=!1;Y=f-1;for(var Z=Y;Z>=0&&!/[\t\n\r]/.test(g[Z]);Z--)if("["===g[Z]){$=!0;break}$||N.forEach(function(b){if(!a.valuePrefix()&&b.snippet)return b.text=b.displayText,void(b.snippet="["+b.snippet+"]");b.extra=" [",b.text=(b.snippet||b.displayText)+"]",b.snippet=null})}else{for(var W="",Y=f,Z=Y;Z<g.length&&!/[\t\n\r]/.test(g[Z]);Z++)if(W+=g[Z],":"===W.replace(/\s/g,"")){N.forEach(function(a){a.text=a.displayText,a.snippet=null,a.extra=null});break}N.forEach(function(b){b.isResourceType&&!a.valuePrefix()&&b.snippet&&(b.snippet=b.extra+b.snippet,b.extra=null,b.text=b.displayText)})}if(!l&&N&&N.length>0&&(N=O(N,k.lowLevel().start(),g)),N&&U(x)&&a.prefix()&&a.prefix().length>0){for(var _=!1,aa=0,ba=0,C="",p=f-1;p>=0;p--){var q=g[p];if("\r"===q||"\n"===q)break;if("<"===q&&"<"===g[p-1]){_=!0;break}"!"===q&&aa++,"|"===q&&1===aa&&ba++,C=q+C}if(_&&1===aa&&1===ba){new RegExp(/\|\s*!\s*/.source+a.prefix()).test(C)&&(N=ta(N,a.prefix()))}}return N}if(i==ia.LocationKind.KEY_COMPLETION||i==ia.LocationKind.SEQUENCE_KEY_COPLETION&&f>0&&"-"!=g.charAt(f-1)&&" "!=g.charAt(f-1)){if(j.isAttr()||j.isImplicit())throw new Error("Should be highlevel node at this place");if(ia.isExampleNode(k))return X(k,a,b);if(k.property()&&ka.isUriParametersProperty(k.property())&&k.definition()instanceof ha.NodeClass){var ca=k.parent().attr("relativeUri");if(ca&&k.name().substring(0,k.name().length-1)==a.valuePrefix()){var da=ga.utils.parseUrl(ca.value());if(da instanceof Array&&da){if(A(f,g))var ea=da.map(function(a){return{text:a+": \n"+u(f,g)+"  "}});else var ea=da.map(function(a){return{text:a}});return ea}}}if(k.property()&&ka.isBaseUriParametersProperty(k.property())&&k.definition()instanceof ha.NodeClass){var ca=k.root().attr(ja.Universe10.Api.properties.baseUri.name);if(ca&&k.name().substring(0,k.name().length-1)==a.valuePrefix()){var da=ga.utils.parseUrl(ca.value());if(da instanceof Array&&da){if(A(f,g))var ea=da.map(function(a){return{text:a+": \n"+u(f,g)+"  "}});else var ea=da.map(function(a){return{text:a}});return ea}}}if(k.property()&&ka.isResourcesProperty(k.property())){var ca=k.attr("relativeUri");if(ca&&k.name().substring(0,k.name().length-1)==a.valuePrefix()&&""!==a.valuePrefix())return ca&&-1!=ca.value().indexOf("{")?[{text:"mediaTypeExtension}"}]:[]}var fa=k.property()&&k.property().isMultiValue();k.lowLevel().keyEnd()<f&&(fa=!1);var na=!0;if(fa){var oa=k.definition().getAdapter(la.RAMLService).getCanInherit();if(oa){k.computedValue(oa[0])&&(na=!0,fa=!1)}}return D(k,a,fa,na)}return[]}finally{b.level--}}function m(a){var b=["RAML 0.8","RAML 1.0"],c=[],d=a.content.getText(),e=a.content.getOffset(),f=d.substr(0,e);if(0==f.indexOf("#%RAML 1.0 ")){return["DocumentationItem","DataType","NamedExample","ResourceType","Trait","SecurityScheme","AnnotationTypeDeclaration","Library","Overlay","Extension"].map(function(a){return{text:a}})}return b.forEach(function(b){if(0==("#%"+b).indexOf(f))if(0==d.trim().indexOf("#%"))if(-1!=a.prefix().indexOf("R"))c.push({displayText:b,text:b});else{var g=d.substring(2,e);0==b.indexOf(g)&&("1"==a.prefix()||"0"==a.prefix()?c.push({displayText:b,text:a.prefix()+b.substr(e-2)}):c.push({displayText:b,text:b.substr(e-2)}))}else c.push({displayText:b,text:b,extra:"%"})}),c}function n(a){return ga.search.determineCompletionKind(a.content.getText(),a.content.getOffset())}function o(a,b,c,d,e){void 0===c&&(c=!0),void 0===d&&(d=!0);var f=b.contentDirName(a.content),g=b.fsResolver;g||(g=new ya(b));var h=e||ga.project.createProject(f,g),i=a.content.getOffset(),j=a.content.getText();n(a)===ga.search.LocationKind.KEY_COMPLETION&&c&&(j=j.substring(0,i)+"k:"+j.substring(i));for(var k=h.setCachedUnitContent(a.content.getBaseName(),j),l=k.highLevel(),m=i,o=i-1;o>=0;o--){var q=j[o];{if(" "!==q&&"\t"!==q)break;m=o-1}}var r=l.findElementAtOffset(m);if(r&&r.root()&&r.root()===r){var s=p(r);if(s&&s.lowLevel()&&s.lowLevel().end()<=i){fa(j,s.lowLevel().start())<=fa(j,i)&&(r=s)}}if(!d&&!r)return l;if(r&&ia.isExampleNode(r)){var t=r.lowLevel().end();t===m&&"\n"===j[t]&&(r=r.parent())}return r}function p(a){if(!a)return null;if(a.lowLevel()){var b=a;return a.elements().forEach(function(c){if(c.lowLevel().unit()==a.lowLevel().unit()){var d=p(c);d&&(b=d)}}),b}return null}function q(a){var b=a.content.getOffset(),c=a.content.getText();return n(a)===ga.search.LocationKind.KEY_COMPLETION&&(c=c.substring(0,b)+"k:"+c.substring(b)),c}function r(a,b){for(var c=a,d=b.lowLevel().unit().contents(),e=a-1;e>=0;e--){var f=d[e];{if(" "!==f&&"\t"!==f)break;c=e-1}}var g=b.findElementAtOffset(c);if(g&&g.root()&&g.root()===g){var h=p(g);h&&h.lowLevel()&&h.lowLevel().end()<=a&&(g=h)}return g}function s(a,b){for(var c="",d=a-1;d>=0;d--){var e=b.charAt(d);if(" "==e||"\t"==e)c?c+=e:c=e;else{if("\r"==e||"\n"==e)return c;if(c)return""}}return""}function t(a,b){for(var c="",d=a-1;d>=0;d--){var e=b.charAt(d);if(" "==e||"\t"==e||"-"==e)c?c+=e:c=e;else{if("\r"==e||"\n"==e)return c;if(c)return""}}return""}function u(a,b){for(var c="",d=a-1;d>=0;d--){var e=b.charAt(d);if(" "==e||"\t"==e)c?c+=e:c=e;else if("\r"==e||"\n"==e)return c}}function v(a,b,c,d,e){return-1===a.valuePrefix().indexOf("#")?w(a,b,c,d,e):z(a,b,c,d,e)}function w(a,b,c,d,f){e().debug("Path part completion for prefix: "+a.valuePrefix(),"completionProvider","pathPartCompletion");var g=a.valuePrefix(),h=b.contentDirName(a.content);e().debugDetail("Directory name is: "+h,"completionProvider","pathPartCompletion");var i=b.resolve(h,0===g.indexOf("/")?"."+g:g),j=i.lastIndexOf("."),k=i.lastIndexOf("/");j>0&&(j>k||k<0)||(j=-1);var l=i;i&&(h=b.dirName(i),a.async?h=b.existsAsync(i).then(function(a){return a?b.isDirectoryAsync(i).then(function(a){return a?i:b.dirName(i)}):b.dirName(i)}):b.exists(i)&&b.isDirectory(i)&&(h=i));var m=[],n=!f;if(c&&f&&("example"===c.name()&&(m=m.concat(y(g,h,"examples",b,a.promises)),n=!0),"value"===c.name()&&ga.universeHelpers.isGlobalSchemaType(c.parent().definition())&&(m=m.concat(y(g,h,"schemas",b,a.promises)),n=!0)),c||f&&(ga.universeHelpers.isTraitType(d.definition())&&(m=m.concat(y(g,h,"traits",b,a.promises)),n=!0),ga.universeHelpers.isResourceTypeType(d.definition())&&(m=m.concat(y(g,h,"resourceTypes",b,a.promises)),n=!0),ga.universeHelpers.isSecuritySchemaType(d.definition())&&(m=m.concat(y(g,h,"securitySchemes",b,a.promises)),n=!0),ga.universeHelpers.isGlobalSchemaType(d.definition())&&(m=m.concat(y(g,h,"schemas",b,a.promises)),n=!0)),!n||!f)if(a.async)x(h,l,j,b,a.promises,a.content.getPath());else if(b.exists(h)&&b.isDirectory(h)){var o=b.readDir(h);m=m.concat(o.filter(function(c){try{var d=b.resolve(h,c);if(d===a.content.getPath())return!1;if(0===d.indexOf(l))return!0}catch(e){return!1}}).map(function(a){var c=b.resolve(h,a),d=b.exists(c)&&b.isDirectory(c);return{text:j>0?c.substr(j+1):a+(d?"/":"")}}))}return m}function x(a,b,c,d,e,f){if(e){var g,h=a.then(function(a){return g=a,d.existsAsync(a)}),i=h.then(function(a){return a?d.isDirectoryAsync(g).then(function(a){return a?d.readDirAsync(g).then(function(a){var e=a.filter(function(a){try{var c=d.resolve(g,a);if(c===f)return!1;if(0===c.indexOf(b))return!0}catch(e){return!1}}).map(function(a){var b=d.resolve(g,a);return d.existsAsync(b).then(function(e){return d.isDirectoryAsync(b).then(function(d){var f=e&&d;return{text:c>0?b.substr(c+1):a+(f?"/":"")}})})});return Promise.all(e)}):[]}):[]});e.push(i)}}function y(a,b,c,d,e){if(e){var f=b.then(function(a){var b=d.resolve(a,c);return d.existsAsync(b)}),g=f.then(function(b){return b?d.readDirAsync(h).then(function(b){return b.map(function(b){return{text:b,replacementPrefix:a,extra:"./"+c+"/"}})}):[]});return e.push(g),[]}var h=d.resolve(b,c);if(d.exists(h)){return d.readDir(h).map(function(b){return{text:b,replacementPrefix:a,extra:"./"+c+"/"}})}return[]}function z(a,b,c,d,e){var f=a.valuePrefix(),g=ga.schema.getIncludePath(f),h=ga.schema.getIncludeReference(f);if(!g||!h)return[];if(!c)return[];var i=c.lowLevel().unit().resolve(g);if(!i)return[];var j=i.contents();if(!j)return[];try{return ga.schema.completeReference(g,h,j).map(function(a){return{text:a}})}catch(Error){console.log(Error)}return[]}function A(a,b){for(var c=!0,d=a>0?a-1:0;d<b.length;d++){var e=b.charAt(d);if(" "==e||"\r"==e||"\n"==e)break;":"==e&&(c=!1)}return c}function B(a,b){var c=!0;return b.getContextRequirements().forEach(function(b){if(-1===b.name.indexOf("(")){var d=a.computedValue(b.name);d?c=c&&d==b.value:b.value&&(c=!1)}}),c}function C(a,b,c){return!(b.getAdapter(ga.ds.RAMLPropertyService).isKey()||b.getAdapter(ga.ds.RAMLPropertyService).isMerged()||b.getAdapter(la.RAMLPropertyService).isSystem())&&(!!B(a,b)&&(!c[b.nameId()]&&(!b.isAnnotation()&&!(b.nameId()==ga.universes.Universe10.TypeDeclaration.properties.allowedTargets.name&&b.domain().key()&&b.domain().key()==ga.universes.Universe10.TypeDeclaration&&a.localType()&&!a.localType().isAnnotationType()))))}function D(a,b,c,d,e){void 0===e&&(e=!0);var f=a,g=!1,i=!1,j=b.content.getText(),k=b.content.getOffset(),l=f.root()&&f.root().wrapperNode(),m=l&&l.mediaType&&l.mediaType()&&l.mediaType().length>0,n=m&&f.property&&f.property()&&ga.universeHelpers.isBodyProperty(f.property());if(e){var o=t(a.lowLevel().keyStart(),j);void 0==o&&(o="");var p=t(k,j),q=o.length,r=p.length;if(q==r&&a.parent()&&!n)a.property().getAdapter(ga.ds.RAMLPropertyService).isMerged()?f=f.parent():(g=!1,i=!0);else if(r>q)g=!0,r>=q+4&&(i=!0,g=!1);else if(q!==r){for(;r<=q&&f.parent();){f=f.parent();var u=t(f.lowLevel().keyStart(),j);q=u&&u.length||0}g=!0}}var v=A(k,j),w=v?": ":"",x=f.definition().allProperties(),y={};if(f.attrs().forEach(function(a){y[a.name()]=!0}),x=x.filter(function(a){return C(f,a,y)}),f.definition().isAssignableFrom(ga.universes.Universe10.TypeDeclaration.name)&&!f.definition().isAssignableFrom("ObjectTypeDeclaration")&&!f.attr("type")){var z=f.definition().universe().type("ObjectTypeDeclaration");z&&x.push(z.property("properties"))}var B=[];return c&&!n||i||(B=x.map(function(b){var c=b.nameId()+w;return b.range().isAssignableFrom(ja.Universe10.ExampleSpec.name)?c=c.trim():!b.range().hasValueTypeInHierarchy()&&v&&(c+="\n"+s(k,j)+"  "),{text:c,displayText:b.nameId(),description:b.description(),category:h(b.nameId(),a.definition(),b.range())}})),d&&f.definition().allProperties().filter(function(a){return a.getAdapter(ga.ds.RAMLPropertyService).isMerged()||a.isFromParentKey()}).forEach(function(a){if((!i||a.isFromParentKey())&&(!g||!a.isFromParentKey())){var c=a,d=a.getOftenKeys();if(!d){var e=a.suggester();e&&(d=e(f))}d||(d=a.enumOptions()),f.property()&&ga.universeHelpers.isBodyProperty(f.property())&&(d||(ga.universeHelpers.isResponseType(f.property().domain())&&(d=["application/json","application/xml"]),(ga.universeHelpers.isMethodBaseType(f.property().domain())||ga.universeHelpers.isMethodType(f.property().domain()))&&(d=["application/json","application/xml","multipart/form-data","application/x-www-form-urlencoded"]))),d&&d.forEach(function(a){var d=a,e=c.valueDocProvider(),g="";e&&(g=e(a));var i=a.indexOf("/")>=0,l=b.valuePrefix()&&b.valuePrefix().indexOf("/")>=0,m=l?a.replace(b.valuePrefix(),""):a,n=m+(v?":\n"+s(k,j)+"  ":""),o=i?b.valuePrefix():null;B.push({text:n,description:g,displayText:a,prefix:l?o:null,category:h(d,f.definition(),c.range())})})}}),B}function E(a){return"'"===a||'"'===a}function F(a){var b=a.content.getText(),c=a.content.getOffset(),d=a.prefix(),e=b.substring(0,c),f=e.substring(e.lastIndexOf(":")+1).trim();if(!f.length)return!1;if(","===f[f.length-1]&&f.indexOf("[")<0)return!0;if(" "===e[e.length-1]){if(/^\w$/.test(f[f.length-1]))return!0;if(","===f[f.length-1]&&f.indexOf("[")<0)return!0}if(/^\w+$/.test(d)){if(f=f.substring(0,f.lastIndexOf(d)).trim(),/^\w$/.test(f[f.length-1]))return!0;if(","===f[f.length-1]&&f.indexOf("[")<0)return!0}return!!E(f[f.length-1])}function G(a,b,c,d){var e=a,f=c.content.getText(),g=c.content.getOffset();if(F(c))return[];if(b){var h=b.property(),i=b.value();if("object"==typeof i&&i){var j=i.toHighLevel&&i.toHighLevel()||i.highLevelNode&&i.highLevelNode();if(j)return l(d.currentRequest,d,H(j,c));if(ga.search.isExampleNodeContent(b)){var k=ga.search.findExampleContentType(b);if(k){var m=ga.search.parseDocumentationContent(b,k);if(m)return l(d.currentRequest,d,H(m,c))}}}if(h){var n=I(h,e);if(ka.isIsProperty(h)){var o=e.attributes(h.nameId()).map(function(a){return a.value()});n=n.filter(function(a){return!ma.find(o,function(b){return b===a.displayText})})}if(h.isAllowNull()?n.push({text:"null",description:"null means - that no value is allowed"}):ka.isTypeProperty(h)&&ma.find(e.definition().allSuperTypes(),function(a){return ga.universeHelpers.isTypeDeclarationType(a)})&&n.push({text:"null"}),!n||0==n.length){var p=h.getOftenKeys();if(p)return p.map(function(a){return{text:a,displayText:a}})}if(ka.isExampleProperty(h)&&ka.isBodyLikeType(e.definition())){if(!V(b.value(),g,f))return;var q=v(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./examples/",a.displayText="!include ./examples/"+a.text,a});return q=N(q,b.lowLevel().start(),f)}if(ka.isValueProperty(h)&&ka.isGlobalSchemaType(e.definition())){if(!V(b.value(),g,f))return;q=v(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./schemas/",a.displayText="!include ./schemas/"+a.text,a}),q=N(q,b.lowLevel().start(),f)}if(n)return n}return[]}if(ka.isGlobalSchemaType(e.definition())&&(q=v(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./schemas/",a.displayText="!include ./schemas/"+a.text,a}),q=N(q,e.lowLevel().start(),f)),ka.isTraitType(e.definition()))return q=v(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./traits/",a.displayText="!include ./traits/"+a.text,a}),q=O(q,e.lowLevel().start(),f);if(ka.isResourceTypeType(e.definition())){var q=v(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./resourceTypes/",a.displayText="!include ./resourceTypes/"+a.text,a});return q=O(q,e.lowLevel().start(),f)}if(ka.isSecuritySchemaType(e.definition())){var q=v(c,d.contentProvider,b,e,!0).map(function(a){return a.extra="!include ./securitySchemes/",a.displayText="!include ./securitySchemes/"+a.text,a});return q=O(q,e.lowLevel().start(),f)}return ka.isExampleSpecType(e.definition())?X(e,c,d):void 0}function H(a,b){for(var c=b.content.getText(),d=b.content.getOffset(),e=d-1;e>=0;e--){var f=c[e];{if(" "!=f&&"\t"!=f)break;d=e}}return a.findElementAtOffset(d)}function I(a,b){if(b){if(a.getAdapter(ga.ds.RAMLPropertyService).isTypeExpr()){var c,d=b.associatedType(),e=b.definition(),f=b.attr(ga.universes.Universe10.TypeDeclaration.properties.type.name),g=f&&f.value(),i=b.children()&&b.children().filter(function(a){return a.isAttr()&&ga.universeHelpers.isTypeProperty(a.property())}),j=[],k=b&&b.root&&b.root();k&&k.lowLevel()&&k.lowLevel().unit()&&j.push(k.lowLevel().unit().absolutePath()),k&&k.wrapperNode&&k.wrapperNode()&&k.wrapperNode().uses&&k.wrapperNode().uses().forEach(function(a){if(a&&a.value&&a.value()){var b=k.lowLevel().unit().resolve(a.value());b&&j.push(b.absolutePath())}});var l=ga.search.globalDeclarations(b).filter(function(f){var h=f.lowLevel().unit().absolutePath();if(j.indexOf(h)<0)return!1;if(ga.universeHelpers.isGlobalSchemaType(f.definition()))return!0;var k=f.definition().allSuperTypes();if(ma.find(k,function(a){return ga.universeHelpers.isTypeDeclarationType(a)})){if(g&&a&&a.isMultiValue()&&i&&i.length>1){if(!d)try{d=b.localType()}catch(r){console.log(r)}if(d&&!e.hasUnionInHierarchy()){var l=d.superTypes().filter(function(a){return!a.isAssignableFrom("unknown")});if(l){var m=ma.find(l,function(a){return K(a)}),n=ma.find(l,function(a){return J(a)}),o=ma.find(l,function(a){return L(a)})||e&&L(e),p=o||n;if(c=m||p,ma.find(l,function(a){return ga.search.qName(f,b)===a.nameId()}))return!1;if(c&&(J(f.definition())||L(f.definition())))return!1;if(p&&K(f.definition()))return!1}}
if(e.hasUnionInHierarchy()){var q=M(e);if(ma.find(q,function(a){return ga.search.qName(f,b)===a.nameId()}))return!1}}return!0}return ka.isTypeDeclarationType(f.definition())&&"models"===f.property().nameId()}),m=l.map(function(a){return{text:ia.qName(a,b),description:""}}),n=a.domain().universe().type("TypeDeclaration");if(n){var o=n.allSubTypes();m=m.concat(o.filter(function(a){return!c||!J(a)&&!L(a)}).map(function(a){return{text:a.getAdapter(la.RAMLService).descriminatorValue(),description:a.description()}}))}return m}if(ka.isSchemaStringType(a.range())&&"RAML10"===a.range().universe().version()){var l=ia.globalDeclarations(b).filter(function(a){if(ka.isGlobalSchemaType(a.definition()))return!0;var b=a.definition().allSuperTypes();return!!ma.find(b,function(a){return ka.isTypeDeclarationType(a)})||ka.isTypeDeclarationType(a.definition())&&"models"===a.property().nameId()}),m=l.map(function(a){return{text:ia.qName(a,b),description:""}}),o=ia.subTypesWithLocals(a.domain().universe().type("TypeDeclaration"),b);return m=m.concat(o.map(function(a){return{text:a.getAdapter(la.RAMLService).descriminatorValue(),description:a.description()}}))}if(a.isDescriminator()){var o=ia.subTypesWithLocals(a.domain(),b);return o.map(function(b){var c=b.getAdapter(la.RAMLService).descriminatorValue();return{text:c,description:b.description(),category:h(c,a.domain(),null)}})}if(a.isReference())return ia.nodesDeclaringType(a.referencesTo(),b).map(function(a){return W(a,b)});if(a.range().hasValueTypeInHierarchy()){var p=a.range().getAdapter(la.RAMLService);if(p.globallyDeclaredBy().length>0){var l=ia.globalDeclarations(b).filter(function(a){var b=a.definition();return null!=ma.find(p.globallyDeclaredBy(),function(a){return a==b})});return l.map(function(a){return W(a,b)})}if(ka.isBooleanTypeType(a.range()))return["false","true"].map(function(a){return{text:a}});var q=a.node&&a.node();if(q){return ma.filter(q.children(),function(a){return a.name&&a.value&&a.property()&&ka.isEnumProperty(a.property())}).map(function(a){return{text:a.value()}})}}}return ia.enumValues(a,b).map(function(a){return{text:a,category:h(a,b&&b.definition(),null)}})}function J(a){return!a.isArray()&&!K(a)&&!a.hasUnionInHierarchy()&&a.key()!==ja.Universe10.TypeDeclaration}function K(a){return a.isAssignableFrom(ja.Universe10.ObjectTypeDeclaration.name)||a.isAssignableFrom("object")}function L(a){return a.isAssignableFrom(ja.Universe10.ArrayTypeDeclaration.name)}function M(a){var b=[];return a&&a.isUnion()?a.left?(b.push(a.left),b.concat(M(a.right))):void 0:a?[a]:b}function N(a,b,c){return a=[{displayText:"Define Inline",text:"|\n"+P(b-1,c)+"  "}].concat(a)}function O(a,b,c){return a=[{displayText:"Define Inline",text:"\n"+P(b-1,c)+"  "}].concat(a)}function P(a,b){for(var c="";a>0;){var d=b[a];if("\r"==d||"\n"==d||" "!=d&&"-"!=d)break;c+=" ",a--}return c}function Q(a){return a.text?a.text:a.snippet?a.snippet:a.displayText}function R(a,b){return a.text?void(a.text=b):a.snippet?void(a.snippet=b):void(a.displayText=b)}function S(a,b){var c=a.parent&&a.parent();if(!c)return!1;var d=a.name&&a.name();if(!d)return!1;var e=c.attributes&&c.attributes(d);if(!e)return!1;if(0===e.length)return!1;var f=[];return e.forEach(function(a){var b=a.value&&a.value()&&a.value().valueName&&a.value().valueName();b&&f.push(b)}),ma.find(f,function(a){return b===a})}function T(a){return!!a&&(!!a.definition()&&(!!a.property()&&!!a.definition().isAssignableFrom(ja.Universe10.TraitRef.name)))}function U(a){var b=a&&a.definition?a.definition():null;if(b){var c=b.nameId();if("Api"===c)return!1;if("ResourceType"===c||"Trait"===c)return!0;var d=a.parent();return!!d&&U(d)}return!1}function V(a,b,c){if(a&&a.length>0){var d=a.trim();if(0==d.indexOf("{"))return!1;if(0==d.indexOf("<"))return!1;if(0==d.indexOf("["))return!1}for(var e=b;e>=0;e--){var f=c[e];if(":"==f)return!0;if("|"==f)return!1;if("'"==f)return!1;if('"'==f)return!1}return!0}function W(a,b){var c=!1,d=a.attr("description"),e="";d?e=d.value():(d=a.attr("usage"))&&(e=d.value());var f=a.localType(),g=f.allProperties().filter(function(a){return a.isRequired()&&!a.getAdapter(la.RAMLPropertyService).isKey()}),h=ia.qName(a,b);if(!ka.isAnnotationTypeType(a.definition())&&g.length>0){h+=": {",h+=g.map(function(a){return a.nameId()+" : "}).join(", ")+"}";var i="";ka.isResourceTypeType(a.definition())&&(h+=" }",i=" { ",c=!0)}return{displayText:ia.qName(a,b),snippet:h,description:e,extra:i,isResourceType:c}}function X(a,b,c){if(!ia.isExampleNode(a))return[];var d=ia.findExampleContentType(a);if(!d)return[];var e=ia.parseStructuredExample(a,d);if(!e)return[];var f=a&&a.lowLevel()&&a.lowLevel().unit()&&a.lowLevel().unit().project();return l(b,c,H(e,b),f)}function Y(a,b){var c=Z(a,b),d=[],e=[];return c.forEach(function(a){var b=ba(a);d.indexOf(b)<0&&(e.push(a),d.push(b))}),e}function Z(a,b){var c,d,e,f,g;if(null!=a){for(c&&(a=a.map(function(a){var b,c,d;return b={text:null!=(c=a.text)?c:a.word,snippet:a.snippet,replacementPrefix:null!=(d=a.replacementPrefix)?d:a.prefix,className:a.className,type:a.type},null==b.rightLabelHTML&&a.renderLabelAsHtml&&(b.rightLabelHTML=a.label),null!=b.rightLabel||a.renderLabelAsHtml||(b.rightLabel=a.label),b})),d=!1,f=0,g=a.length;f<g;f++)e=a[f],e.snippet||e.text||(d=!0),null==e.replacementPrefix&&(e.replacementPrefix=aa(b.prefix()));return d&&(a=function(){var b,c,d;for(d=[],b=0,c=a.length;b<c;b++)e=a[b],(e.snippet||e.text)&&d.push(e);return d}()),a=$(a,b)}}function $(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;for(e=b.prefix(),g=[],d=l=0,m=a.length;l<m;d=++l)i=a[d],i.sortScore=Math.max(-d/10+3,0)+1,i.score=null,k=i.snippet||i.text,j=null!=(n=i.replacementPrefix)?n:e,f=!j||" "===j,c=!f&&j[0].toLowerCase()===k[0].toLowerCase(),f&&g.push(i),c&&(h=ua.score(k,j))>0&&(i.score=h*i.sortScore,g.push(i));return g.sort(_),g}function _(a,b){var c,d;return(null!=(c=b.score)?c:b.sortScore)-(null!=(d=a.score)?d:a.sortScore)}function aa(a){return va.test(a)?a:""}function ba(a){return a&&(a.displayText||a.text)||null}function ca(a){var b,c;return b=da(a),(null!=(c=wa.exec(b))?c[2]:void 0)||""}function da(a){for(var b=a.content.getOffset(),c=a.content.getText(),d=b-1;d>=0;d--){var e=c.charAt(d);if("\r"===e||"\n"===e||" "===e||"\t"===e)return c.substring(d+1,b)}return""}function ea(a){return new xa(a)}function fa(a,b){var c=a.lastIndexOf("\n",b);c=Math.max(0,c);var d=a.substring(c,b),e=d.trim();return d.indexOf(e)}Object.defineProperty(c,"__esModule",{value:!0});var ga=window.RAML.Parser,ha=ga.ds,ia=ga.search,ja=ga.universes,ka=ga.universeHelpers,la=ha,ma=a("underscore"),na=a("./logger"),oa=a("../resources/categories.json"),pa=null;c.setLogger=d;var qa=function(){function a(a){this.async=!1,this.content=a}return a.prototype.prefix=function(){return void 0!==this.prefixValue?this.prefixValue:ca(this)},a.prototype.setPrefix=function(a){this.prefixValue=a},a.prototype.valuePrefix=function(){for(var a=this.content.getOffset(),b=this.content.getText(),c=a-1;c>=0;c--){var d=b.charAt(c);if("\r"===d||"\n"===d||" "===d||"\t"===d||'"'===d||"'"===d||":"===d||"("===d)return b.substring(c+1,a)}return""},a}();c.CompletionRequest=qa;var ra=function(){function a(a,b){void 0===b&&(b=null),this.currentRequest=null,this.astProvider=null,this.level=0,this.contentProvider=a}return a.prototype.suggest=function(a,b){void 0===b&&(b=!1);var c=j(a,this);return b?Y(c,a):c},a.prototype.suggestAsync=function(a,b){return void 0===b&&(b=!1),k(a,this).then(function(c){return b?Y(c,a):c},function(a){return a})},a}();c.CompletionProvider=ra,c.suggest=f,c.suggestAsync=g,c.valueCompletion=G;var sa=ga.utils.getTransformerNames(),ta=function(a,b){var c=[];return sa.filter(function(a){return 0===a.indexOf(b)}).forEach(function(a){c.push({displayText:a,text:a})}),c.concat(a)};c.postProcess=Y;var ua=a("fuzzaldrin-plus"),va=/^\w+[\w-]*$/,wa=/(\b|['"~`!@#\$%^&*\(\)\{\}\[\]=\+,\/\?>])((\w+[\w-]*)|([.:;[{(< ]+))$/;c.getPrefix=ca;var xa=function(){function a(a){this.resolver=a,this.fsResolver=a}return a.prototype.content=function(a){return this.resolver.content(a)},a.prototype.contentAsync=function(a){return this.resolver.contentAsync(a)},a.prototype.contentDirName=function(a){return this.resolver.dirname(a.getPath())},a.prototype.dirName=function(a){return this.resolver.dirname(a)},a.prototype.exists=function(a){return this.resolver.exists(a)},a.prototype.resolve=function(a,b){return this.resolver.resolve(a,b)},a.prototype.isDirectory=function(a){return this.resolver.isDirectory(a)},a.prototype.isDirectoryAsync=function(a){return this.resolver.isDirectoryAsync(a)},a.prototype.readDir=function(a){return this.resolver.list(a)},a.prototype.existsAsync=function(a){return this.resolver.existsAsync(a)},a.prototype.readDirAsync=function(a){return this.resolver.listAsync(a)},a}(),ya=function(){function a(a){this.provider=a}return a.prototype.content=function(a){return this.provider.content(a)},a.prototype.contentAsync=function(a){return this.provider.contentAsync(a)},a.prototype.list=function(a){return this.provider.readDir(a)},a.prototype.exists=function(a){return this.provider.exists(a)},a.prototype.dirname=function(a){return this.provider.dirName(a)},a.prototype.resolve=function(a,b){return this.provider.resolve(a,b)},a.prototype.extname=function(a){var b=a.lastIndexOf(".");return-1===b||b===a.length-1?null:a.substring(b+1)},a.prototype.isDirectory=function(a){return this.provider.isDirectory(a)},a.prototype.isDirectoryAsync=function(a){return this.provider.isDirectoryAsync(a)},a.prototype.existsAsync=function(a){return this.provider.existsAsync(a)},a.prototype.listAsync=function(a){return this.provider.readDirAsync(a)},a}();c.getContentProvider=ea},{"../resources/categories.json":12,"./logger":11,"fuzzaldrin-plus":2,underscore:13}],10:[function(a,b,c){"use strict";function d(a){m=a}function e(a){n=a}function f(a){o=a}function g(){return l.suggest(m,o)}function h(a,b){return l.suggest(a,b)}function i(a,b){return l.suggestAsync(a,b)}function j(a){return l.getContentProvider(a)}function k(a){l.setLogger(a)}Object.defineProperty(c,"__esModule",{value:!0});var l=a("./completionProvider"),m=null,n=null;c.setDefaultEditorStateProvider=d,c.setDefaultASTProvider=e;var o=null;c.setDefaultFSProvider=f,c.suggestDefault=g,c.suggest=h,c.suggestAsync=i,c.getContentProvider=j,c.setLogger=k},{"./completionProvider":9}],11:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});!function(a){a[a.DEBUG_DETAIL=0]="DEBUG_DETAIL",a[a.DEBUG=1]="DEBUG",a[a.DEBUG_OVERVIEW=2]="DEBUG_OVERVIEW",a[a.WARNING=3]="WARNING",a[a.ERROR=4]="ERROR"}(c.MessageSeverity||(c.MessageSeverity={}));var d=function(){function a(){}return a.prototype.log=function(a,b,c,d){},a.prototype.debug=function(a,b,c){},a.prototype.debugDetail=function(a,b,c){},a.prototype.debugOverview=function(a,b,c){},a.prototype.warning=function(a,b,c){},a.prototype.error=function(a,b,c){},a.prototype.setLoggerConfiguration=function(a){},a}();c.EmptyLogger=d},{}],12:[function(a,b,c){b.exports={docs:{description:{is:["Universe10.MarkdownString","Universe08.MarkdownString"]},displayName:{parentIs:["Universe10.ExampleSpec","Universe10.TypeDeclaration","Universe10.Trait","Universe10.MethodBase","Universe10.AbstractSecurityScheme","Universe10.ResourceType","Universe10.Resource","Universe08.Parameter","Universe08.Resource","Universe08.ResourceType","Universe08.Trait"]},example:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter","Universe08.BodyLike","Universe08.XMLBody","Universe08.JSONBody"]},usage:{parentIs:["Universe10.Library","Universe10.Overlay","Universe10.Extension","Universe10.Trait","Universe10.ResourceType","Universe08.ResourceType","Universe08.Trait"]},content:{parentIs:["Universe10.DocumentationItem","Universe08.DocumentationItem"]},documentation:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},title:{parentIs:["Universe10.DocumentationItem","Universe08.DocumentationItem"]}},parameters:{default:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},enum:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},maximum:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},minimum:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},maxLength:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},minLength:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},required:{parentIs:["Universe10.TypeDeclaration","Universe08.Parameter"]},baseUriParameters:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api","Universe08.Resource","Universe08.ResourceType","Universe08.MethodBase","Universe08.Trait","Universe08.AbstractSecurityScheme"]},uriParameters:{parentIs:["Universe10.ResourceType","Universe10.ResourceBase","Universe10.Resource","Universe08.Api","Universe08.Resource","Universe08.ResourceType"]},headers:{parentIs:["Universe10.Response","Universe10.Trait","Universe10.MethodBase","Universe10.Operation","Universe10.AbstractSecurityScheme","Universe08.Response","Universe08.MethodBase","Universe08.Trait","Universe08.AbstractSecurityScheme"]},queryParameters:{parentIs:["Universe10.Trait","Universe10.MethodBase","Universe10.Operation","Universe10.AbstractSecurityScheme","Universe08.MethodBase","Universe08.Trait","Universe08.AbstractSecurityScheme"]},type:{parentIs:["Universe08.Parameter"]}},schemas:{schema:{parentIs:["Universe10.TypeDeclaration","Universe08.BodyLike","Universe08.XMLBody","Universe08.JSONBody"]},schemas:{parentIs:["Universe10.Library","Universe10.LibraryBase","Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]}},root:{baseUri:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},mediaType:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},protocols:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe10.Trait","Universe10.MethodBase","Universe08.Api","Universe08.MethodBase","Universe08.Trait","Universe08.AbstractSecurityScheme"]},version:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},title:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]}},responses:{responses:{parentIs:["Universe10.Trait","Universe10.MethodBase","Universe10.Operation","Universe10.AbstractSecurityScheme","Universe08.MethodBase","Universe08.Trait","Universe08.AbstractSecurityScheme"]}},response:{body:{parentIs:["Universe10.Response","Universe08.Response"]}},security:{securedBy:{is:["Universe10.SecuritySchemeRef","Universe08.SecuritySchemeRef"]},securitySchemes:{parentIs:["Universe10.Library","Universe10.LibraryBase","Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},accessTokenUri:{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},authorizationGrants:{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},authorizationUri:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},requestTokenUri:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},scopes:{parentIs:["Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},describedBy:{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},settings:{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},"OAuth 1.0":{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},"OAuth 2.0":{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},"Basic Authentication":{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},"Digest Authentication":{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]},type:{parentIs:["Universe10.AbstractSecurityScheme","Universe08.AbstractSecurityScheme"]}},"types and traits":{type:{parentIs:["Universe10.ResourceType","Universe10.ResourceBase","Universe10.Resource","Universe08.Resource","Universe08.ResourceType"]},is:{is:["Universe10.TraitRef","Universe08.TraitRef"]},resourceTypes:{parentIs:["Universe10.Library","Universe10.LibraryBase","Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]},traits:{parentIs:["Universe10.Library","Universe10.LibraryBase","Universe10.Api","Universe10.Overlay","Universe10.Extension","Universe08.Api"]}},methods:{options:{is:["Universe10.MethodBase","Universe08.MethodBase"]},get:{is:["Universe10.MethodBase","Universe08.MethodBase"]},head:{is:["Universe10.MethodBase","Universe08.MethodBase"]},post:{is:["Universe10.MethodBase","Universe08.MethodBase"]},put:{is:["Universe10.MethodBase","Universe08.MethodBase"]},delete:{is:["Universe10.MethodBase","Universe08.MethodBase"]},trace:{is:["Universe10.MethodBase","Universe08.MethodBase"]},connect:{is:["Universe10.MethodBase","Universe08.MethodBase"]},patch:{is:["Universe10.MethodBase","Universe08.MethodBase"]}},protocols:{HTTP:{parentIs:["Universe10.MethodBase","Universe08.MethodBase"]},HTTPS:{parentIs:["Universe10.MethodBase","Universe08.MethodBase"]}},body:{"application/json":{parentIs:["Universe10.TypeDeclaration","Universe08.BodyLike"]},"application/x-www-form-urlencoded":{parentIs:["Universe10.TypeDeclaration","Universe08.BodyLike"]},"application/xml":{parentIs:["Universe10.TypeDeclaration","Universe08.BodyLike"]},"multipart/form-data":{parentIs:["Universe10.TypeDeclaration","Universe08.BodyLike"]},body:{parentIs:["Universe10.MethodBase","Universe08.MethodBase"]}}}},{}],13:[function(a,b,c){(function(a){!function(){var d="object"==typeof self&&self.self===self&&self||"object"==typeof a&&a.global===a&&a||this||{},e=d._,f=Array.prototype,g=Object.prototype,h="undefined"!=typeof Symbol?Symbol.prototype:null,i=f.push,j=f.slice,k=g.toString,l=g.hasOwnProperty,m=Array.isArray,n=Object.keys,o=Object.create,p=function(){},q=function(a){return a instanceof q?a:this instanceof q?void(this._wrapped=a):new q(a)};void 0===c||c.nodeType?d._=q:(void 0!==b&&!b.nodeType&&b.exports&&(c=b.exports=q),c._=q),q.VERSION="1.9.1";var r,s=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},t=function(a,b,c){return q.iteratee!==r?q.iteratee(a,b):null==a?q.identity:q.isFunction(a)?s(a,b,c):q.isObject(a)&&!q.isArray(a)?q.matcher(a):q.property(a)};q.iteratee=r=function(a,b){return t(a,b,1/0)};var u=function(a,b){return b=null==b?a.length-1:+b,function(){for(var c=Math.max(arguments.length-b,0),d=Array(c),e=0;e<c;e++)d[e]=arguments[e+b];switch(b){case 0:return a.call(this,d);case 1:return a.call(this,arguments[0],d);case 2:return a.call(this,arguments[0],arguments[1],d)}var f=Array(b+1);for(e=0;e<b;e++)f[e]=arguments[e];return f[b]=d,a.apply(this,f)}},v=function(a){if(!q.isObject(a))return{};if(o)return o(a);p.prototype=a;var b=new p;return p.prototype=null,b},w=function(a){return function(b){return null==b?void 0:b[a]}},x=function(a,b){return null!=a&&l.call(a,b)},y=function(a,b){for(var c=b.length,d=0;d<c;d++){if(null==a)return;a=a[b[d]]}return c?a:void 0},z=Math.pow(2,53)-1,A=w("length"),B=function(a){var b=A(a);return"number"==typeof b&&b>=0&&b<=z};q.each=q.forEach=function(a,b,c){b=s(b,c);var d,e;if(B(a))for(d=0,e=a.length;d<e;d++)b(a[d],d,a);else{var f=q.keys(a);for(d=0,e=f.length;d<e;d++)b(a[f[d]],f[d],a)}return a},q.map=q.collect=function(a,b,c){b=t(b,c);for(var d=!B(a)&&q.keys(a),e=(d||a).length,f=Array(e),g=0;g<e;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f};var C=function(a){var b=function(b,c,d,e){var f=!B(b)&&q.keys(b),g=(f||b).length,h=a>0?0:g-1;for(e||(d=b[f?f[h]:h],h+=a);h>=0&&h<g;h+=a){var i=f?f[h]:h;d=c(d,b[i],i,b)}return d};return function(a,c,d,e){var f=arguments.length>=3;return b(a,s(c,e,4),d,f)}};q.reduce=q.foldl=q.inject=C(1),q.reduceRight=q.foldr=C(-1),q.find=q.detect=function(a,b,c){var d=B(a)?q.findIndex:q.findKey,e=d(a,b,c);if(void 0!==e&&-1!==e)return a[e]},q.filter=q.select=function(a,b,c){var d=[];return b=t(b,c),q.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},q.reject=function(a,b,c){return q.filter(a,q.negate(t(b)),c)},q.every=q.all=function(a,b,c){b=t(b,c);for(var d=!B(a)&&q.keys(a),e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},q.some=q.any=function(a,b,c){b=t(b,c);for(var d=!B(a)&&q.keys(a),e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},q.contains=q.includes=q.include=function(a,b,c,d){return B(a)||(a=q.values(a)),("number"!=typeof c||d)&&(c=0),q.indexOf(a,b,c)>=0},q.invoke=u(function(a,b,c){var d,e;return q.isFunction(b)?e=b:q.isArray(b)&&(d=b.slice(0,-1),b=b[b.length-1]),q.map(a,function(a){var f=e;if(!f){if(d&&d.length&&(a=y(a,d)),null==a)return;f=a[b]}return null==f?f:f.apply(a,c)})}),q.pluck=function(a,b){return q.map(a,q.property(b))},q.where=function(a,b){return q.filter(a,q.matcher(b))},q.findWhere=function(a,b){return q.find(a,q.matcher(b))},q.max=function(a,b,c){var d,e,f=-1/0,g=-1/0;if(null==b||"number"==typeof b&&"object"!=typeof a[0]&&null!=a){a=B(a)?a:q.values(a);for(var h=0,i=a.length;h<i;h++)null!=(d=a[h])&&d>f&&(f=d)}else b=t(b,c),q.each(a,function(a,c,d){((e=b(a,c,d))>g||e===-1/0&&f===-1/0)&&(f=a,g=e)});return f},q.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b||"number"==typeof b&&"object"!=typeof a[0]&&null!=a){a=B(a)?a:q.values(a);for(var h=0,i=a.length;h<i;h++)null!=(d=a[h])&&d<f&&(f=d)}else b=t(b,c),q.each(a,function(a,c,d){((e=b(a,c,d))<g||e===1/0&&f===1/0)&&(f=a,g=e)});return f},q.shuffle=function(a){return q.sample(a,1/0)},q.sample=function(a,b,c){if(null==b||c)return B(a)||(a=q.values(a)),a[q.random(a.length-1)];var d=B(a)?q.clone(a):q.values(a),e=A(d);b=Math.max(Math.min(b,e),0);for(var f=e-1,g=0;g<b;g++){var h=q.random(g,f),i=d[g];d[g]=d[h],d[h]=i}return d.slice(0,b)},q.sortBy=function(a,b,c){var d=0;return b=t(b,c),q.pluck(q.map(a,function(a,c,e){return{value:a,index:d++,criteria:b(a,c,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var D=function(a,b){return function(c,d,e){var f=b?[[],[]]:{};return d=t(d,e),q.each(c,function(b,e){var g=d(b,e,c);a(f,b,g)}),f}};q.groupBy=D(function(a,b,c){x(a,c)?a[c].push(b):a[c]=[b]}),q.indexBy=D(function(a,b,c){a[c]=b}),q.countBy=D(function(a,b,c){x(a,c)?a[c]++:a[c]=1});var E=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;q.toArray=function(a){return a?q.isArray(a)?j.call(a):q.isString(a)?a.match(E):B(a)?q.map(a,q.identity):q.values(a):[]},q.size=function(a){return null==a?0:B(a)?a.length:q.keys(a).length},q.partition=D(function(a,b,c){a[c?0:1].push(b)},!0),q.first=q.head=q.take=function(a,b,c){return null==a||a.length<1?null==b?void 0:[]:null==b||c?a[0]:q.initial(a,a.length-b)},q.initial=function(a,b,c){return j.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},q.last=function(a,b,c){return null==a||a.length<1?null==b?void 0:[]:null==b||c?a[a.length-1]:q.rest(a,Math.max(0,a.length-b))},q.rest=q.tail=q.drop=function(a,b,c){return j.call(a,null==b||c?1:b)},q.compact=function(a){return q.filter(a,Boolean)};var F=function(a,b,c,d){d=d||[];for(var e=d.length,f=0,g=A(a);f<g;f++){var h=a[f];if(B(h)&&(q.isArray(h)||q.isArguments(h)))if(b)for(var i=0,j=h.length;i<j;)d[e++]=h[i++];else F(h,b,c,d),e=d.length;else c||(d[e++]=h)}return d};q.flatten=function(a,b){return F(a,b,!1)},q.without=u(function(a,b){return q.difference(a,b)}),q.uniq=q.unique=function(a,b,c,d){q.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=t(c,d));for(var e=[],f=[],g=0,h=A(a);g<h;g++){var i=a[g],j=c?c(i,g,a):i;b&&!c?(g&&f===j||e.push(i),f=j):c?q.contains(f,j)||(f.push(j),e.push(i)):q.contains(e,i)||e.push(i)}return e},q.union=u(function(a){return q.uniq(F(a,!0,!0))}),q.intersection=function(a){for(var b=[],c=arguments.length,d=0,e=A(a);d<e;d++){var f=a[d];if(!q.contains(b,f)){var g;for(g=1;g<c&&q.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},q.difference=u(function(a,b){return b=F(b,!0,!0),q.filter(a,function(a){return!q.contains(b,a)})}),q.unzip=function(a){for(var b=a&&q.max(a,A).length||0,c=Array(b),d=0;d<b;d++)c[d]=q.pluck(a,d);return c},q.zip=u(q.unzip),q.object=function(a,b){for(var c={},d=0,e=A(a);d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};var G=function(a){return function(b,c,d){c=t(c,d);for(var e=A(b),f=a>0?0:e-1;f>=0&&f<e;f+=a)if(c(b[f],f,b))return f;return-1}};q.findIndex=G(1),q.findLastIndex=G(-1),q.sortedIndex=function(a,b,c,d){c=t(c,d,1);for(var e=c(b),f=0,g=A(a);f<g;){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f};var H=function(a,b,c){return function(d,e,f){var g=0,h=A(d);if("number"==typeof f)a>0?g=f>=0?f:Math.max(f+h,g):h=f>=0?Math.min(f+1,h):f+h+1;else if(c&&f&&h)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(j.call(d,g,h),q.isNaN),f>=0?f+g:-1;for(f=a>0?g:h-1;f>=0&&f<h;f+=a)if(d[f]===e)return f;return-1}};q.indexOf=H(1,q.findIndex,q.sortedIndex),q.lastIndexOf=H(-1,q.findLastIndex),q.range=function(a,b,c){null==b&&(b=a||0,a=0),c||(c=b<a?-1:1);for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;f<d;f++,a+=c)e[f]=a;return e},q.chunk=function(a,b){if(null==b||b<1)return[];for(var c=[],d=0,e=a.length;d<e;)c.push(j.call(a,d,d+=b));return c};var I=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=v(a.prototype),g=a.apply(f,e);return q.isObject(g)?g:f};q.bind=u(function(a,b,c){if(!q.isFunction(a))throw new TypeError("Bind must be called on a function");var d=u(function(e){return I(a,d,b,this,c.concat(e))});return d}),q.partial=u(function(a,b){var c=q.partial.placeholder,d=function(){for(var e=0,f=b.length,g=Array(f),h=0;h<f;h++)g[h]=b[h]===c?arguments[e++]:b[h];for(;e<arguments.length;)g.push(arguments[e++]);return I(a,d,this,this,g)};return d}),q.partial.placeholder=q,q.bindAll=u(function(a,b){b=F(b,!1,!1);var c=b.length;if(c<1)throw new Error("bindAll must be passed function names");for(;c--;){var d=b[c];a[d]=q.bind(a[d],a)}}),q.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return x(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},q.delay=u(function(a,b,c){return setTimeout(function(){return a.apply(null,c)},b)}),q.defer=q.partial(q.delay,q,1),q.throttle=function(a,b,c){var d,e,f,g,h=0;c||(c={});var i=function(){h=!1===c.leading?0:q.now(),d=null,g=a.apply(e,f),d||(e=f=null)},j=function(){var j=q.now();h||!1!==c.leading||(h=j);var k=b-(j-h);return e=this,f=arguments,k<=0||k>b?(d&&(clearTimeout(d),d=null),h=j,g=a.apply(e,f),d||(e=f=null)):d||!1===c.trailing||(d=setTimeout(i,k)),g};return j.cancel=function(){clearTimeout(d),h=0,d=e=f=null},j},q.debounce=function(a,b,c){var d,e,f=function(b,c){d=null,c&&(e=a.apply(b,c))},g=u(function(g){if(d&&clearTimeout(d),c){var h=!d;d=setTimeout(f,b),h&&(e=a.apply(this,g))}else d=q.delay(f,b,this,g);return e});return g.cancel=function(){clearTimeout(d),d=null},g},q.wrap=function(a,b){return q.partial(b,a)},q.negate=function(a){return function(){return!a.apply(this,arguments)}},q.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},q.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}},q.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),a<=1&&(b=null),c}},q.once=q.partial(q.before,2),q.restArguments=u;var J=!{toString:null}.propertyIsEnumerable("toString"),K=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],L=function(a,b){var c=K.length,d=a.constructor,e=q.isFunction(d)&&d.prototype||g,f="constructor";for(x(a,f)&&!q.contains(b,f)&&b.push(f);c--;)(f=K[c])in a&&a[f]!==e[f]&&!q.contains(b,f)&&b.push(f)};q.keys=function(a){if(!q.isObject(a))return[];if(n)return n(a);var b=[];for(var c in a)x(a,c)&&b.push(c);return J&&L(a,b),b},q.allKeys=function(a){if(!q.isObject(a))return[];var b=[];for(var c in a)b.push(c);return J&&L(a,b),b},q.values=function(a){for(var b=q.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=a[b[e]];return d},q.mapObject=function(a,b,c){b=t(b,c);for(var d=q.keys(a),e=d.length,f={},g=0;g<e;g++){var h=d[g];f[h]=b(a[h],h,a)}return f},q.pairs=function(a){for(var b=q.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d},q.invert=function(a){for(var b={},c=q.keys(a),d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b},q.functions=q.methods=function(a){var b=[];for(var c in a)q.isFunction(a[c])&&b.push(c);return b.sort()};var M=function(a,b){return function(c){var d=arguments.length;if(b&&(c=Object(c)),d<2||null==c)return c;for(var e=1;e<d;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;i<h;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}};q.extend=M(q.allKeys),q.extendOwn=q.assign=M(q.keys),q.findKey=function(a,b,c){b=t(b,c);for(var d,e=q.keys(a),f=0,g=e.length;f<g;f++)if(d=e[f],b(a[d],d,a))return d};var N=function(a,b,c){return b in c};q.pick=u(function(a,b){var c={},d=b[0];if(null==a)return c;q.isFunction(d)?(b.length>1&&(d=s(d,b[1])),b=q.allKeys(a)):(d=N,b=F(b,!1,!1),a=Object(a));for(var e=0,f=b.length;e<f;e++){var g=b[e],h=a[g];d(h,g,a)&&(c[g]=h)}return c}),q.omit=u(function(a,b){var c,d=b[0];return q.isFunction(d)?(d=q.negate(d),b.length>1&&(c=b[1])):(b=q.map(F(b,!1,!1),String),d=function(a,c){return!q.contains(b,c)}),q.pick(a,d,c)}),q.defaults=M(q.allKeys,!0),q.create=function(a,b){var c=v(a);return b&&q.extendOwn(c,b),c},q.clone=function(a){return q.isObject(a)?q.isArray(a)?a.slice():q.extend({},a):a},q.tap=function(a,b){return b(a),a},q.isMatch=function(a,b){var c=q.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;f<d;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0};var O,P;O=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return!1;if(a!==a)return b!==b;var e=typeof a;return("function"===e||"object"===e||"object"==typeof b)&&P(a,b,c,d)},P=function(a,b,c,d){a instanceof q&&(a=a._wrapped),b instanceof q&&(b=b._wrapped);var e=k.call(a);if(e!==k.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!=+a?+b!=+b:0==+a?1/+a==1/b:+a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object Symbol]":return h.valueOf.call(a)===h.valueOf.call(b)}var f="[object Array]"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,i=b.constructor;if(g!==i&&!(q.isFunction(g)&&g instanceof g&&q.isFunction(i)&&i instanceof i)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];for(var j=c.length;j--;)if(c[j]===a)return d[j]===b;if(c.push(a),d.push(b),f){if((j=a.length)!==b.length)return!1;for(;j--;)if(!O(a[j],b[j],c,d))return!1}else{var l,m=q.keys(a);if(j=m.length,q.keys(b).length!==j)return!1;for(;j--;)if(l=m[j],!x(b,l)||!O(a[l],b[l],c,d))return!1}return c.pop(),d.pop(),!0},q.isEqual=function(a,b){return O(a,b)},q.isEmpty=function(a){return null==a||(B(a)&&(q.isArray(a)||q.isString(a)||q.isArguments(a))?0===a.length:0===q.keys(a).length)},q.isElement=function(a){return!(!a||1!==a.nodeType)},q.isArray=m||function(a){return"[object Array]"===k.call(a)},q.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},q.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(a){q["is"+a]=function(b){return k.call(b)==="[object "+a+"]"}}),q.isArguments(arguments)||(q.isArguments=function(a){return x(a,"callee")});var Q=d.document&&d.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Q&&(q.isFunction=function(a){return"function"==typeof a||!1}),q.isFinite=function(a){return!q.isSymbol(a)&&isFinite(a)&&!isNaN(parseFloat(a))},q.isNaN=function(a){return q.isNumber(a)&&isNaN(a)},
q.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===k.call(a)},q.isNull=function(a){return null===a},q.isUndefined=function(a){return void 0===a},q.has=function(a,b){if(!q.isArray(b))return x(a,b);for(var c=b.length,d=0;d<c;d++){var e=b[d];if(null==a||!l.call(a,e))return!1;a=a[e]}return!!c},q.noConflict=function(){return d._=e,this},q.identity=function(a){return a},q.constant=function(a){return function(){return a}},q.noop=function(){},q.property=function(a){return q.isArray(a)?function(b){return y(b,a)}:w(a)},q.propertyOf=function(a){return null==a?function(){}:function(b){return q.isArray(b)?y(a,b):a[b]}},q.matcher=q.matches=function(a){return a=q.extendOwn({},a),function(b){return q.isMatch(b,a)}},q.times=function(a,b,c){var d=Array(Math.max(0,a));b=s(b,c,1);for(var e=0;e<a;e++)d[e]=b(e);return d},q.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},q.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},S=q.invert(R),T=function(a){var b=function(b){return a[b]},c="(?:"+q.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};q.escape=T(R),q.unescape=T(S),q.result=function(a,b,c){q.isArray(b)||(b=[b]);var d=b.length;if(!d)return q.isFunction(c)?c.call(a):c;for(var e=0;e<d;e++){var f=null==a?void 0:a[b[e]];void 0===f&&(f=c,e=d),a=q.isFunction(f)?f.call(a):f}return a};var U=0;q.uniqueId=function(a){var b=++U+"";return a?a+b:b},q.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(a){return"\\"+W[a]};q.template=function(a,b,c){!b&&c&&(b=c),b=q.defaults({},b,q.templateSettings);var d=RegExp([(b.escape||V).source,(b.interpolate||V).source,(b.evaluate||V).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(X,Y),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";var g;try{g=new Function(b.variable||"obj","_",f)}catch(j){throw j.source=f,j}var h=function(a){return g.call(this,a,q)},i=b.variable||"obj";return h.source="function("+i+"){\n"+f+"}",h},q.chain=function(a){var b=q(a);return b._chain=!0,b};var Z=function(a,b){return a._chain?q(b).chain():b};q.mixin=function(a){return q.each(q.functions(a),function(b){var c=q[b]=a[b];q.prototype[b]=function(){var a=[this._wrapped];return i.apply(a,arguments),Z(this,c.apply(q,a))}}),q},q.mixin(q),q.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];q.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],Z(this,c)}}),q.each(["concat","join","slice"],function(a){var b=f[a];q.prototype[a]=function(){return Z(this,b.apply(this._wrapped,arguments))}}),q.prototype.value=function(){return this._wrapped},q.prototype.valueOf=q.prototype.toJSON=q.prototype.value,q.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return q})}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[8]),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.oasRamlConverter=a()}}(function(){var a;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";!function(a){function b(a){var b=a.charCodeAt(0);return b===f||b===k?62:b===g||b===l?63:b<h?-1:b<h+10?b-h+26+26:b<j+26?b-j:b<i+26?b-i+26:void 0}function c(a){function c(a){j[l++]=a}var d,f,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new e(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,f=0;d<g;d+=4,f+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(h>>8&255),c(255&h)),j}function d(a){function b(a){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var d,e,f,g=a.length%3,h="";for(d=0,f=a.length-g;d<f;d+=3)e=(a[d]<<16)+(a[d+1]<<8)+a[d+2],h+=c(e);switch(g){case 1:e=a[a.length-1],h+=b(e>>2),h+=b(e<<4&63),h+="==";break;case 2:e=(a[a.length-2]<<8)+a[a.length-1],h+=b(e>>10),h+=b(e>>4&63),h+=b(e<<2&63),h+="="}return h}var e="undefined"!=typeof Uint8Array?Uint8Array:Array,f="+".charCodeAt(0),g="/".charCodeAt(0),h="0".charCodeAt(0),i="a".charCodeAt(0),j="A".charCodeAt(0),k="-".charCodeAt(0),l="_".charCodeAt(0);a.toByteArray=c,a.fromByteArray=d}(void 0===c?(void 0).base64js={}:c)},{}],2:[function(b,c,d){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b,f){"function"==typeof a&&a.amd?a([],f):"object"===(void 0===d?"undefined":e(d))?c.exports=f():b.returnExports=f()}(void 0,function(){function a(e,f){if("function"!=typeof f)throw new Error("Bad callback given: "+f);if(!e)throw new Error("No options given");var g=e.onResponse;if(e="string"==typeof e?{uri:e}:JSON.parse(JSON.stringify(e)),e.onResponse=g,e.verbose&&(a.log=d()),e.url&&(e.uri=e.url,delete e.url),!e.uri&&""!==e.uri)throw new Error("options.uri is a required argument");if("string"!=typeof e.uri)throw new Error("options.uri must be a string");for(var i=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],j=0;j<i.length;j++)if(e[i[j]])throw new Error("options."+i[j]+" is not supported");if(e.callback=f,e.method=e.method||"GET",e.headers=e.headers||{},e.body=e.body||null,e.timeout=e.timeout||a.DEFAULT_TIMEOUT,e.headers.host)throw new Error("Options.headers.host is not supported");e.json&&(e.headers.accept=e.headers.accept||"application/json","GET"!==e.method&&(e.headers["content-type"]="application/json"),"boolean"!=typeof e.json?e.body=JSON.stringify(e.json):"string"!=typeof e.body&&(e.body=JSON.stringify(e.body)));var k=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")};if(e.qs){var l="string"==typeof e.qs?e.qs:k(e.qs);-1!==e.uri.indexOf("?")?e.uri=e.uri+"&"+l:e.uri=e.uri+"?"+l}var m=function(a){var b={};b.boundry="-------------------------------"+Math.floor(1e9*Math.random());var c=[];for(var d in a)a.hasOwnProperty(d)&&c.push("--"+b.boundry+'\nContent-Disposition: form-data; name="'+d+'"\n\n'+a[d]+"\n");return c.push("--"+b.boundry+"--"),b.body=c.join(""),b.length=b.body.length,b.type="multipart/form-data; boundary="+b.boundry,b};if(e.form){if("string"==typeof e.form)throw"form name unsupported";if("POST"===e.method){var n=(e.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(e.headers["content-type"]=n,n){case"application/x-www-form-urlencoded":e.body=k(e.form).replace(/%20/g,"+");break;case"multipart/form-data":var o=m(e.form);e.body=o.body,e.headers["content-type"]=o.type;break;default:throw new Error("unsupported encoding:"+n)}}}return e.onResponse=e.onResponse||c,!0===e.onResponse&&(e.onResponse=f,e.callback=c),!e.headers.authorization&&e.auth&&(e.headers.authorization="Basic "+h(e.auth.username+":"+e.auth.password)),b(e)}function b(b){function c(){l=!0;var c=new Error("ETIMEDOUT");return c.code="ETIMEDOUT",c.duration=b.timeout,a.log.error("Timeout",{id:k._id,milliseconds:b.timeout}),b.callback(c,k)}function d(c){if(l)return a.log.debug("Ignoring timed out state change",{state:k.readyState,id:k.id});if(a.log.debug("State change",{state:k.readyState,id:k.id,timed_out:l}),k.readyState===i.OPENED){a.log.debug("Request started",{id:k.id});for(var d in b.headers)k.setRequestHeader(d,b.headers[d])}else k.readyState===i.HEADERS_RECEIVED?e():k.readyState===i.LOADING?(e(),f()):k.readyState===i.DONE&&(e(),f(),h())}function e(){if(!p.response){if(p.response=!0,a.log.debug("Got response",{id:k.id,status:k.status}),clearTimeout(k.timeoutTimer),k.statusCode=k.status,m&&0==k.statusCode){var c=new Error("CORS request rejected: "+b.uri);return c.cors="rejected",p.loading=!0,p.end=!0,b.callback(c,k)}b.onResponse(null,k)}}function f(){p.loading||(p.loading=!0,a.log.debug("Response body loading",{id:k.id}))}function h(){if(!p.end){if(p.end=!0,a.log.debug("Request done",{id:k.id}),k.body=k.responseText,b.json)try{k.body=JSON.parse(k.responseText)}catch(c){return b.callback(c,k)}b.callback(null,k,k.body)}}var k=new i,l=!1,m=g(b.uri),n="withCredentials"in k;if(j+=1,k.seq_id=j,k.id=j+": "+b.method+" "+b.uri,k._id=k.id,m&&!n){var o=new Error("Browser does not support cross-origin request: "+b.uri);return o.cors="unsupported",b.callback(o,k)}k.timeoutTimer=setTimeout(c,b.timeout);var p={response:!1,loading:!1,end:!1};return k.onreadystatechange=d,k.open(b.method,b.uri,!0),m&&(k.withCredentials=!!b.withCredentials),k.send(b.body),k}function c(){}function d(){var a,b,d={},e=["trace","debug","info","warn","error"];for(b=0;b<e.length;b++)a=e[b],d[a]=c,"undefined"!=typeof console&&console&&console[a]&&(d[a]=f(console,a));return d}function f(a,b){function c(c,d){return"object"===(void 0===d?"undefined":e(d))&&(c+=" "+JSON.stringify(d)),a[b].call(a,c)}return c}function g(a){var b,c=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{b=location.href}catch(f){b=document.createElement("a"),b.href="",b=b.href}var d=c.exec(b.toLowerCase())||[],e=c.exec(a.toLowerCase());return!(!e||e[1]==d[1]&&e[2]==d[2]&&(e[3]||("http:"===e[1]?80:443))==(d[3]||("http:"===d[1]?80:443)))}function h(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0,l=0,m="",n=[];if(!a)return a;do{b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),i=b<<16|c<<8|d,e=i>>18&63,f=i>>12&63,g=i>>6&63,h=63&i,n[l++]=j.charAt(e)+j.charAt(f)+j.charAt(g)+j.charAt(h)}while(k<a.length);switch(m=n.join(""),a.length%3){case 1:m=m.slice(0,-2)+"==";break;case 2:m=m.slice(0,-1)+"="}return m}var i=XMLHttpRequest;if(!i)throw new Error("missing XMLHttpRequest");a.log={trace:c,debug:c,info:c,warn:c,error:c};var j=0;return a.withCredentials=!1,a.DEFAULT_TIMEOUT=18e4,a.defaults=function(b,c){var d=function(a){return function(c,d){c="string"==typeof c?{uri:c}:JSON.parse(JSON.stringify(c));for(var e in b)void 0===c[e]&&(c[e]=b[e]);return a(c,d)}},e=d(a);return e.get=d(a.get),e.post=d(a.post),e.put=d(a.put),e.head=d(a.head),e},["get","put","post","head"].forEach(function(b){var c=b.toUpperCase();a[b.toLowerCase()]=function(b){"string"==typeof b?b={method:c,uri:b}:(b=JSON.parse(JSON.stringify(b)),b.method=c);var d=[b].concat(Array.prototype.slice.apply(arguments,[1]));return a.apply(this,d)}}),a.couch=function(b,d){function e(a,b,c){if(a)return d(a,b,c);if((b.statusCode<200||b.statusCode>299)&&c.error){a=new Error("CouchDB error: "+(c.error.reason||c.error.error));for(var e in c)a[e]=c[e];return d(a,b,c)}return d(a,b,c)}return"string"==typeof b&&(b={uri:b}),b.json=!0,b.body&&(b.json=b.body),delete b.body,d=d||c,a(b,e)},a})},{}],3:[function(a,b,c){},{}],4:[function(a,b,c){arguments[4][3][0].apply(c,arguments)},{dup:3}],5:[function(a,b,c){(function(b){"use strict";function d(){function a(){}try{var b=new Uint8Array(1);return b.foo=function(){return 42},b.constructor=a,42===b.foo()&&b.constructor===a&&"function"==typeof b.subarray&&0===b.subarray(1,1).byteLength}catch(c){return!1}}function e(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(a){return this instanceof f?(f.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof a?g(this,a):"string"==typeof a?h(this,a,arguments.length>1?arguments[1]:"utf8"):i(this,a)):arguments.length>1?new f(a,arguments[1]):new f(a)}function g(a,b){if(a=p(a,b<0?0:0|q(b)),!f.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;c++)a[c]=0;return a}function h(a,b,c){return"string"==typeof c&&""!==c||(c="utf8"),a=p(a,0|s(b,c)),a.write(b,c),a}function i(a,b){if(f.isBuffer(b))return j(a,b);if(Y(b))return k(a,b);if(null==b)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(b.buffer instanceof ArrayBuffer)return l(a,b);if(b instanceof ArrayBuffer)return m(a,b)}return b.length?n(a,b):o(a,b)}function j(a,b){var c=0|q(b.length);return a=p(a,c),b.copy(a,0,0,c),a}function k(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function l(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function m(a,b){return f.TYPED_ARRAY_SUPPORT?(b.byteLength,a=f._augment(new Uint8Array(b))):a=l(a,new Uint8Array(b)),a}function n(a,b){var c=0|q(b.length);a=p(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function o(a,b){var c,d=0;"Buffer"===b.type&&Y(b.data)&&(c=b.data,d=0|q(c.length)),a=p(a,d);for(var e=0;e<d;e+=1)a[e]=255&c[e];return a}function p(a,b){return f.TYPED_ARRAY_SUPPORT?(a=f._augment(new Uint8Array(b)),a.__proto__=f.prototype):(a.length=b,a._isBuffer=!0),0!==b&&b<=f.poolSize>>>1&&(a.parent=Z),a}function q(a){if(a>=e())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e().toString(16)+" bytes");return 0|a}function r(a,b){if(!(this instanceof r))return new r(a,b);var c=new f(a,b);return delete c.parent,c}function s(a,b){"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"binary":case"raw":case"raws":return c;case"utf8":case"utf-8":return R(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return U(a).length;default:if(d)return R(a).length;b=(""+b).toLowerCase(),d=!0}}function t(a,b,c){var d=!1;if(b|=0,c=void 0===c||c===1/0?this.length:0|c,a||(a="utf8"),b<0&&(b=0),c>this.length&&(c=this.length),c<=b)return"";for(;;)switch(a){case"hex":return F(this,b,c);case"utf8":case"utf-8":return B(this,b,c);case"ascii":return D(this,b,c);case"binary":return E(this,b,c);case"base64":return A(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function u(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d))>e&&(d=e):d=e;var f=b.length;if(f%2!=0)throw new Error("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;g++){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))throw new Error("Invalid hex string");a[c+g]=h}return g}function v(a,b,c,d){return V(R(b,a.length-c),a,c,d)}function w(a,b,c,d){return V(S(b),a,c,d)}function x(a,b,c,d){return w(a,b,c,d)}function y(a,b,c,d){return V(U(b),a,c,d)}function z(a,b,c,d){return V(T(b,a.length-c),a,c,d)}function A(a,b,c){return 0===b&&c===a.length?W.fromByteArray(a):W.fromByteArray(a.slice(b,c))}function B(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128==(192&i)&&(l=(31&f)<<6|63&i)>127&&(g=l);break;case 3:i=a[e+1],j=a[e+2],128==(192&i)&&128==(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j)>2047&&(l<55296||l>57343)&&(g=l);break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128==(192&i)&&128==(192&j)&&128==(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k)>65535&&l<1114112&&(g=l)}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return C(d)}function C(a){var b=a.length;if(b<=$)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=$));return c}function D(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;e++)d+=String.fromCharCode(127&a[e]);return d}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;e++)d+=String.fromCharCode(a[e]);return d}function F(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;f++)e+=Q(a[f]);return e}function G(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function H(a,b,c){if(a%1!=0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function I(a,b,c,d,e,g){if(!f.isBuffer(a))throw new TypeError("buffer must be a Buffer instance");if(b>e||b<g)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range")}function J(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;e++)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function K(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;e++)a[c+e]=b>>>8*(d?e:3-e)&255}function L(a,b,c,d,e,f){if(b>e||b<f)throw new RangeError("value is out of bounds");if(c+d>a.length)throw new RangeError("index out of range");if(c<0)throw new RangeError("index out of range")}function M(a,b,c,d,e){return e||L(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(a,b,c,d,23,4),c+4}function N(a,b,c,d,e){return e||L(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(a,b,c,d,52,8),c+8}function O(a){if(a=P(a).replace(aa,""),a.length<2)return"";for(;a.length%4!=0;)a+="=";return a}function P(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function Q(a){return a<16?"0"+a.toString(16):a.toString(16)}function R(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;g++){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=65536+(e-55296<<10|c-56320)}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function S(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function T(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);g++)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function U(a){return W.toByteArray(O(a))}function V(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}var W=a("base64-js"),X=a("ieee754"),Y=a("isarray");c.Buffer=f,c.SlowBuffer=r,c.INSPECT_MAX_BYTES=50,f.poolSize=8192;var Z={};f.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:d(),f.TYPED_ARRAY_SUPPORT?(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array):(f.prototype.length=void 0,f.prototype.parent=void 0),f.isBuffer=function(a){return!(null==a||!a._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,g=Math.min(c,d);e<g&&a[e]===b[e];)++e;return e!==g&&(c=a[e],d=b[e]),c<d?-1:d<c?1:0},f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,b){if(!Y(a))throw new TypeError("list argument must be an Array of Buffers.");if(0===a.length)return new f(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var d=new f(b),e=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(d,e),e+=g.length}return d},f.byteLength=s,f.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?B(this,0,a):t.apply(this,arguments)},f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===f.compare(this,a)},f.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},f.prototype.compare=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?0:f.compare(this,a)},f.prototype.indexOf=function(a,b){function c(a,b,c){for(var d=-1,e=0;c+e<a.length;e++)if(a[c+e]===b[-1===d?0:e-d]){if(-1===d&&(d=e),e-d+1===b.length)return c+d}else d=-1;return-1}if(b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b>>=0,0===this.length)return-1;if(b>=this.length)return-1;if(b<0&&(b=Math.max(this.length+b,0)),"string"==typeof a)return 0===a.length?-1:String.prototype.indexOf.call(this,a,b);if(f.isBuffer(a))return c(this,a,b);if("number"==typeof a)return f.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,a,b):c(this,[a],b);throw new TypeError("val must be string, number or Buffer")},f.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},f.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},f.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b|=0,isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0);else{var e=d;d=b,b=0|c,c=e}var f=this.length-b;if((void 0===c||c>f)&&(c=f),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("attempt to write outside buffer bounds");d||(d="utf8");for(var g=!1;;)switch(d){case"hex":return u(this,a,b,c);case"utf8":case"utf-8":return v(this,a,b,c);case"ascii":return w(this,a,b,c);case"binary":return x(this,a,b,c);case"base64":return y(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,a,b,c);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),g=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;f.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c)<0&&(a=0):a>c&&(a=c),b<0?(b+=c)<0&&(b=0):b>c&&(b=c),b<a&&(b=a);var d;if(f.TYPED_ARRAY_SUPPORT)d=f._augment(this.subarray(a,b));else{var e=b-a;d=new f(e,void 0);for(var g=0;g<e;g++)d[g]=this[g+a]}return d.length&&(d.parent=this.parent||this),d},f.prototype.readUIntLE=function(a,b,c){a|=0,b|=0,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},f.prototype.readUIntBE=function(a,b,c){a|=0,b|=0,c||H(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},f.prototype.readUInt8=function(a,b){return b||H(a,1,this.length),this[a]},f.prototype.readUInt16LE=function(a,b){return b||H(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUInt16BE=function(a,b){return b||H(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUInt32LE=function(a,b){return b||H(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},f.prototype.readUInt32BE=function(a,b){return b||H(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,b,c){a|=0,b|=0,c||H(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},f.prototype.readIntBE=function(a,b,c){a|=0,b|=0,c||H(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},f.prototype.readInt8=function(a,b){return b||H(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},f.prototype.readInt16LE=function(a,b){b||H(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt16BE=function(a,b){b||H(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt32LE=function(a,b){return b||H(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,b){return b||H(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,b){return b||H(a,4,this.length),X.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,b){return b||H(a,8,this.length),X.read(this,a,!1,52,8)},f.prototype.writeUIntLE=function(a,b,c,d){a=+a,b|=0,c|=0,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},f.prototype.writeUIntBE=function(a,b,c,d){a=+a,b|=0,c|=0,d||I(this,a,b,c,Math.pow(2,8*c),0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},f.prototype.writeUInt8=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,1,255,0),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},f.prototype.writeUInt16LE=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeUInt16BE=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeUInt32LE=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):K(this,a,b,!0),b+4},f.prototype.writeUInt32BE=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=0,g=1,h=a<0?1:0;for(this[b]=255&a;++f<c&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);I(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=a<0?1:0;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeInt8=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,1,127,-128),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},f.prototype.writeInt16LE=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):J(this,a,b,!0),b+2},f.prototype.writeInt16BE=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):J(this,a,b,!1),b+2},f.prototype.writeInt32LE=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):K(this,a,b,!0),b+4},f.prototype.writeInt32BE=function(a,b,c){return a=+a,b|=0,c||I(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):K(this,a,b,!1),b+4},f.prototype.writeFloatLE=function(a,b,c){return M(this,a,b,!0,c)},f.prototype.writeFloatBE=function(a,b,c){return M(this,a,b,!1,c)},f.prototype.writeDoubleLE=function(a,b,c){return N(this,a,b,!0,c)},f.prototype.writeDoubleBE=function(a,b,c){return N(this,a,b,!1,c)},f.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,g=d-c;if(this===a&&c<b&&b<d)for(e=g-1;e>=0;e--)a[e+b]=this[e+c];else if(g<1e3||!f.TYPED_ARRAY_SUPPORT)for(e=0;e<g;e++)a[e+b]=this[e+c];else a._set(this.subarray(c,c+g),b);return g},f.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),c<b)throw new RangeError("end < start");if(c!==b&&0!==this.length){if(b<0||b>=this.length)throw new RangeError("start out of bounds");if(c<0||c>this.length)throw new RangeError("end out of bounds");var d;if("number"==typeof a)for(d=b;d<c;d++)this[d]=a;else{var e=R(a.toString()),f=e.length;for(d=b;d<c;d++)this[d]=e[d%f]}return this}},f.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(f.TYPED_ARRAY_SUPPORT)return new f(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;b<c;b+=1)a[b]=this[b];return a.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var _=f.prototype;f._augment=function(a){return a.constructor=f,a._isBuffer=!0,a._set=a.set,a.get=_.get,a.set=_.set,a.write=_.write,a.toString=_.toString,a.toLocaleString=_.toString,a.toJSON=_.toJSON,a.equals=_.equals,a.compare=_.compare,a.indexOf=_.indexOf,a.copy=_.copy,a.slice=_.slice,a.readUIntLE=_.readUIntLE,a.readUIntBE=_.readUIntBE,a.readUInt8=_.readUInt8,a.readUInt16LE=_.readUInt16LE,a.readUInt16BE=_.readUInt16BE,a.readUInt32LE=_.readUInt32LE,a.readUInt32BE=_.readUInt32BE,a.readIntLE=_.readIntLE,a.readIntBE=_.readIntBE,a.readInt8=_.readInt8,a.readInt16LE=_.readInt16LE,a.readInt16BE=_.readInt16BE,a.readInt32LE=_.readInt32LE,a.readInt32BE=_.readInt32BE,a.readFloatLE=_.readFloatLE,a.readFloatBE=_.readFloatBE,a.readDoubleLE=_.readDoubleLE,a.readDoubleBE=_.readDoubleBE,a.writeUInt8=_.writeUInt8,a.writeUIntLE=_.writeUIntLE,a.writeUIntBE=_.writeUIntBE,a.writeUInt16LE=_.writeUInt16LE,a.writeUInt16BE=_.writeUInt16BE,a.writeUInt32LE=_.writeUInt32LE,a.writeUInt32BE=_.writeUInt32BE,a.writeIntLE=_.writeIntLE,a.writeIntBE=_.writeIntBE,a.writeInt8=_.writeInt8,a.writeInt16LE=_.writeInt16LE,a.writeInt16BE=_.writeInt16BE,a.writeInt32LE=_.writeInt32LE,a.writeInt32BE=_.writeInt32BE,a.writeFloatLE=_.writeFloatLE,a.writeFloatBE=_.writeFloatBE,a.writeDoubleLE=_.writeDoubleLE,a.writeDoubleBE=_.writeDoubleBE,a.fill=_.fill,a.inspect=_.inspect,a.toArrayBuffer=_.toArrayBuffer,a};var aa=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:14,isarray:6}],6:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],7:[function(a,b,c){"use strict";b.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",
426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],8:[function(a,b,c){(function(a,c){"use strict";var d=c.process&&a.nextTick||c.setImmediate||function(a){setTimeout(a,0)};b.exports=function(a,b){return a?void b.then(function(b){d(function(){a(null,b)})},function(b){d(function(){a(b)})}):b}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:161}],9:[function(a,b,c){(function(a){"use strict";function b(a){return Array.isArray?Array.isArray(a):"[object Array]"===q(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"===(void 0===a?"undefined":r(a))}function j(a){return void 0===a}function k(a){return"[object RegExp]"===q(a)}function l(a){return"object"===(void 0===a?"undefined":r(a))&&null!==a}function m(a){return"[object Date]"===q(a)}function n(a){return"[object Error]"===q(a)||a instanceof Error}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"===(void 0===a?"undefined":r(a))||void 0===a}function q(a){return Object.prototype.toString.call(a)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};c.isArray=b,c.isBoolean=d,c.isNull=e,c.isNullOrUndefined=f,c.isNumber=g,c.isString=h,c.isSymbol=i,c.isUndefined=j,c.isRegExp=k,c.isObject=l,c.isDate=m,c.isError=n,c.isFunction=o,c.isPrimitive=p,c.isBuffer=a.isBuffer}).call(this,{isBuffer:a("../../is-buffer/index.js")})},{"../../is-buffer/index.js":17}],10:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if((b=arguments[1])instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;i<d;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;i<d;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){return this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){return a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],11:[function(a,b,c){"use strict";var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString;b.exports=function(a,b,c){if("[object Function]"!==e.call(b))throw new TypeError("iterator must be a function");var f=a.length;if(f===+f)for(var g=0;g<f;g++)b.call(c,a[g],g,a);else for(var h in a)d.call(a,h)&&b.call(c,a[h],h,a)}},{}],12:[function(a,b,c){"use strict";function d(a){var b=/(%?)(%([jds]))/g,c=Array.prototype.slice.call(arguments,1);return c.length&&(a=a.replace(b,function(a,b,d,e){var f=c.shift();switch(e){case"s":f=""+f;break;case"d":f=Number(f);break;case"j":f=JSON.stringify(f)}return b?(c.unshift(f),a):f})),c.length&&(a+=" "+c.join(" ")),""+(a=a.replace(/%{2,2}/g,"%"))}b.exports=d},{}],13:[function(a,b,c){var d=a("http"),e=b.exports;for(var f in d)d.hasOwnProperty(f)&&(e[f]=d[f]);e.request=function(a,b){return a||(a={}),a.scheme="https",a.protocol="https:",d.request.call(this,a,b)}},{http:190}],14:[function(a,b,c){"use strict";c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],15:[function(a,b,c){"use strict";var d=[].indexOf;b.exports=function(a,b){if(d)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}},{}],16:[function(a,b,c){"use strict";"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],17:[function(a,b,c){"use strict";function d(a){return!!a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}function e(a){return"function"==typeof a.readFloatLE&&"function"==typeof a.slice&&d(a.slice(0,0))}b.exports=function(a){return null!=a&&(d(a)||e(a)||!!a._isBuffer)}},{}],18:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(){function a(a,b){Array.isArray(a)||(a=[a]);for(var c=!!b,e=[],f=0;f<a.length;f++){var g=a[f];"object"===(void 0===g?"undefined":d(g))?(e.push(g),c=!0):e.push({type:g})}return c&&e}function c(b){if(b.type)if("string"!=typeof b.type){var e=a(b.type);e&&(b.anyOf=e,delete b.type)}else"any"==b.type&&delete b.type;if(b.extends){var f=b.extends;Array.isArray(f)||(f=[f]),b.allOf=f,delete b.extends}if(b.disallow&&("string"==typeof b.disallow?b.not={type:b.disallow}:b.not={anyOf:a(b.disallow,!0)},delete b.disallow),b.properties){var g=Array.isArray(b.required)?b.required:[];for(var h in b.properties){var i=b.properties[h];i&&"boolean"==typeof i.required&&(i.required&&g.push(h),delete i.required)}g.length&&(b.required=g)}if(b.dependencies)for(var h in b.dependencies)"string"==typeof b.dependencies[h]&&(b.dependencies[h]=[b.dependencies[h]]);"boolean"==typeof b.required&&delete b.required,void 0!==b.divisibleBy&&(b.multipleOf=b.divisibleBy,delete b.divisibleBy);for(var h in b)if("properties"===h||"patternProperties"===h||"dependencies"===h)for(var j in b[h])b[h][j]=c(b[h][j]);else if("enum"!==h)if(Array.isArray(b[h]))for(var k=0;k<b[h].length;k++)b[h][k]=c(b[h][k]);else"object"===d(b[h])&&(b[h]=c(b[h]));return b}var e={v4:c};void 0!==b&&(b.exports=e)}()},{}],19:[function(a,b,c){"use strict";function d(a,b){m("Bundling $ref pointers in %s",a.$refs._root$Ref.path);var c=[];e(a,"schema",a.$refs._root$Ref.path+"#","#",0,c,a.$refs,b),g(c)}function e(a,b,c,d,g,h,i,m){var n=null===b?a:a[b];if(n&&"object"===(void 0===n?"undefined":j(n)))if(k.isAllowed$Ref(n))f(a,b,c,d,g,h,i,m);else{var o=Object.keys(n).sort(function(a,b){return"definitions"===a?-1:"definitions"===b?1:a.length-b.length});o.forEach(function(a){var b=l.join(c,a),j=l.join(d,a),o=n[a];k.isAllowed$Ref(o)?f(n,a,c,j,g,h,i,m):e(n,a,b,j,g,h,i,m)})}}function f(a,b,c,d,f,g,j,m){var o=null===b?a:a[b],p=n.resolve(c,o.$ref),q=j._resolve(p,m),r=l.parse(d).length,s=n.stripHash(q.path),t=n.getHash(q.path),u=s!==j._root$Ref.path,v=k.isExtended$Ref(o);f+=q.indirections;var w=h(g,a,b);if(w){if(!(r<w.depth||f<w.indirections))return;i(g,w)}g.push({$ref:o,parent:a,key:b,pathFromRoot:d,depth:r,file:s,hash:t,value:q.value,circular:q.circular,extended:v,external:u,indirections:f}),e(q.value,null,q.path,d,f+1,g,j,m)}function g(a){a.sort(function(a,b){if(a.file!==b.file)return a.file<b.file?-1:1;if(a.hash!==b.hash)return a.hash<b.hash?-1:1;if(a.circular!==b.circular)return a.circular?-1:1;if(a.extended!==b.extended)return a.extended?1:-1;if(a.indirections!==b.indirections)return a.indirections-b.indirections;if(a.depth!==b.depth)return a.depth-b.depth;var c=a.pathFromRoot.lastIndexOf("/definitions"),d=b.pathFromRoot.lastIndexOf("/definitions");return c!==d?d-c:a.pathFromRoot.length-b.pathFromRoot.length});var b,c,d;a.forEach(function(a){m('Re-mapping $ref pointer "%s" at %s',a.$ref.$ref,a.pathFromRoot),a.external?a.file===b&&a.hash===c?a.$ref.$ref=d:a.file===b&&0===a.hash.indexOf(c+"/")?a.$ref.$ref=l.join(d,l.parse(a.hash)):(b=a.file,c=a.hash,d=a.pathFromRoot,a.$ref=a.parent[a.key]=k.dereference(a.$ref,a.value),a.circular&&(a.$ref.$ref=a.pathFromRoot)):a.$ref.$ref=a.hash,m("    new value: %s",a.$ref&&a.$ref.$ref?a.$ref.$ref:"[object Object]")})}function h(a,b,c){for(var d=0;d<a.length;d++){var e=a[d];if(e.parent===b&&e.key===c)return e}}function i(a,b){var c=a.indexOf(b);a.splice(c,1)}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},k=a("./ref"),l=a("./pointer"),m=a("./util/debug"),n=a("./util/url");b.exports=d},{"./pointer":29,"./ref":30,"./util/debug":35,"./util/url":37}],20:[function(a,b,c){"use strict";function d(a,b){l("Dereferencing $ref pointers in %s",a.$refs._root$Ref.path);var c=e(a.schema,a.$refs._root$Ref.path,"#",[],a.$refs,b);a.$refs.circular=c.circular,a.schema=c.value}function e(a,b,c,d,k,l){var m,n={value:a,circular:!1};return a&&"object"===(void 0===a?"undefined":h(a))&&(d.push(a),i.isAllowed$Ref(a,l)?(m=f(a,b,c,d,k,l),n.circular=m.circular,n.value=m.value):Object.keys(a).forEach(function(h){var o=j.join(b,h),p=j.join(c,h),q=a[h],r=!1;i.isAllowed$Ref(q,l)?(m=f(q,o,p,d,k,l),r=m.circular,a[h]=m.value):-1===d.indexOf(q)?(m=e(q,o,p,d,k,l),r=m.circular,a[h]=m.value):r=g(o,k,l),n.circular=n.circular||r}),d.pop()),n}function f(a,b,c,d,f,h){l('Dereferencing $ref pointer "%s" at %s',a.$ref,b);var j=m.resolve(b,a.$ref),k=f._resolve(j,h),n=k.circular,o=n||-1!==d.indexOf(k.value);o&&g(b,f,h);var p=i.dereference(a,k.value);if(!o){var q=e(p,k.path,c,d,f,h);o=q.circular,p=q.value}return o&&!n&&"ignore"===h.dereference.circular&&(p=a),n&&(p.$ref=c),{circular:o,value:p}}function g(a,b,c){if(b.circular=!0,!c.dereference.circular)throw k.reference("Circular $ref pointer found at %s",a);return!0}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=a("./ref"),j=a("./pointer"),k=a("ono"),l=a("./util/debug"),m=a("./util/url");b.exports=d},{"./pointer":29,"./ref":30,"./util/debug":35,"./util/url":37,ono:156}],21:[function(a,b,c){(function(c){"use strict";function d(){this.schema=null,this.$refs=new f}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=(a("./options"),a("./refs")),g=a("./parse"),h=a("./normalize-args"),i=a("./resolve-external"),j=a("./bundle"),k=a("./dereference"),l=a("./util/url"),m=a("call-me-maybe"),n=a("ono");b.exports=d,b.exports.YAML=a("./util/yaml"),d.parse=function(a,b,c,d){var e=this,f=new e;return f.parse.apply(f,arguments)},d.prototype.parse=function(a,b,d,i){var j,k=h(arguments);if(!k.path&&!k.schema){var o=n("Expected a file path, URL, or object. Got %s",k.path||k.schema);return m(k.callback,Promise.reject(o))}this.schema=null,this.$refs=new f;var p="http";if(l.isFileSystemPath(k.path)&&(k.path=l.fromFileSystemPath(k.path),p="file"),k.path=l.resolve(l.cwd(),k.path),k.schema&&"object"===e(k.schema)){var q=this.$refs._add(k.path);q.value=k.schema,q.pathType=p,j=Promise.resolve(k.schema)}else j=g(k.path,this.$refs,k.options);var r=this;return j.then(function(a){if(!a||"object"!==(void 0===a?"undefined":e(a))||c.isBuffer(a))throw n.syntax('"%s" is not a valid JSON Schema',r.$refs._root$Ref.path||a);return r.schema=a,m(k.callback,Promise.resolve(r.schema))}).catch(function(a){return m(k.callback,Promise.reject(a))})},d.resolve=function(a,b,c,d){var e=this,f=new e;return f.resolve.apply(f,arguments)},d.prototype.resolve=function(a,b,c,d){var e=this,f=h(arguments);return this.parse(f.path,f.schema,f.options).then(function(){return i(e,f.options)}).then(function(){return m(f.callback,Promise.resolve(e.$refs))}).catch(function(a){return m(f.callback,Promise.reject(a))})},d.bundle=function(a,b,c,d){var e=this,f=new e;return f.bundle.apply(f,arguments)},d.prototype.bundle=function(a,b,c,d){var e=this,f=h(arguments);return this.resolve(f.path,f.schema,f.options).then(function(){return j(e,f.options),m(f.callback,Promise.resolve(e.schema))}).catch(function(a){return m(f.callback,Promise.reject(a))})},d.dereference=function(a,b,c,d){var e=this,f=new e;return f.dereference.apply(f,arguments)},d.prototype.dereference=function(a,b,c,d){var e=this,f=h(arguments);return this.resolve(f.path,f.schema,f.options).then(function(){return k(e,f.options),m(f.callback,Promise.resolve(e.schema))}).catch(function(a){return m(f.callback,Promise.reject(a))})}}).call(this,{isBuffer:a("../../is-buffer/index.js")})},{"../../is-buffer/index.js":17,"./bundle":19,"./dereference":20,"./normalize-args":22,"./options":23,"./parse":24,"./refs":31,"./resolve-external":32,"./util/url":37,"./util/yaml":38,"call-me-maybe":8,ono:156}],22:[function(a,b,c){"use strict";function d(a){var b,c,d,g;return a=Array.prototype.slice.call(a),"function"==typeof a[a.length-1]&&(g=a.pop()),"string"==typeof a[0]?(b=a[0],"object"===e(a[2])?(c=a[1],d=a[2]):(c=void 0,d=a[1])):(b="",c=a[0],d=a[1]),d instanceof f||(d=new f(d)),{path:b,schema:c,options:d,callback:g}}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=a("./options");b.exports=d},{"./options":23}],23:[function(a,b,c){"use strict";function d(a){e(this,d.defaults),e(this,a)}function e(a,b){if(f(b))for(var c=Object.keys(b),d=0;d<c.length;d++){var g=c[d],h=b[g],i=a[g];f(h)?a[g]=e(i||{},h):void 0!==h&&(a[g]=h)}return a}function f(a){return a&&"object"===(void 0===a?"undefined":g(a))&&!Array.isArray(a)&&!(a instanceof RegExp)&&!(a instanceof Date)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=a("./parsers/json"),i=a("./parsers/yaml"),j=a("./parsers/text"),k=a("./parsers/binary"),l=a("./resolvers/file"),m=a("./resolvers/http");b.exports=d,d.defaults={parse:{json:h,yaml:i,text:j,binary:k},resolve:{file:l,http:m,external:!0},dereference:{circular:!0}}},{"./parsers/binary":25,"./parsers/json":26,"./parsers/text":27,"./parsers/yaml":28,"./resolvers/file":33,"./resolvers/http":34}],24:[function(a,b,c){(function(c){"use strict";function d(a,b,c){try{a=k.stripHash(a);var d=b._add(a),g={url:a,extension:k.getExtension(a)};return e(g,c).then(function(a){return d.pathType=a.plugin.name,g.data=a.result,f(g,c)}).then(function(a){return d.value=a.result,a.result})}catch(h){return Promise.reject(h)}}function e(a,b){return new Promise(function(c,d){function e(b){d(!b||b instanceof SyntaxError?i.syntax('Unable to resolve $ref pointer "%s"',a.url):b)}j("Reading %s",a.url);var f=l.all(b.resolve);f=l.filter(f,"canRead",a),l.sort(f),l.run(f,"read",a).then(c,e)})}function f(a,b){return new Promise(function(c,d){function e(b){!b.plugin.allowEmpty&&g(b.result)?d(i.syntax('Error parsing "%s" as %s. \nParsed value is empty',a.url,b.plugin.name)):c(b)}function f(b){b?(b=b instanceof Error?b:new Error(b),d(i.syntax(b,"Error parsing %s",a.url))):d(i.syntax("Unable to parse %s",a.url))}j("Parsing %s",a.url);var h=l.all(b.parse),k=l.filter(h,"canParse",a),m=k.length>0?k:h;l.sort(m),l.run(m,"parse",a).then(e,f)})}function g(a){return void 0===a||"object"===(void 0===a?"undefined":h(a))&&0===Object.keys(a).length||"string"==typeof a&&0===a.trim().length||c.isBuffer(a)&&0===a.length}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=a("ono"),j=a("./util/debug"),k=a("./util/url"),l=a("./util/plugins");b.exports=d}).call(this,{isBuffer:a("../../is-buffer/index.js")})},{"../../is-buffer/index.js":17,"./util/debug":35,"./util/plugins":36,"./util/url":37,ono:156}],25:[function(a,b,c){(function(a){"use strict";var c=/\.(jpeg|jpg|gif|png|bmp|ico)$/i;b.exports={order:400,allowEmpty:!0,canParse:function(b){return a.isBuffer(b.data)&&c.test(b.url)},parse:function(b){return a.isBuffer(b.data)?b.data:new a(b.data)}}}).call(this,a("buffer").Buffer)},{buffer:5}],26:[function(a,b,c){(function(a){"use strict";b.exports={order:100,allowEmpty:!0,canParse:".json",parse:function(b){return new Promise(function(c,d){var e=b.data;a.isBuffer(e)&&(e=e.toString()),c("string"==typeof e?0===e.trim().length?void 0:JSON.parse(e):e)})}}}).call(this,{isBuffer:a("../../../is-buffer/index.js")})},{"../../../is-buffer/index.js":17}],27:[function(a,b,c){(function(a){"use strict";var c=/\.(txt|htm|html|md|xml|js|min|map|css|scss|less|svg)$/i;b.exports={order:300,allowEmpty:!0,encoding:"utf8",canParse:function(b){return("string"==typeof b.data||a.isBuffer(b.data))&&c.test(b.url)},parse:function(b){if("string"==typeof b.data)return b.data;if(a.isBuffer(b.data))return b.data.toString(this.encoding);throw new Error("data is not text")}}}).call(this,{isBuffer:a("../../../is-buffer/index.js")})},{"../../../is-buffer/index.js":17}],28:[function(a,b,c){(function(c){"use strict";var d=a("../util/yaml");b.exports={order:200,allowEmpty:!0,canParse:[".yaml",".yml",".json"],parse:function(a){return new Promise(function(b,e){var f=a.data;c.isBuffer(f)&&(f=f.toString()),b("string"==typeof f?d.parse(f):f)})}}}).call(this,{isBuffer:a("../../../is-buffer/index.js")})},{"../../../is-buffer/index.js":17,"../util/yaml":38}],29:[function(a,b,c){"use strict";function d(a,b,c){this.$ref=a,this.path=b,this.originalPath=c||b,this.value=void 0,this.circular=!1,this.indirections=0}function e(a,b){if(h.isAllowed$Ref(a.value,b)){var c=i.resolve(a.path,a.value.$ref);if(c!==a.path){var d=a.$ref.$refs._resolve(c,b);return a.indirections+=d.indirections+1,h.isExtended$Ref(a.value)?(a.value=h.dereference(a.value,d.value),!1):(a.$ref=d.$ref,a.path=d.path,a.value=d.value,!0)}a.circular=!0}}function f(a,b,c){if(!a.value||"object"!==g(a.value))throw j.syntax('Error assigning $ref pointer "%s". \nCannot set "%s" of a non-object.',a.path,b);return"-"===b&&Array.isArray(a.value)?a.value.push(c):a.value[b]=c,c}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.exports=d;var h=a("./ref"),i=a("./util/url"),j=a("ono"),k=/\//g,l=/~/g,m=/~1/g,n=/~0/g;d.prototype.resolve=function(a,b){var c=d.parse(this.path);this.value=a;for(var f=0;f<c.length;f++){e(this,b)&&(this.path=d.join(this.path,c.slice(f)));var g=c[f];if(void 0===this.value[g])throw j.syntax('Error resolving $ref pointer "%s". \nToken "%s" does not exist.',this.originalPath,g);this.value=this.value[g]}return e(this,b),this},d.prototype.set=function(a,b,c){var g,h=d.parse(this.path);if(0===h.length)return this.value=b,b;this.value=a;for(var i=0;i<h.length-1;i++)e(this,c),g=h[i],this.value&&void 0!==this.value[g]?this.value=this.value[g]:this.value=f(this,g,{});return e(this,c),g=h[h.length-1],f(this,g,b),a},d.parse=function(a){var b=i.getHash(a).substr(1);if(!b)return[];b=b.split("/");for(var c=0;c<b.length;c++)b[c]=decodeURIComponent(b[c].replace(m,"/").replace(n,"~"));if(""!==b[0])throw j.syntax('Invalid $ref pointer "%s". Pointers must begin with "#/"',b);return b.slice(1)},d.join=function(a,b){-1===a.indexOf("#")&&(a+="#"),b=Array.isArray(b)?b:[b];for(var c=0;c<b.length;c++){var d=b[c];a+="/"+encodeURIComponent(d.replace(l,"~0").replace(k,"~1"))}return a}},{"./ref":30,"./util/url":37,ono:156}],30:[function(a,b,c){"use strict";function d(){this.path=void 0,this.value=void 0,this.$refs=void 0,this.pathType=void 0}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.exports=d;var f=a("./pointer");d.prototype.exists=function(a,b){try{return this.resolve(a,b),!0}catch(c){return!1}},d.prototype.get=function(a,b){return this.resolve(a,b).value},d.prototype.resolve=function(a,b,c){return new f(this,a,c).resolve(this.value,b)},d.prototype.set=function(a,b){var c=new f(this,a);this.value=c.set(this.value,b)},d.is$Ref=function(a){return a&&"object"===(void 0===a?"undefined":e(a))&&"string"==typeof a.$ref&&a.$ref.length>0},d.isExternal$Ref=function(a){return d.is$Ref(a)&&"#"!==a.$ref[0]},d.isAllowed$Ref=function(a,b){if(d.is$Ref(a)){if("#/"===a.$ref.substr(0,2)||"#"===a.$ref)return!0;if("#"!==a.$ref[0]&&(!b||b.resolve.external))return!0}},d.isExtended$Ref=function(a){return d.is$Ref(a)&&Object.keys(a).length>1},d.dereference=function(a,b){if(b&&"object"===(void 0===b?"undefined":e(b))&&d.isExtended$Ref(a)){var c={};return Object.keys(a).forEach(function(b){"$ref"!==b&&(c[b]=a[b])}),Object.keys(b).forEach(function(a){a in c||(c[a]=b[a])}),c}return b}},{"./pointer":29}],31:[function(a,b,c){"use strict";function d(){this.circular=!1,this._$refs={},this._root$Ref=null}function e(a,b){var c=Object.keys(a);return b=Array.isArray(b[0])?b[0]:Array.prototype.slice.call(b),b.length>0&&b[0]&&(c=c.filter(function(c){return-1!==b.indexOf(a[c].pathType)})),c.map(function(b){return{encoded:b,decoded:"file"===a[b].pathType?h.toFileSystemPath(b,!0):b}})}var f=a("ono"),g=a("./ref"),h=a("./util/url");b.exports=d,d.prototype.paths=function(a){return e(this._$refs,arguments).map(function(a){return a.decoded})},d.prototype.values=function(a){var b=this._$refs;return e(b,arguments).reduce(function(a,c){return a[c.decoded]=b[c.encoded].value,a},{})},d.prototype.toJSON=d.prototype.values,d.prototype.exists=function(a,b){try{return this._resolve(a,b),!0}catch(c){return!1}},d.prototype.get=function(a,b){return this._resolve(a,b).value},d.prototype.set=function(a,b){var c=h.resolve(this._root$Ref.path,a),d=h.stripHash(c),e=this._$refs[d];if(!e)throw f('Error resolving $ref pointer "%s". \n"%s" not found.',a,d);e.set(c,b)},d.prototype._add=function(a){var b=h.stripHash(a),c=new g;return c.path=b,c.$refs=this,this._$refs[b]=c,this._root$Ref=this._root$Ref||c,c},d.prototype._resolve=function(a,b){var c=h.resolve(this._root$Ref.path,a),d=h.stripHash(c),e=this._$refs[d];if(!e)throw f('Error resolving $ref pointer "%s". \n"%s" not found.',a,d);return e.resolve(c,b,a)},d.prototype._get$Ref=function(a){a=h.resolve(this._root$Ref.path,a);var b=h.stripHash(a);return this._$refs[b]}},{"./ref":30,"./util/url":37,ono:156}],32:[function(a,b,c){"use strict";function d(a,b){if(!b.resolve.external)return Promise.resolve();try{k("Resolving $ref pointers in %s",a.$refs._root$Ref.path);var c=e(a.schema,a.$refs._root$Ref.path+"#",a.$refs,b);return Promise.all(c)}catch(d){return Promise.reject(d)}}function e(a,b,c,d){var j=[];return a&&"object"===(void 0===a?"undefined":g(a))&&(h.isExternal$Ref(a)?j.push(f(a,b,c,d)):Object.keys(a).forEach(function(g){var k=i.join(b,g),l=a[g];h.isExternal$Ref(l)?j.push(f(l,k,c,d)):j=j.concat(e(l,k,c,d))})),j}function f(a,b,c,d){k('Resolving $ref pointer "%s" at %s',a.$ref,b);var f=l.resolve(b,a.$ref),g=l.stripHash(f);return a=c._$refs[g],a?Promise.resolve(a.value):j(f,c,d).then(function(a){k("Resolving $ref pointers in %s",g);var b=e(a,g+"#",c,d);return Promise.all(b)})}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=a("./ref"),i=a("./pointer"),j=a("./parse"),k=a("./util/debug"),l=a("./util/url");b.exports=d},{"./parse":24,"./pointer":29,"./ref":30,"./util/debug":35,"./util/url":37}],33:[function(a,b,c){"use strict";var d=a("fs"),e=a("ono"),f=a("../util/url"),g=a("../util/debug");b.exports={order:100,canRead:function(a){return f.isFileSystemPath(a.url)},read:function(a){return new Promise(function(b,c){var h;try{h=f.toFileSystemPath(a.url)}catch(i){c(e.uri(i,"Malformed URI: %s",a.url))}g("Opening file: %s",h);try{d.readFile(h,function(a,d){a?c(e(a,'Error opening file "%s"',h)):b(d)})}catch(i){c(e(i,'Error opening file "%s"',h))}})}}},{"../util/debug":35,"../util/url":37,fs:3,ono:156}],34:[function(a,b,c){(function(c,d){"use strict";function e(a,b,c){return new Promise(function(g,h){a=j.parse(a),c=c||[],c.push(a.href),f(a,b).then(function(f){if(f.statusCode>=400)throw i({status:f.statusCode},"HTTP ERROR %d",f.statusCode);if(f.statusCode>=300)if(c.length>b.redirects)h(i({status:f.statusCode},"Error downloading %s. \nToo many redirects: \n  %s",c[0],c.join(" \n  ")));else{if(!f.headers.location)throw i({status:f.statusCode},"HTTP %d redirect with no location header",f.statusCode);k("HTTP %d redirect %s -> %s",f.statusCode,a.href,f.headers.location);var l=j.resolve(a,f.headers.location);e(l,b,c).then(g,h)}else g(f.body||new d(0))}).catch(function(b){h(i(b,"Error downloading",a.href))})})}function f(a,b){return new Promise(function(c,e){k("GET",a.href);var f="https:"===a.protocol?h:g,i=f.get({hostname:a.hostname,port:a.port,path:a.path,auth:a.auth,protocol:a.protocol,headers:b.headers||{},withCredentials:b.withCredentials});"function"==typeof i.setTimeout&&i.setTimeout(b.timeout),i.on("timeout",function(){i.abort()}),i.on("error",e),i.once("response",function(a){a.body=new d(0),a.on("data",function(b){a.body=d.concat([a.body,new d(b)])}),a.on("error",e),a.on("end",function(){c(a)})})})}var g=a("http"),h=a("https"),i=a("ono"),j=a("../util/url"),k=a("../util/debug");b.exports={order:200,headers:null,timeout:5e3,redirects:5,withCredentials:!1,canRead:function(a){return j.isHttp(a.url)},read:function(a){var b=j.parse(a.url);return c.browser&&!b.protocol&&(b.protocol=j.parse(location.href).protocol),e(b,this)}}}).call(this,a("_process"),a("buffer").Buffer)},{"../util/debug":35,"../util/url":37,_process:161,buffer:5,http:190,https:13,ono:156}],35:[function(a,b,c){"use strict";var d=a("debug");b.exports=d("json-schema-ref-parser")},{debug:39}],36:[function(a,b,c){"use strict";function d(a,b,c,d){var e=a[b];if("function"==typeof e)return e.apply(a,[c,d]);if(!d){if(e instanceof RegExp)return e.test(c.url);if("string"==typeof e)return e===c.extension;if(Array.isArray(e))return-1!==e.indexOf(c.extension)}return e}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=a("./debug");c.all=function(a){return Object.keys(a).filter(function(b){return"object"===e(a[b])}).map(function(b){return a[b].name=b,a[b]})},c.filter=function(a,b,c){return a.filter(function(a){return!!d(a,b,c)})},c.sort=function(a){return a.forEach(function(a){a.order=a.order||Number.MAX_SAFE_INTEGER}),a.sort(function(a,b){return a.order-b.order})},c.run=function(a,b,c){var e,g,h=0;return new Promise(function(i,j){function k(){if(!(e=a[h++]))return j(g);try{f("  %s",e.name);var i=d(e,b,c,l);i&&"function"==typeof i.then?i.then(m,n):void 0!==i&&m(i)}catch(k){n(k)}}function l(a,b){a?n(a):m(b)}function m(a){f("    success"),i({plugin:e,result:a})}function n(a){f("    %s",a.message||a),g=a,k()}k()})}},{"./debug":35}],37:[function(a,b,c){(function(d){"use strict";var e=/^win/.test(d.platform),f=/\//g,g=/^(\w{2,}):\/\//i,h=b.exports,i=[/\?/g,"%3F",/\#/g,"%23"],j=[/\%23/g,"#",/\%24/g,"$",/\%26/g,"&",/\%2C/g,",",/\%40/g,"@"];c.parse=a("url").parse,c.resolve=a("url").resolve,c.cwd=function(){return d.browser?location.href:d.cwd()+"/"},c.getProtocol=function(a){var b=g.exec(a);if(b)return b[1].toLowerCase()},c.getExtension=function(a){var b=a.lastIndexOf(".");return b>=0?a.substr(b).toLowerCase():""},c.getHash=function(a){var b=a.indexOf("#");return b>=0?a.substr(b):"#"},c.stripHash=function(a){var b=a.indexOf("#");return b>=0&&(a=a.substr(0,b)),a},c.isHttp=function(a){var b=h.getProtocol(a);return"http"===b||"https"===b||void 0===b&&d.browser},c.isFileSystemPath=function(a){if(d.browser)return!1;var b=h.getProtocol(a);return void 0===b||"file"===b},c.fromFileSystemPath=function(a){e&&(a=a.replace(/\\/g,"/")),a=encodeURI(a);for(var b=0;b<i.length;b+=2)a=a.replace(i[b],i[b+1]);return a},c.toFileSystemPath=function(a,b){a=decodeURI(a);for(var c=0;c<j.length;c+=2)a=a.replace(j[c],j[c+1])
;var d="file://"===a.substr(0,7).toLowerCase();return d&&(a="/"===a[7]?a.substr(8):a.substr(7),e&&"/"===a[1]&&(a=a[0]+":"+a.substr(1)),b?a="file:///"+a:(d=!1,a=e?a:"/"+a)),e&&!d&&(a=a.replace(f,"\\"),":\\"===a.substr(1,2)&&(a=a[0].toUpperCase()+a.substr(1))),a}}).call(this,a("_process"))},{_process:161,url:269}],38:[function(a,b,c){"use strict";var d=a("js-yaml"),e=a("ono");b.exports={parse:function(a,b){try{return d.safeLoad(a)}catch(c){throw c instanceof Error?c:e(c,c.message)}},stringify:function(a,b,c){try{var f=("string"==typeof c?c.length:c)||2;return d.safeDump(a,{indent:f})}catch(g){throw g instanceof Error?g:e(g,g.message)}}}},{"js-yaml":41,ono:156}],39:[function(a,b,c){(function(d){"use strict";function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function g(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+b.exports.humanize(this.diff),this.useColors){var c="color: "+this.color;a.splice(1,0,c,"color: inherit");var d=0,e=0;a[0].replace(/%[a-zA-Z%]/g,function(a){"%%"!==a&&(d++,"%c"===a&&(e=d))}),a.splice(e,0,c)}}function h(){var a;return"object"===("undefined"==typeof console?"undefined":e(console))&&console.log&&(a=console).log.apply(a,arguments)}function i(a){try{a?c.storage.setItem("debug",a):c.storage.removeItem("debug")}catch(b){}}function j(){var a;try{a=c.storage.getItem("debug")}catch(b){}return!a&&void 0!==d&&"env"in d&&(a=d.env.DEBUG),a}function k(){try{return localStorage}catch(a){}}c.log=h,c.formatArgs=g,c.save=i,c.load=j,c.useColors=f,c.storage=k(),c.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],b.exports=a("./common")(c),b.exports.formatters.j=function(a){try{return JSON.stringify(a)}catch(b){return"[UnexpectedJSONParseError]: "+b.message}}}).call(this,a("_process"))},{"./common":40,_process:161}],40:[function(a,b,c){"use strict";function d(b){function c(a){for(var b=0,c=0;c<a.length;c++)b=(b<<5)-b+a.charCodeAt(c),b|=0;return d.colors[Math.abs(b)%d.colors.length]}function d(a){function b(){if(b.enabled){for(var a=arguments.length,c=new Array(a),e=0;e<a;e++)c[e]=arguments[e];var f=b,h=Number(new Date),i=h-(g||h);f.diff=i,f.prev=g,f.curr=h,g=h,c[0]=d.coerce(c[0]),"string"!=typeof c[0]&&c.unshift("%O");var j=0;c[0]=c[0].replace(/%([a-zA-Z%])/g,function(a,b){if("%%"===a)return a;j++;var e=d.formatters[b];if("function"==typeof e){var g=c[j];a=e.call(f,g),c.splice(j,1),j--}return a}),d.formatArgs.call(f,c);(f.log||d.log).apply(f,c)}}var g;return b.namespace=a,b.enabled=d.enabled(a),b.useColors=d.useColors(),b.color=c(a),b.destroy=e,b.extend=f,"function"==typeof d.init&&d.init(b),d.instances.push(b),b}function e(){var a=d.instances.indexOf(this);return-1!==a&&(d.instances.splice(a,1),!0)}function f(a,b){return d(this.namespace+(void 0===b?":":b)+a)}function g(a){d.save(a),d.names=[],d.skips=[];var b,c=("string"==typeof a?a:"").split(/[\s,]+/),e=c.length;for(b=0;b<e;b++)c[b]&&(a=c[b].replace(/\*/g,".*?"),"-"===a[0]?d.skips.push(new RegExp("^"+a.substr(1)+"$")):d.names.push(new RegExp("^"+a+"$")));for(b=0;b<d.instances.length;b++){var f=d.instances[b];f.enabled=d.enabled(f.namespace)}}function h(){d.enable("")}function i(a){if("*"===a[a.length-1])return!0;var b,c;for(b=0,c=d.skips.length;b<c;b++)if(d.skips[b].test(a))return!1;for(b=0,c=d.names.length;b<c;b++)if(d.names[b].test(a))return!0;return!1}function j(a){return a instanceof Error?a.stack||a.message:a}return d.debug=d,d.default=d,d.coerce=j,d.disable=h,d.enable=g,d.enabled=i,d.humanize=a("ms"),Object.keys(b).forEach(function(a){d[a]=b[a]}),d.instances=[],d.names=[],d.skips=[],d.formatters={},d.selectColor=c,d.enable(d.load()),d}b.exports=d},{ms:71}],41:[function(a,b,c){"use strict";var d=a("./lib/js-yaml.js");b.exports=d},{"./lib/js-yaml.js":42}],42:[function(a,b,c){"use strict";function d(a){return function(){throw new Error("Function "+a+" is deprecated and cannot be used.")}}var e=a("./js-yaml/loader"),f=a("./js-yaml/dumper");b.exports.Type=a("./js-yaml/type"),b.exports.Schema=a("./js-yaml/schema"),b.exports.FAILSAFE_SCHEMA=a("./js-yaml/schema/failsafe"),b.exports.JSON_SCHEMA=a("./js-yaml/schema/json"),b.exports.CORE_SCHEMA=a("./js-yaml/schema/core"),b.exports.DEFAULT_SAFE_SCHEMA=a("./js-yaml/schema/default_safe"),b.exports.DEFAULT_FULL_SCHEMA=a("./js-yaml/schema/default_full"),b.exports.load=e.load,b.exports.loadAll=e.loadAll,b.exports.safeLoad=e.safeLoad,b.exports.safeLoadAll=e.safeLoadAll,b.exports.dump=f.dump,b.exports.safeDump=f.safeDump,b.exports.YAMLException=a("./js-yaml/exception"),b.exports.MINIMAL_SCHEMA=a("./js-yaml/schema/failsafe"),b.exports.SAFE_SCHEMA=a("./js-yaml/schema/default_safe"),b.exports.DEFAULT_SCHEMA=a("./js-yaml/schema/default_full"),b.exports.scan=d("scan"),b.exports.parse=d("parse"),b.exports.compose=d("compose"),b.exports.addConstructor=d("addConstructor")},{"./js-yaml/dumper":44,"./js-yaml/exception":45,"./js-yaml/loader":46,"./js-yaml/schema":48,"./js-yaml/schema/core":49,"./js-yaml/schema/default_full":50,"./js-yaml/schema/default_safe":51,"./js-yaml/schema/failsafe":52,"./js-yaml/schema/json":53,"./js-yaml/type":54}],43:[function(a,b,c){"use strict";function d(a){return void 0===a||null===a}function e(a){return"object"==typeof a&&null!==a}function f(a){return Array.isArray(a)?a:d(a)?[]:[a]}function g(a,b){var c,d,e,f;if(b)for(f=Object.keys(b),c=0,d=f.length;c<d;c+=1)e=f[c],a[e]=b[e];return a}function h(a,b){var c,d="";for(c=0;c<b;c+=1)d+=a;return d}function i(a){return 0===a&&Number.NEGATIVE_INFINITY===1/a}b.exports.isNothing=d,b.exports.isObject=e,b.exports.toArray=f,b.exports.repeat=h,b.exports.isNegativeZero=i,b.exports.extend=g},{}],44:[function(a,b,c){"use strict";function d(a,b){var c,d,e,f,g,h,i;if(null===b)return{};for(c={},d=Object.keys(b),e=0,f=d.length;e<f;e+=1)g=d[e],h=String(b[g]),"!!"===g.slice(0,2)&&(g="tag:yaml.org,2002:"+g.slice(2)),i=a.compiledTypeMap.fallback[g],i&&K.call(i.styleAliases,h)&&(h=i.styleAliases[h]),c[g]=h;return c}function e(a){var b,c,d;if(b=a.toString(16).toUpperCase(),a<=255)c="x",d=2;else if(a<=65535)c="u",d=4;else{if(!(a<=4294967295))throw new G("code point within a string may not be greater than 0xFFFFFFFF");c="U",d=8}return"\\"+c+F.repeat("0",d-b.length)+b}function f(a){this.schema=a.schema||H,this.indent=Math.max(1,a.indent||2),this.noArrayIndent=a.noArrayIndent||!1,this.skipInvalid=a.skipInvalid||!1,this.flowLevel=F.isNothing(a.flowLevel)?-1:a.flowLevel,this.styleMap=d(this.schema,a.styles||null),this.sortKeys=a.sortKeys||!1,this.lineWidth=a.lineWidth||80,this.noRefs=a.noRefs||!1,this.noCompatMode=a.noCompatMode||!1,this.condenseFlow=a.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function g(a,b){for(var c,d=F.repeat(" ",b),e=0,f=-1,g="",h=a.length;e<h;)f=a.indexOf("\n",e),-1===f?(c=a.slice(e),e=h):(c=a.slice(e,f+1),e=f+1),c.length&&"\n"!==c&&(g+=d),g+=c;return g}function h(a,b){return"\n"+F.repeat(" ",a.indent*b)}function i(a,b){var c,d,e;for(c=0,d=a.implicitTypes.length;c<d;c+=1)if(e=a.implicitTypes[c],e.resolve(b))return!0;return!1}function j(a){return a===N||a===L}function k(a){return 32<=a&&a<=126||161<=a&&a<=55295&&8232!==a&&8233!==a||57344<=a&&a<=65533&&65279!==a||65536<=a&&a<=1114111}function l(a){return k(a)&&65279!==a&&a!==V&&a!==_&&a!==aa&&a!==ca&&a!==ea&&a!==X&&a!==Q}function m(a){return k(a)&&65279!==a&&!j(a)&&a!==W&&a!==Z&&a!==X&&a!==V&&a!==_&&a!==aa&&a!==ca&&a!==ea&&a!==Q&&a!==S&&a!==U&&a!==O&&a!==da&&a!==Y&&a!==T&&a!==P&&a!==R&&a!==$&&a!==ba}function n(a){return/^\n* /.test(a)}function o(a,b,c,d,e){var f,g,h=!1,i=!1,o=-1!==d,p=-1,q=m(a.charCodeAt(0))&&!j(a.charCodeAt(a.length-1));if(b)for(f=0;f<a.length;f++){if(g=a.charCodeAt(f),!k(g))return la;q=q&&l(g)}else{for(f=0;f<a.length;f++){if((g=a.charCodeAt(f))===M)h=!0,o&&(i=i||f-p-1>d&&" "!==a[p+1],p=f);else if(!k(g))return la;q=q&&l(g)}i=i||o&&f-p-1>d&&" "!==a[p+1]}return h||i?c>9&&n(a)?la:i?ka:ja:q&&!e(a)?ha:ia}function p(a,b,c,d){a.dump=function(){function e(b){return i(a,b)}if(0===b.length)return"''";if(!a.noCompatMode&&-1!==ga.indexOf(b))return"'"+b+"'";var f=a.indent*Math.max(1,c),h=-1===a.lineWidth?-1:Math.max(Math.min(a.lineWidth,40),a.lineWidth-f),j=d||a.flowLevel>-1&&c>=a.flowLevel;switch(o(b,j,a.indent,h,e)){case ha:return b;case ia:return"'"+b.replace(/'/g,"''")+"'";case ja:return"|"+q(b,a.indent)+r(g(b,f));case ka:return">"+q(b,a.indent)+r(g(s(b,h),f));case la:return'"'+u(b,h)+'"';default:throw new G("impossible error: invalid scalar style")}}()}function q(a,b){var c=n(a)?String(b):"",d="\n"===a[a.length-1];return c+(!d||"\n"!==a[a.length-2]&&"\n"!==a?d?"":"-":"+")+"\n"}function r(a){return"\n"===a[a.length-1]?a.slice(0,-1):a}function s(a,b){for(var c,d,e=/(\n+)([^\n]*)/g,f=function(){var c=a.indexOf("\n");return c=-1!==c?c:a.length,e.lastIndex=c,t(a.slice(0,c),b)}(),g="\n"===a[0]||" "===a[0];d=e.exec(a);){var h=d[1],i=d[2];c=" "===i[0],f+=h+(g||c||""===i?"":"\n")+t(i,b),g=c}return f}function t(a,b){if(""===a||" "===a[0])return a;for(var c,d,e=/ [^ ]/g,f=0,g=0,h=0,i="";c=e.exec(a);)h=c.index,h-f>b&&(d=g>f?g:h,i+="\n"+a.slice(f,d),f=d+1),g=h;return i+="\n",a.length-f>b&&g>f?i+=a.slice(f,g)+"\n"+a.slice(g+1):i+=a.slice(f),i.slice(1)}function u(a){for(var b,c,d,f="",g=0;g<a.length;g++)b=a.charCodeAt(g),b>=55296&&b<=56319&&(c=a.charCodeAt(g+1))>=56320&&c<=57343?(f+=e(1024*(b-55296)+c-56320+65536),g++):(d=fa[b],f+=!d&&k(b)?a[g]:d||e(b));return f}function v(a,b,c){var d,e,f="",g=a.tag;for(d=0,e=c.length;d<e;d+=1)A(a,b,c[d],!1,!1)&&(0!==d&&(f+=","+(a.condenseFlow?"":" ")),f+=a.dump);a.tag=g,a.dump="["+f+"]"}function w(a,b,c,d){var e,f,g="",i=a.tag;for(e=0,f=c.length;e<f;e+=1)A(a,b+1,c[e],!0,!0)&&(d&&0===e||(g+=h(a,b)),a.dump&&M===a.dump.charCodeAt(0)?g+="-":g+="- ",g+=a.dump);a.tag=i,a.dump=g||"[]"}function x(a,b,c){var d,e,f,g,h,i="",j=a.tag,k=Object.keys(c);for(d=0,e=k.length;d<e;d+=1)h=a.condenseFlow?'"':"",0!==d&&(h+=", "),f=k[d],g=c[f],A(a,b,f,!1,!1)&&(a.dump.length>1024&&(h+="? "),h+=a.dump+(a.condenseFlow?'"':"")+":"+(a.condenseFlow?"":" "),A(a,b,g,!1,!1)&&(h+=a.dump,i+=h));a.tag=j,a.dump="{"+i+"}"}function y(a,b,c,d){var e,f,g,i,j,k,l="",m=a.tag,n=Object.keys(c);if(!0===a.sortKeys)n.sort();else if("function"==typeof a.sortKeys)n.sort(a.sortKeys);else if(a.sortKeys)throw new G("sortKeys must be a boolean or a function");for(e=0,f=n.length;e<f;e+=1)k="",d&&0===e||(k+=h(a,b)),g=n[e],i=c[g],A(a,b+1,g,!0,!0,!0)&&(j=null!==a.tag&&"?"!==a.tag||a.dump&&a.dump.length>1024,j&&(a.dump&&M===a.dump.charCodeAt(0)?k+="?":k+="? "),k+=a.dump,j&&(k+=h(a,b)),A(a,b+1,i,!0,j)&&(a.dump&&M===a.dump.charCodeAt(0)?k+=":":k+=": ",k+=a.dump,l+=k));a.tag=m,a.dump=l||"{}"}function z(a,b,c){var d,e,f,g,h,i;for(e=c?a.explicitTypes:a.implicitTypes,f=0,g=e.length;f<g;f+=1)if(h=e[f],(h.instanceOf||h.predicate)&&(!h.instanceOf||"object"==typeof b&&b instanceof h.instanceOf)&&(!h.predicate||h.predicate(b))){if(a.tag=c?h.tag:"?",h.represent){if(i=a.styleMap[h.tag]||h.defaultStyle,"[object Function]"===J.call(h.represent))d=h.represent(b,i);else{if(!K.call(h.represent,i))throw new G("!<"+h.tag+'> tag resolver accepts not "'+i+'" style');d=h.represent[i](b,i)}a.dump=d}return!0}return!1}function A(a,b,c,d,e,f){a.tag=null,a.dump=c,z(a,c,!1)||z(a,c,!0);var g=J.call(a.dump);d&&(d=a.flowLevel<0||a.flowLevel>b);var h,i,j="[object Object]"===g||"[object Array]"===g;if(j&&(h=a.duplicates.indexOf(c),i=-1!==h),(null!==a.tag&&"?"!==a.tag||i||2!==a.indent&&b>0)&&(e=!1),i&&a.usedDuplicates[h])a.dump="*ref_"+h;else{if(j&&i&&!a.usedDuplicates[h]&&(a.usedDuplicates[h]=!0),"[object Object]"===g)d&&0!==Object.keys(a.dump).length?(y(a,b,a.dump,e),i&&(a.dump="&ref_"+h+a.dump)):(x(a,b,a.dump),i&&(a.dump="&ref_"+h+" "+a.dump));else if("[object Array]"===g){var k=a.noArrayIndent?b-1:b;d&&0!==a.dump.length?(w(a,k,a.dump,e),i&&(a.dump="&ref_"+h+a.dump)):(v(a,k,a.dump),i&&(a.dump="&ref_"+h+" "+a.dump))}else{if("[object String]"!==g){if(a.skipInvalid)return!1;throw new G("unacceptable kind of an object to dump "+g)}"?"!==a.tag&&p(a,a.dump,b,f)}null!==a.tag&&"?"!==a.tag&&(a.dump="!<"+a.tag+"> "+a.dump)}return!0}function B(a,b){var c,d,e=[],f=[];for(C(a,e,f),c=0,d=f.length;c<d;c+=1)b.duplicates.push(e[f[c]]);b.usedDuplicates=new Array(d)}function C(a,b,c){var d,e,f;if(null!==a&&"object"==typeof a)if(-1!==(e=b.indexOf(a)))-1===c.indexOf(e)&&c.push(e);else if(b.push(a),Array.isArray(a))for(e=0,f=a.length;e<f;e+=1)C(a[e],b,c);else for(d=Object.keys(a),e=0,f=d.length;e<f;e+=1)C(a[d[e]],b,c)}function D(a,b){b=b||{};var c=new f(b);return c.noRefs||B(a,c),A(c,0,a,!0,!0)?c.dump+"\n":""}function E(a,b){return D(a,F.extend({schema:I},b))}var F=a("./common"),G=a("./exception"),H=a("./schema/default_full"),I=a("./schema/default_safe"),J=Object.prototype.toString,K=Object.prototype.hasOwnProperty,L=9,M=10,N=32,O=33,P=34,Q=35,R=37,S=38,T=39,U=42,V=44,W=45,X=58,Y=62,Z=63,$=64,_=91,aa=93,ba=96,ca=123,da=124,ea=125,fa={};fa[0]="\\0",fa[7]="\\a",fa[8]="\\b",fa[9]="\\t",fa[10]="\\n",fa[11]="\\v",fa[12]="\\f",fa[13]="\\r",fa[27]="\\e",fa[34]='\\"',fa[92]="\\\\",fa[133]="\\N",fa[160]="\\_",fa[8232]="\\L",fa[8233]="\\P";var ga=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ha=1,ia=2,ja=3,ka=4,la=5;b.exports.dump=D,b.exports.safeDump=E},{"./common":43,"./exception":45,"./schema/default_full":50,"./schema/default_safe":51}],45:[function(a,b,c){"use strict";function d(a,b){Error.call(this),this.name="YAMLException",this.reason=a,this.mark=b,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.toString=function(a){var b=this.name+": ";return b+=this.reason||"(unknown reason)",!a&&this.mark&&(b+=" "+this.mark.toString()),b},b.exports=d},{}],46:[function(a,b,c){"use strict";function d(a){return 10===a||13===a}function e(a){return 9===a||32===a}function f(a){return 9===a||32===a||10===a||13===a}function g(a){return 44===a||91===a||93===a||123===a||125===a}function h(a){var b;return 48<=a&&a<=57?a-48:(b=32|a,97<=b&&b<=102?b-97+10:-1)}function i(a){return 120===a?2:117===a?4:85===a?8:0}function j(a){return 48<=a&&a<=57?a-48:-1}function k(a){return 48===a?"\0":97===a?"":98===a?"\b":116===a?"\t":9===a?"\t":110===a?"\n":118===a?"\v":102===a?"\f":114===a?"\r":101===a?"":32===a?" ":34===a?'"':47===a?"/":92===a?"\\":78===a?"":95===a?" ":76===a?"\u2028":80===a?"\u2029":""}function l(a){return a<=65535?String.fromCharCode(a):String.fromCharCode(55296+(a-65536>>10),56320+(a-65536&1023))}function m(a,b){this.input=a,this.filename=b.filename||null,this.schema=b.schema||S,this.onWarning=b.onWarning||null,this.legacy=b.legacy||!1,this.json=b.json||!1,this.listener=b.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=a.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function n(a,b){return new P(b,new Q(a.filename,a.input,a.position,a.line,a.position-a.lineStart))}function o(a,b){throw n(a,b)}function p(a,b){a.onWarning&&a.onWarning.call(null,n(a,b))}function q(a,b,c,d){var e,f,g,h;if(b<c){if(h=a.input.slice(b,c),d)for(e=0,f=h.length;e<f;e+=1)9===(g=h.charCodeAt(e))||32<=g&&g<=1114111||o(a,"expected valid JSON character");else _.test(h)&&o(a,"the stream contains non-printable characters");a.result+=h}}function r(a,b,c,d){var e,f,g,h;for(O.isObject(c)||o(a,"cannot merge mappings; the provided source object is unacceptable"),e=Object.keys(c),g=0,h=e.length;g<h;g+=1)f=e[g],T.call(b,f)||(b[f]=c[f],d[f]=!0)}function s(a,b,c,d,e,f,g,h){var i,j;if(e=String(e),null===b&&(b={}),"tag:yaml.org,2002:merge"===d)if(Array.isArray(f))for(i=0,j=f.length;i<j;i+=1)r(a,b,f[i],c);else r(a,b,f,c);else a.json||T.call(c,e)||!T.call(b,e)||(a.line=g||a.line,a.position=h||a.position,o(a,"duplicated mapping key")),b[e]=f,delete c[e];return b}function t(a){var b;b=a.input.charCodeAt(a.position),10===b?a.position++:13===b?(a.position++,10===a.input.charCodeAt(a.position)&&a.position++):o(a,"a line break is expected"),a.line+=1,a.lineStart=a.position}function u(a,b,c){for(var f=0,g=a.input.charCodeAt(a.position);0!==g;){for(;e(g);)g=a.input.charCodeAt(++a.position);if(b&&35===g)do{g=a.input.charCodeAt(++a.position)}while(10!==g&&13!==g&&0!==g);if(!d(g))break;for(t(a),g=a.input.charCodeAt(a.position),f++,a.lineIndent=0;32===g;)a.lineIndent++,g=a.input.charCodeAt(++a.position)}return-1!==c&&0!==f&&a.lineIndent<c&&p(a,"deficient indentation"),f}function v(a){var b,c=a.position;return!(45!==(b=a.input.charCodeAt(c))&&46!==b||b!==a.input.charCodeAt(c+1)||b!==a.input.charCodeAt(c+2)||(c+=3,0!==(b=a.input.charCodeAt(c))&&!f(b)))}function w(a,b){1===b?a.result+=" ":b>1&&(a.result+=O.repeat("\n",b-1))}function x(a,b,c){var h,i,j,k,l,m,n,o,p,r=a.kind,s=a.result;if(p=a.input.charCodeAt(a.position),f(p)||g(p)||35===p||38===p||42===p||33===p||124===p||62===p||39===p||34===p||37===p||64===p||96===p)return!1;if((63===p||45===p)&&(i=a.input.charCodeAt(a.position+1),f(i)||c&&g(i)))return!1;for(a.kind="scalar",a.result="",j=k=a.position,l=!1;0!==p;){if(58===p){if(i=a.input.charCodeAt(a.position+1),f(i)||c&&g(i))break}else if(35===p){if(h=a.input.charCodeAt(a.position-1),f(h))break}else{if(a.position===a.lineStart&&v(a)||c&&g(p))break;if(d(p)){if(m=a.line,n=a.lineStart,o=a.lineIndent,u(a,!1,-1),a.lineIndent>=b){l=!0,p=a.input.charCodeAt(a.position);continue}a.position=k,a.line=m,a.lineStart=n,a.lineIndent=o;break}}l&&(q(a,j,k,!1),w(a,a.line-m),j=k=a.position,l=!1),e(p)||(k=a.position+1),p=a.input.charCodeAt(++a.position)}return q(a,j,k,!1),!!a.result||(a.kind=r,a.result=s,!1)}function y(a,b){var c,e,f;if(39!==(c=a.input.charCodeAt(a.position)))return!1;for(a.kind="scalar",a.result="",a.position++,e=f=a.position;0!==(c=a.input.charCodeAt(a.position));)if(39===c){if(q(a,e,a.position,!0),39!==(c=a.input.charCodeAt(++a.position)))return!0;e=a.position,a.position++,f=a.position}else d(c)?(q(a,e,f,!0),w(a,u(a,!1,b)),e=f=a.position):a.position===a.lineStart&&v(a)?o(a,"unexpected end of the document within a single quoted scalar"):(a.position++,f=a.position);o(a,"unexpected end of the stream within a single quoted scalar")}function z(a,b){var c,e,f,g,j,k;if(34!==(k=a.input.charCodeAt(a.position)))return!1;for(a.kind="scalar",a.result="",a.position++,c=e=a.position;0!==(k=a.input.charCodeAt(a.position));){if(34===k)return q(a,c,a.position,!0),a.position++,!0;if(92===k){if(q(a,c,a.position,!0),k=a.input.charCodeAt(++a.position),d(k))u(a,!1,b);else if(k<256&&ea[k])a.result+=fa[k],a.position++;else if((j=i(k))>0){for(f=j,g=0;f>0;f--)k=a.input.charCodeAt(++a.position),(j=h(k))>=0?g=(g<<4)+j:o(a,"expected hexadecimal character");a.result+=l(g),a.position++}else o(a,"unknown escape sequence");c=e=a.position}else d(k)?(q(a,c,e,!0),w(a,u(a,!1,b)),c=e=a.position):a.position===a.lineStart&&v(a)?o(a,"unexpected end of the document within a double quoted scalar"):(a.position++,e=a.position)}o(a,"unexpected end of the stream within a double quoted scalar")}function A(a,b){var c,d,e,g,h,i,j,k,l,m,n,p=!0,q=a.tag,r=a.anchor,t={};if(91===(n=a.input.charCodeAt(a.position)))g=93,j=!1,d=[];else{if(123!==n)return!1;g=125,j=!0,d={}}for(null!==a.anchor&&(a.anchorMap[a.anchor]=d),n=a.input.charCodeAt(++a.position);0!==n;){if(u(a,!0,b),(n=a.input.charCodeAt(a.position))===g)return a.position++,a.tag=q,a.anchor=r,a.kind=j?"mapping":"sequence",a.result=d,!0;p||o(a,"missed comma between flow collection entries"),l=k=m=null,h=i=!1,63===n&&(e=a.input.charCodeAt(a.position+1),f(e)&&(h=i=!0,a.position++,u(a,!0,b))),c=a.line,H(a,b,U,!1,!0),l=a.tag,k=a.result,u(a,!0,b),n=a.input.charCodeAt(a.position),!i&&a.line!==c||58!==n||(h=!0,n=a.input.charCodeAt(++a.position),u(a,!0,b),H(a,b,U,!1,!0),m=a.result),j?s(a,d,t,l,k,m):h?d.push(s(a,null,t,l,k,m)):d.push(k),u(a,!0,b),n=a.input.charCodeAt(a.position),44===n?(p=!0,n=a.input.charCodeAt(++a.position)):p=!1}o(a,"unexpected end of the stream within a flow collection")}function B(a,b){var c,f,g,h,i=Y,k=!1,l=!1,m=b,n=0,p=!1;if(124===(h=a.input.charCodeAt(a.position)))f=!1;else{if(62!==h)return!1;f=!0}for(a.kind="scalar",a.result="";0!==h;)if(43===(h=a.input.charCodeAt(++a.position))||45===h)Y===i?i=43===h?$:Z:o(a,"repeat of a chomping mode identifier");else{if(!((g=j(h))>=0))break;0===g?o(a,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?o(a,"repeat of an indentation width identifier"):(m=b+g-1,l=!0)}if(e(h)){do{h=a.input.charCodeAt(++a.position)}while(e(h));if(35===h)do{h=a.input.charCodeAt(++a.position)}while(!d(h)&&0!==h)}for(;0!==h;){for(t(a),a.lineIndent=0,h=a.input.charCodeAt(a.position);(!l||a.lineIndent<m)&&32===h;)a.lineIndent++,h=a.input.charCodeAt(++a.position);if(!l&&a.lineIndent>m&&(m=a.lineIndent),d(h))n++;else{if(a.lineIndent<m){i===$?a.result+=O.repeat("\n",k?1+n:n):i===Y&&k&&(a.result+="\n");break}for(f?e(h)?(p=!0,a.result+=O.repeat("\n",k?1+n:n)):p?(p=!1,a.result+=O.repeat("\n",n+1)):0===n?k&&(a.result+=" "):a.result+=O.repeat("\n",n):a.result+=O.repeat("\n",k?1+n:n),k=!0,l=!0,n=0,c=a.position;!d(h)&&0!==h;)h=a.input.charCodeAt(++a.position);q(a,c,a.position,!1)}}return!0}function C(a,b){var c,d,e,g=a.tag,h=a.anchor,i=[],j=!1;for(null!==a.anchor&&(a.anchorMap[a.anchor]=i),e=a.input.charCodeAt(a.position);0!==e&&45===e&&(d=a.input.charCodeAt(a.position+1),f(d));)if(j=!0,a.position++,u(a,!0,-1)&&a.lineIndent<=b)i.push(null),e=a.input.charCodeAt(a.position);else if(c=a.line,H(a,b,W,!1,!0),i.push(a.result),u(a,!0,-1),e=a.input.charCodeAt(a.position),(a.line===c||a.lineIndent>b)&&0!==e)o(a,"bad indentation of a sequence entry");else if(a.lineIndent<b)break;return!!j&&(a.tag=g,a.anchor=h,a.kind="sequence",a.result=i,!0)}function D(a,b,c){var d,g,h,i,j,k=a.tag,l=a.anchor,m={},n={},p=null,q=null,r=null,t=!1,v=!1;for(null!==a.anchor&&(a.anchorMap[a.anchor]=m),j=a.input.charCodeAt(a.position);0!==j;){if(d=a.input.charCodeAt(a.position+1),h=a.line,i=a.position,63!==j&&58!==j||!f(d)){if(!H(a,c,V,!1,!0))break;if(a.line===h){for(j=a.input.charCodeAt(a.position);e(j);)j=a.input.charCodeAt(++a.position);if(58===j)j=a.input.charCodeAt(++a.position),f(j)||o(a,"a whitespace character is expected after the key-value separator within a block mapping"),t&&(s(a,m,n,p,q,null),p=q=r=null),v=!0,t=!1,g=!1,p=a.tag,q=a.result;else{if(!v)return a.tag=k,a.anchor=l,!0;o(a,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return a.tag=k,a.anchor=l,!0;o(a,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===j?(t&&(s(a,m,n,p,q,null),p=q=r=null),v=!0,t=!0,g=!0):t?(t=!1,g=!0):o(a,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),a.position+=1,j=d;if((a.line===h||a.lineIndent>b)&&(H(a,b,X,!0,g)&&(t?q=a.result:r=a.result),t||(s(a,m,n,p,q,r,h,i),p=q=r=null),u(a,!0,-1),j=a.input.charCodeAt(a.position)),a.lineIndent>b&&0!==j)o(a,"bad indentation of a mapping entry");else if(a.lineIndent<b)break}return t&&s(a,m,n,p,q,null),v&&(a.tag=k,a.anchor=l,a.kind="mapping",a.result=m),v}function E(a){var b,c,d,e,g=!1,h=!1;if(33!==(e=a.input.charCodeAt(a.position)))return!1;if(null!==a.tag&&o(a,"duplication of a tag property"),e=a.input.charCodeAt(++a.position),60===e?(g=!0,e=a.input.charCodeAt(++a.position)):33===e?(h=!0,c="!!",e=a.input.charCodeAt(++a.position)):c="!",b=a.position,g){do{e=a.input.charCodeAt(++a.position)}while(0!==e&&62!==e);a.position<a.length?(d=a.input.slice(b,a.position),e=a.input.charCodeAt(++a.position)):o(a,"unexpected end of the stream within a verbatim tag")}else{for(;0!==e&&!f(e);)33===e&&(h?o(a,"tag suffix cannot contain exclamation marks"):(c=a.input.slice(b-1,a.position+1),ca.test(c)||o(a,"named tag handle cannot contain such characters"),h=!0,b=a.position+1)),e=a.input.charCodeAt(++a.position);d=a.input.slice(b,a.position),ba.test(d)&&o(a,"tag suffix cannot contain flow indicator characters")}return d&&!da.test(d)&&o(a,"tag name cannot contain such characters: "+d),g?a.tag=d:T.call(a.tagMap,c)?a.tag=a.tagMap[c]+d:"!"===c?a.tag="!"+d:"!!"===c?a.tag="tag:yaml.org,2002:"+d:o(a,'undeclared tag handle "'+c+'"'),!0}function F(a){var b,c;if(38!==(c=a.input.charCodeAt(a.position)))return!1;for(null!==a.anchor&&o(a,"duplication of an anchor property"),c=a.input.charCodeAt(++a.position),b=a.position;0!==c&&!f(c)&&!g(c);)c=a.input.charCodeAt(++a.position);return a.position===b&&o(a,"name of an anchor node must contain at least one character"),a.anchor=a.input.slice(b,a.position),!0}function G(a){var b,c,d;if(42!==(d=a.input.charCodeAt(a.position)))return!1;for(d=a.input.charCodeAt(++a.position),b=a.position;0!==d&&!f(d)&&!g(d);)d=a.input.charCodeAt(++a.position);return a.position===b&&o(a,"name of an alias node must contain at least one character"),c=a.input.slice(b,a.position),a.anchorMap.hasOwnProperty(c)||o(a,'unidentified alias "'+c+'"'),a.result=a.anchorMap[c],u(a,!0,-1),!0}function H(a,b,c,d,e){var f,g,h,i,j,k,l,m,n=1,p=!1,q=!1;if(null!==a.listener&&a.listener("open",a),a.tag=null,a.anchor=null,a.kind=null,a.result=null,f=g=h=X===c||W===c,d&&u(a,!0,-1)&&(p=!0,a.lineIndent>b?n=1:a.lineIndent===b?n=0:a.lineIndent<b&&(n=-1)),1===n)for(;E(a)||F(a);)u(a,!0,-1)?(p=!0,h=f,a.lineIndent>b?n=1:a.lineIndent===b?n=0:a.lineIndent<b&&(n=-1)):h=!1;if(h&&(h=p||e),1!==n&&X!==c||(l=U===c||V===c?b:b+1,m=a.position-a.lineStart,1===n?h&&(C(a,m)||D(a,m,l))||A(a,l)?q=!0:(g&&B(a,l)||y(a,l)||z(a,l)?q=!0:G(a)?(q=!0,null===a.tag&&null===a.anchor||o(a,"alias node should not have any properties")):x(a,l,U===c)&&(q=!0,null===a.tag&&(a.tag="?")),null!==a.anchor&&(a.anchorMap[a.anchor]=a.result)):0===n&&(q=h&&C(a,m))),null!==a.tag&&"!"!==a.tag)if("?"===a.tag){for(i=0,j=a.implicitTypes.length;i<j;i+=1)if(k=a.implicitTypes[i],k.resolve(a.result)){a.result=k.construct(a.result),a.tag=k.tag,null!==a.anchor&&(a.anchorMap[a.anchor]=a.result);break}}else T.call(a.typeMap[a.kind||"fallback"],a.tag)?(k=a.typeMap[a.kind||"fallback"][a.tag],null!==a.result&&k.kind!==a.kind&&o(a,"unacceptable node kind for !<"+a.tag+'> tag; it should be "'+k.kind+'", not "'+a.kind+'"'),k.resolve(a.result)?(a.result=k.construct(a.result),null!==a.anchor&&(a.anchorMap[a.anchor]=a.result)):o(a,"cannot resolve a node with !<"+a.tag+"> explicit tag")):o(a,"unknown tag !<"+a.tag+">");return null!==a.listener&&a.listener("close",a),null!==a.tag||null!==a.anchor||q}function I(a){var b,c,g,h,i=a.position,j=!1;for(a.version=null,a.checkLineBreaks=a.legacy,a.tagMap={},a.anchorMap={};0!==(h=a.input.charCodeAt(a.position))&&(u(a,!0,-1),h=a.input.charCodeAt(a.position),!(a.lineIndent>0||37!==h));){for(j=!0,h=a.input.charCodeAt(++a.position),b=a.position;0!==h&&!f(h);)h=a.input.charCodeAt(++a.position);for(c=a.input.slice(b,a.position),g=[],c.length<1&&o(a,"directive name must not be less than one character in length");0!==h;){for(;e(h);)h=a.input.charCodeAt(++a.position);if(35===h){do{h=a.input.charCodeAt(++a.position)}while(0!==h&&!d(h));break}if(d(h))break;for(b=a.position;0!==h&&!f(h);)h=a.input.charCodeAt(++a.position);g.push(a.input.slice(b,a.position))}0!==h&&t(a),T.call(ha,c)?ha[c](a,c,g):p(a,'unknown document directive "'+c+'"')}if(u(a,!0,-1),0===a.lineIndent&&45===a.input.charCodeAt(a.position)&&45===a.input.charCodeAt(a.position+1)&&45===a.input.charCodeAt(a.position+2)?(a.position+=3,u(a,!0,-1)):j&&o(a,"directives end mark is expected"),H(a,a.lineIndent-1,X,!1,!0),u(a,!0,-1),a.checkLineBreaks&&aa.test(a.input.slice(i,a.position))&&p(a,"non-ASCII line breaks are interpreted as content"),a.documents.push(a.result),a.position===a.lineStart&&v(a))return void(46===a.input.charCodeAt(a.position)&&(a.position+=3,u(a,!0,-1)));a.position<a.length-1&&o(a,"end of the stream or a document separator is expected")}function J(a,b){a=String(a),b=b||{},0!==a.length&&(10!==a.charCodeAt(a.length-1)&&13!==a.charCodeAt(a.length-1)&&(a+="\n"),65279===a.charCodeAt(0)&&(a=a.slice(1)));var c=new m(a,b);for(c.input+="\0";32===c.input.charCodeAt(c.position);)c.lineIndent+=1,c.position+=1;for(;c.position<c.length-1;)I(c);return c.documents}function K(a,b,c){var d,e,f=J(a,c);if("function"!=typeof b)return f;for(d=0,e=f.length;d<e;d+=1)b(f[d])}function L(a,b){var c=J(a,b);if(0!==c.length){if(1===c.length)return c[0];throw new P("expected a single document in the stream, but found more")}}function M(a,b,c){if("function"!=typeof b)return K(a,O.extend({schema:R},c));K(a,b,O.extend({schema:R},c))}function N(a,b){return L(a,O.extend({schema:R},b))}for(var O=a("./common"),P=a("./exception"),Q=a("./mark"),R=a("./schema/default_safe"),S=a("./schema/default_full"),T=Object.prototype.hasOwnProperty,U=1,V=2,W=3,X=4,Y=1,Z=2,$=3,_=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,aa=/[\x85\u2028\u2029]/,ba=/[,\[\]\{\}]/,ca=/^(?:!|!!|![a-z\-]+!)$/i,da=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,ea=new Array(256),fa=new Array(256),ga=0;ga<256;ga++)ea[ga]=k(ga)?1:0,fa[ga]=k(ga);var ha={YAML:function(a,b,c){var d,e,f;null!==a.version&&o(a,"duplication of %YAML directive"),1!==c.length&&o(a,"YAML directive accepts exactly one argument"),d=/^([0-9]+)\.([0-9]+)$/.exec(c[0]),null===d&&o(a,"ill-formed argument of the YAML directive"),e=parseInt(d[1],10),f=parseInt(d[2],10),1!==e&&o(a,"unacceptable YAML version of the document"),a.version=c[0],a.checkLineBreaks=f<2,1!==f&&2!==f&&p(a,"unsupported YAML version of the document")},TAG:function(a,b,c){var d,e;2!==c.length&&o(a,"TAG directive accepts exactly two arguments"),d=c[0],e=c[1],ca.test(d)||o(a,"ill-formed tag handle (first argument) of the TAG directive"),T.call(a.tagMap,d)&&o(a,'there is a previously declared suffix for "'+d+'" tag handle'),da.test(e)||o(a,"ill-formed tag prefix (second argument) of the TAG directive"),a.tagMap[d]=e}};b.exports.loadAll=K,b.exports.load=L,b.exports.safeLoadAll=M,b.exports.safeLoad=N},{"./common":43,"./exception":45,"./mark":47,"./schema/default_full":50,"./schema/default_safe":51}],47:[function(a,b,c){"use strict";function d(a,b,c,d,e){this.name=a,this.buffer=b,this.position=c,this.line=d,this.column=e}var e=a("./common");d.prototype.getSnippet=function(a,b){var c,d,f,g,h;if(!this.buffer)return null
;for(a=a||4,b=b||75,c="",d=this.position;d>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(d-1));)if(d-=1,this.position-d>b/2-1){c=" ... ",d+=5;break}for(f="",g=this.position;g<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(g));)if((g+=1)-this.position>b/2-1){f=" ... ",g-=5;break}return h=this.buffer.slice(d,g),e.repeat(" ",a)+c+h+f+"\n"+e.repeat(" ",a+this.position-d+c.length)+"^"},d.prototype.toString=function(a){var b,c="";return this.name&&(c+='in "'+this.name+'" '),c+="at line "+(this.line+1)+", column "+(this.column+1),a||(b=this.getSnippet())&&(c+=":\n"+b),c},b.exports=d},{"./common":43}],48:[function(a,b,c){"use strict";function d(a,b,c){var e=[];return a.include.forEach(function(a){c=d(a,b,c)}),a[b].forEach(function(a){c.forEach(function(b,c){b.tag===a.tag&&b.kind===a.kind&&e.push(c)}),c.push(a)}),c.filter(function(a,b){return-1===e.indexOf(b)})}function e(){function a(a){d[a.kind][a.tag]=d.fallback[a.tag]=a}var b,c,d={scalar:{},sequence:{},mapping:{},fallback:{}};for(b=0,c=arguments.length;b<c;b+=1)arguments[b].forEach(a);return d}function f(a){this.include=a.include||[],this.implicit=a.implicit||[],this.explicit=a.explicit||[],this.implicit.forEach(function(a){if(a.loadKind&&"scalar"!==a.loadKind)throw new h("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=d(this,"implicit",[]),this.compiledExplicit=d(this,"explicit",[]),this.compiledTypeMap=e(this.compiledImplicit,this.compiledExplicit)}var g=a("./common"),h=a("./exception"),i=a("./type");f.DEFAULT=null,f.create=function(){var a,b;switch(arguments.length){case 1:a=f.DEFAULT,b=arguments[0];break;case 2:a=arguments[0],b=arguments[1];break;default:throw new h("Wrong number of arguments for Schema.create function")}if(a=g.toArray(a),b=g.toArray(b),!a.every(function(a){return a instanceof f}))throw new h("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!b.every(function(a){return a instanceof i}))throw new h("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new f({include:a,explicit:b})},b.exports=f},{"./common":43,"./exception":45,"./type":54}],49:[function(a,b,c){"use strict";var d=a("../schema");b.exports=new d({include:[a("./json")]})},{"../schema":48,"./json":53}],50:[function(a,b,c){"use strict";var d=a("../schema");b.exports=d.DEFAULT=new d({include:[a("./default_safe")],explicit:[a("../type/js/undefined"),a("../type/js/regexp"),a("../type/js/function")]})},{"../schema":48,"../type/js/function":59,"../type/js/regexp":60,"../type/js/undefined":61,"./default_safe":51}],51:[function(a,b,c){"use strict";var d=a("../schema");b.exports=new d({include:[a("./core")],implicit:[a("../type/timestamp"),a("../type/merge")],explicit:[a("../type/binary"),a("../type/omap"),a("../type/pairs"),a("../type/set")]})},{"../schema":48,"../type/binary":55,"../type/merge":63,"../type/omap":65,"../type/pairs":66,"../type/set":68,"../type/timestamp":70,"./core":49}],52:[function(a,b,c){"use strict";var d=a("../schema");b.exports=new d({explicit:[a("../type/str"),a("../type/seq"),a("../type/map")]})},{"../schema":48,"../type/map":62,"../type/seq":67,"../type/str":69}],53:[function(a,b,c){"use strict";var d=a("../schema");b.exports=new d({include:[a("./failsafe")],implicit:[a("../type/null"),a("../type/bool"),a("../type/int"),a("../type/float")]})},{"../schema":48,"../type/bool":56,"../type/float":57,"../type/int":58,"../type/null":64,"./failsafe":52}],54:[function(a,b,c){"use strict";function d(a){var b={};return null!==a&&Object.keys(a).forEach(function(c){a[c].forEach(function(a){b[String(a)]=c})}),b}function e(a,b){if(b=b||{},Object.keys(b).forEach(function(b){if(-1===g.indexOf(b))throw new f('Unknown option "'+b+'" is met in definition of "'+a+'" YAML type.')}),this.tag=a,this.kind=b.kind||null,this.resolve=b.resolve||function(){return!0},this.construct=b.construct||function(a){return a},this.instanceOf=b.instanceOf||null,this.predicate=b.predicate||null,this.represent=b.represent||null,this.defaultStyle=b.defaultStyle||null,this.styleAliases=d(b.styleAliases||null),-1===h.indexOf(this.kind))throw new f('Unknown kind "'+this.kind+'" is specified for "'+a+'" YAML type.')}var f=a("./exception"),g=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],h=["scalar","sequence","mapping"];b.exports=e},{"./exception":45}],55:[function(a,b,c){"use strict";function d(a){if(null===a)return!1;var b,c,d=0,e=a.length,f=j;for(c=0;c<e;c++)if(!((b=f.indexOf(a.charAt(c)))>64)){if(b<0)return!1;d+=6}return d%8==0}function e(a){var b,c,d=a.replace(/[\r\n=]/g,""),e=d.length,f=j,g=0,i=[];for(b=0;b<e;b++)b%4==0&&b&&(i.push(g>>16&255),i.push(g>>8&255),i.push(255&g)),g=g<<6|f.indexOf(d.charAt(b));return c=e%4*6,0===c?(i.push(g>>16&255),i.push(g>>8&255),i.push(255&g)):18===c?(i.push(g>>10&255),i.push(g>>2&255)):12===c&&i.push(g>>4&255),h?h.from?h.from(i):new h(i):i}function f(a){var b,c,d="",e=0,f=a.length,g=j;for(b=0;b<f;b++)b%3==0&&b&&(d+=g[e>>18&63],d+=g[e>>12&63],d+=g[e>>6&63],d+=g[63&e]),e=(e<<8)+a[b];return c=f%3,0===c?(d+=g[e>>18&63],d+=g[e>>12&63],d+=g[e>>6&63],d+=g[63&e]):2===c?(d+=g[e>>10&63],d+=g[e>>4&63],d+=g[e<<2&63],d+=g[64]):1===c&&(d+=g[e>>2&63],d+=g[e<<4&63],d+=g[64],d+=g[64]),d}function g(a){return h&&h.isBuffer(a)}var h;try{h=a("buffer").Buffer}catch(k){}var i=a("../type"),j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";b.exports=new i("tag:yaml.org,2002:binary",{kind:"scalar",resolve:d,construct:e,predicate:g,represent:f})},{"../type":54}],56:[function(a,b,c){"use strict";function d(a){if(null===a)return!1;var b=a.length;return 4===b&&("true"===a||"True"===a||"TRUE"===a)||5===b&&("false"===a||"False"===a||"FALSE"===a)}function e(a){return"true"===a||"True"===a||"TRUE"===a}function f(a){return"[object Boolean]"===Object.prototype.toString.call(a)}var g=a("../type");b.exports=new g("tag:yaml.org,2002:bool",{kind:"scalar",resolve:d,construct:e,predicate:f,represent:{lowercase:function(a){return a?"true":"false"},uppercase:function(a){return a?"TRUE":"FALSE"},camelcase:function(a){return a?"True":"False"}},defaultStyle:"lowercase"})},{"../type":54}],57:[function(a,b,c){"use strict";function d(a){return null!==a&&!(!j.test(a)||"_"===a[a.length-1])}function e(a){var b,c,d,e;return b=a.replace(/_/g,"").toLowerCase(),c="-"===b[0]?-1:1,e=[],"+-".indexOf(b[0])>=0&&(b=b.slice(1)),".inf"===b?1===c?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===b?NaN:b.indexOf(":")>=0?(b.split(":").forEach(function(a){e.unshift(parseFloat(a,10))}),b=0,d=1,e.forEach(function(a){b+=a*d,d*=60}),c*b):c*parseFloat(b,10)}function f(a,b){var c;if(isNaN(a))switch(b){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===a)switch(b){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===a)switch(b){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(h.isNegativeZero(a))return"-0.0";return c=a.toString(10),k.test(c)?c.replace("e",".e"):c}function g(a){return"[object Number]"===Object.prototype.toString.call(a)&&(a%1!=0||h.isNegativeZero(a))}var h=a("../common"),i=a("../type"),j=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),k=/^[-+]?[0-9]+e/;b.exports=new i("tag:yaml.org,2002:float",{kind:"scalar",resolve:d,construct:e,predicate:g,represent:f,defaultStyle:"lowercase"})},{"../common":43,"../type":54}],58:[function(a,b,c){"use strict";function d(a){return 48<=a&&a<=57||65<=a&&a<=70||97<=a&&a<=102}function e(a){return 48<=a&&a<=55}function f(a){return 48<=a&&a<=57}function g(a){if(null===a)return!1;var b,c=a.length,g=0,h=!1;if(!c)return!1;if(b=a[g],"-"!==b&&"+"!==b||(b=a[++g]),"0"===b){if(g+1===c)return!0;if("b"===(b=a[++g])){for(g++;g<c;g++)if("_"!==(b=a[g])){if("0"!==b&&"1"!==b)return!1;h=!0}return h&&"_"!==b}if("x"===b){for(g++;g<c;g++)if("_"!==(b=a[g])){if(!d(a.charCodeAt(g)))return!1;h=!0}return h&&"_"!==b}for(;g<c;g++)if("_"!==(b=a[g])){if(!e(a.charCodeAt(g)))return!1;h=!0}return h&&"_"!==b}if("_"===b)return!1;for(;g<c;g++)if("_"!==(b=a[g])){if(":"===b)break;if(!f(a.charCodeAt(g)))return!1;h=!0}return!(!h||"_"===b)&&(":"!==b||/^(:[0-5]?[0-9])+$/.test(a.slice(g)))}function h(a){var b,c,d=a,e=1,f=[];return-1!==d.indexOf("_")&&(d=d.replace(/_/g,"")),b=d[0],"-"!==b&&"+"!==b||("-"===b&&(e=-1),d=d.slice(1),b=d[0]),"0"===d?0:"0"===b?"b"===d[1]?e*parseInt(d.slice(2),2):"x"===d[1]?e*parseInt(d,16):e*parseInt(d,8):-1!==d.indexOf(":")?(d.split(":").forEach(function(a){f.unshift(parseInt(a,10))}),d=0,c=1,f.forEach(function(a){d+=a*c,c*=60}),e*d):e*parseInt(d,10)}function i(a){return"[object Number]"===Object.prototype.toString.call(a)&&a%1==0&&!j.isNegativeZero(a)}var j=a("../common"),k=a("../type");b.exports=new k("tag:yaml.org,2002:int",{kind:"scalar",resolve:g,construct:h,predicate:i,represent:{binary:function(a){return a>=0?"0b"+a.toString(2):"-0b"+a.toString(2).slice(1)},octal:function(a){return a>=0?"0"+a.toString(8):"-0"+a.toString(8).slice(1)},decimal:function(a){return a.toString(10)},hexadecimal:function(a){return a>=0?"0x"+a.toString(16).toUpperCase():"-0x"+a.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":43,"../type":54}],59:[function(a,b,c){"use strict";function d(a){if(null===a)return!1;try{var b="("+a+")",c=h.parse(b,{range:!0});return"Program"===c.type&&1===c.body.length&&"ExpressionStatement"===c.body[0].type&&("ArrowFunctionExpression"===c.body[0].expression.type||"FunctionExpression"===c.body[0].expression.type)}catch(d){return!1}}function e(a){var b,c="("+a+")",d=h.parse(c,{range:!0}),e=[];if("Program"!==d.type||1!==d.body.length||"ExpressionStatement"!==d.body[0].type||"ArrowFunctionExpression"!==d.body[0].expression.type&&"FunctionExpression"!==d.body[0].expression.type)throw new Error("Failed to resolve function");return d.body[0].expression.params.forEach(function(a){e.push(a.name)}),b=d.body[0].expression.body.range,"BlockStatement"===d.body[0].expression.body.type?new Function(e,c.slice(b[0]+1,b[1]-1)):new Function(e,"return "+c.slice(b[0],b[1]))}function f(a){return a.toString()}function g(a){return"[object Function]"===Object.prototype.toString.call(a)}var h;try{h=a("esprima")}catch(j){"undefined"!=typeof window&&(h=window.esprima)}var i=a("../../type");b.exports=new i("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:d,construct:e,predicate:g,represent:f})},{"../../type":54}],60:[function(a,b,c){"use strict";function d(a){if(null===a)return!1;if(0===a.length)return!1;var b=a,c=/\/([gim]*)$/.exec(a),d="";if("/"===b[0]){if(c&&(d=c[1]),d.length>3)return!1;if("/"!==b[b.length-d.length-1])return!1}return!0}function e(a){var b=a,c=/\/([gim]*)$/.exec(a),d="";return"/"===b[0]&&(c&&(d=c[1]),b=b.slice(1,b.length-d.length-1)),new RegExp(b,d)}function f(a){var b="/"+a.source+"/";return a.global&&(b+="g"),a.multiline&&(b+="m"),a.ignoreCase&&(b+="i"),b}function g(a){return"[object RegExp]"===Object.prototype.toString.call(a)}var h=a("../../type");b.exports=new h("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:d,construct:e,predicate:g,represent:f})},{"../../type":54}],61:[function(a,b,c){"use strict";function d(){return!0}function e(){}function f(){return""}function g(a){return void 0===a}var h=a("../../type");b.exports=new h("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:d,construct:e,predicate:g,represent:f})},{"../../type":54}],62:[function(a,b,c){"use strict";var d=a("../type");b.exports=new d("tag:yaml.org,2002:map",{kind:"mapping",construct:function(a){return null!==a?a:{}}})},{"../type":54}],63:[function(a,b,c){"use strict";function d(a){return"<<"===a||null===a}var e=a("../type");b.exports=new e("tag:yaml.org,2002:merge",{kind:"scalar",resolve:d})},{"../type":54}],64:[function(a,b,c){"use strict";function d(a){if(null===a)return!0;var b=a.length;return 1===b&&"~"===a||4===b&&("null"===a||"Null"===a||"NULL"===a)}function e(){return null}function f(a){return null===a}var g=a("../type");b.exports=new g("tag:yaml.org,2002:null",{kind:"scalar",resolve:d,construct:e,predicate:f,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":54}],65:[function(a,b,c){"use strict";function d(a){if(null===a)return!0;var b,c,d,e,f,i=[],j=a;for(b=0,c=j.length;b<c;b+=1){if(d=j[b],f=!1,"[object Object]"!==h.call(d))return!1;for(e in d)if(g.call(d,e)){if(f)return!1;f=!0}if(!f)return!1;if(-1!==i.indexOf(e))return!1;i.push(e)}return!0}function e(a){return null!==a?a:[]}var f=a("../type"),g=Object.prototype.hasOwnProperty,h=Object.prototype.toString;b.exports=new f("tag:yaml.org,2002:omap",{kind:"sequence",resolve:d,construct:e})},{"../type":54}],66:[function(a,b,c){"use strict";function d(a){if(null===a)return!0;var b,c,d,e,f,h=a;for(f=new Array(h.length),b=0,c=h.length;b<c;b+=1){if(d=h[b],"[object Object]"!==g.call(d))return!1;if(e=Object.keys(d),1!==e.length)return!1;f[b]=[e[0],d[e[0]]]}return!0}function e(a){if(null===a)return[];var b,c,d,e,f,g=a;for(f=new Array(g.length),b=0,c=g.length;b<c;b+=1)d=g[b],e=Object.keys(d),f[b]=[e[0],d[e[0]]];return f}var f=a("../type"),g=Object.prototype.toString;b.exports=new f("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:d,construct:e})},{"../type":54}],67:[function(a,b,c){"use strict";var d=a("../type");b.exports=new d("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(a){return null!==a?a:[]}})},{"../type":54}],68:[function(a,b,c){"use strict";function d(a){if(null===a)return!0;var b,c=a;for(b in c)if(g.call(c,b)&&null!==c[b])return!1;return!0}function e(a){return null!==a?a:{}}var f=a("../type"),g=Object.prototype.hasOwnProperty;b.exports=new f("tag:yaml.org,2002:set",{kind:"mapping",resolve:d,construct:e})},{"../type":54}],69:[function(a,b,c){"use strict";var d=a("../type");b.exports=new d("tag:yaml.org,2002:str",{kind:"scalar",construct:function(a){return null!==a?a:""}})},{"../type":54}],70:[function(a,b,c){"use strict";function d(a){return null!==a&&(null!==h.exec(a)||null!==i.exec(a))}function e(a){var b,c,d,e,f,g,j,k,l,m,n=0,o=null;if(b=h.exec(a),null===b&&(b=i.exec(a)),null===b)throw new Error("Date resolve error");if(c=+b[1],d=+b[2]-1,e=+b[3],!b[4])return new Date(Date.UTC(c,d,e));if(f=+b[4],g=+b[5],j=+b[6],b[7]){for(n=b[7].slice(0,3);n.length<3;)n+="0";n=+n}return b[9]&&(k=+b[10],l=+(b[11]||0),o=6e4*(60*k+l),"-"===b[9]&&(o=-o)),m=new Date(Date.UTC(c,d,e,f,g,j,n)),o&&m.setTime(m.getTime()-o),m}function f(a){return a.toISOString()}var g=a("../type"),h=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");b.exports=new g("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:d,construct:e,instanceOf:Date,represent:f})},{"../type":54}],71:[function(a,b,c){function d(a){if(a=String(a),!(a.length>100)){var b=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*m;case"weeks":case"week":case"w":return c*l;case"days":case"day":case"d":return c*k;case"hours":case"hour":case"hrs":case"hr":case"h":return c*j;case"minutes":case"minute":case"mins":case"min":case"m":return c*i;case"seconds":case"second":case"secs":case"sec":case"s":return c*h;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function e(a){var b=Math.abs(a);return b>=k?Math.round(a/k)+"d":b>=j?Math.round(a/j)+"h":b>=i?Math.round(a/i)+"m":b>=h?Math.round(a/h)+"s":a+"ms"}function f(a){var b=Math.abs(a);return b>=k?g(a,b,k,"day"):b>=j?g(a,b,j,"hour"):b>=i?g(a,b,i,"minute"):b>=h?g(a,b,h,"second"):a+" ms"}function g(a,b,c,d){var e=b>=1.5*c;return Math.round(a/c)+" "+d+(e?"s":"")}var h=1e3,i=60*h,j=60*i,k=24*j,l=7*k,m=365.25*k;b.exports=function(a,b){b=b||{};var c=typeof a;if("string"===c&&a.length>0)return d(a);if("number"===c&&!1===isNaN(a))return b.long?f(a):e(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}},{}],72:[function(a,b,c){(function(a){"use strict";function c(a,b){return null==a?void 0:a[b]}function d(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(c){}return b}function e(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function f(){this.__data__=ra?ra(null):{}}function g(a){return this.has(a)&&delete this.__data__[a]}function h(a){var b=this.__data__;if(ra){var c=b[a];return c===S?void 0:c}return la.call(b,a)?b[a]:void 0}function i(a){var b=this.__data__;return ra?void 0!==b[a]:la.call(b,a)}function j(a,b){return this.__data__[a]=ra&&void 0===b?S:b,this}function k(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function l(){this.__data__=[]}function m(a){var b=this.__data__,c=w(b,a);return!(c<0)&&(c==b.length-1?b.pop():pa.call(b,c,1),!0)}function n(a){var b=this.__data__,c=w(b,a);return c<0?void 0:b[c][1]}function o(a){return w(this.__data__,a)>-1}function p(a,b){var c=this.__data__,d=w(c,a);return d<0?c.push([a,b]):c[d][1]=b,this}function q(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function r(){this.__data__={hash:new e,map:new(qa||k),string:new e}}function s(a){return B(this,a).delete(a)}function t(a){return B(this,a).get(a)}function u(a){return B(this,a).has(a)}function v(a,b){return B(this,a).set(a,b),this}function w(a,b){for(var c=a.length;c--;)if(J(a[c][0],b))return c;return-1}function x(a,b){b=D(b,a)?[b]:A(b);for(var c=0,d=b.length;null!=a&&c<d;)a=a[G(b[c++])];return c&&c==d?a:void 0}function y(a){return!(!L(a)||F(a))&&(K(a)||d(a)?na:ba).test(H(a))}function z(a){if("string"==typeof a)return a;if(N(a))return ta?ta.call(a):"";var b=a+"";return"0"==b&&1/a==-T?"-0":b}function A(a){return va(a)?a:ua(a)}function B(a,b){var c=a.__data__;return E(b)?c["string"==typeof b?"string":"hash"]:c.map}function C(a,b){var d=c(a,b);return y(d)?d:void 0}function D(a,b){if(va(a))return!1;var c=void 0===a?"undefined":Q(a);return!("number"!=c&&"symbol"!=c&&"boolean"!=c&&null!=a&&!N(a))||(Y.test(a)||!X.test(a)||null!=b&&a in Object(b))}function E(a){var b=void 0===a?"undefined":Q(a);return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function F(a){return!!ja&&ja in a}function G(a){if("string"==typeof a||N(a))return a;var b=a+"";return"0"==b&&1/a==-T?"-0":b}function H(a){if(null!=a){try{return ka.call(a)}catch(b){}try{return a+""}catch(b){}}return""}function I(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new TypeError(R);var c=function c(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g),g};return c.cache=new(I.Cache||q),c}function J(a,b){return a===b||a!==a&&b!==b}function K(a){var b=L(a)?ma.call(a):"";return b==U||b==V}function L(a){var b=void 0===a?"undefined":Q(a);return!!a&&("object"==b||"function"==b)}function M(a){return!!a&&"object"==(void 0===a?"undefined":Q(a))}function N(a){return"symbol"==(void 0===a?"undefined":Q(a))||M(a)&&ma.call(a)==W}function O(a){return null==a?"":z(a)}function P(a,b,c){var d=null==a?void 0:x(a,b);return void 0===d?c:d}var Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},R="Expected a function",S="__lodash_hash_undefined__",T=1/0,U="[object Function]",V="[object GeneratorFunction]",W="[object Symbol]",X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y=/^\w*$/,Z=/^\./,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_=/[\\^$.*+?()[\]{}|]/g,aa=/\\(\\)?/g,ba=/^\[object .+?Constructor\]$/,ca="object"==(void 0===a?"undefined":Q(a))&&a&&a.Object===Object&&a,da="object"==("undefined"==typeof self?"undefined":Q(self))&&self&&self.Object===Object&&self,ea=ca||da||Function("return this")(),fa=Array.prototype,ga=Function.prototype,ha=Object.prototype,ia=ea["__core-js_shared__"],ja=function(){var a=/[^.]+$/.exec(ia&&ia.keys&&ia.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),ka=ga.toString,la=ha.hasOwnProperty,ma=ha.toString,na=RegExp("^"+ka.call(la).replace(_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oa=ea.Symbol,pa=fa.splice,qa=C(ea,"Map"),ra=C(Object,"create"),sa=oa?oa.prototype:void 0,ta=sa?sa.toString:void 0;e.prototype.clear=f,e.prototype.delete=g,e.prototype.get=h,e.prototype.has=i,e.prototype.set=j,k.prototype.clear=l,k.prototype.delete=m,k.prototype.get=n,k.prototype.has=o,k.prototype.set=p,q.prototype.clear=r,q.prototype.delete=s,q.prototype.get=t,q.prototype.has=u,q.prototype.set=v;var ua=I(function(a){a=O(a);var b=[];return Z.test(a)&&b.push(""),a.replace($,function(a,c,d,e){b.push(d?e.replace(aa,"$1"):c||a)}),b});I.Cache=q;var va=Array.isArray;b.exports=P}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],73:[function(a,b,c){(function(a){"use strict";function d(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function e(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function f(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function g(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function h(a){return function(b){return a(b)}}function i(a,b){return a.has(b)}function j(a,b){return null==a?void 0:a[b]}function k(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function l(a,b){return function(c){return a(b(c))}}function m(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function n(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function o(){this.__data__=Db?Db(null):{},this.size=0}function p(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}function q(a){var b=this.__data__;if(Db){var c=b[a];return c===va?void 0:c}return lb.call(b,a)?b[a]:void 0}function r(a){var b=this.__data__;return Db?void 0!==b[a]:lb.call(b,a)}function s(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=Db&&void 0===b?va:b,this}function t(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function u(){this.__data__=[],this.size=0}function v(a){var b=this.__data__,c=P(b,a);return!(c<0)&&(c==b.length-1?b.pop():tb.call(b,c,1),--this.size,!0)}function w(a){var b=this.__data__,c=P(b,a);return c<0?void 0:b[c][1]}function x(a){return P(this.__data__,a)>-1}function y(a,b){var c=this.__data__,d=P(c,a);return d<0?(++this.size,c.push([a,b])):c[d][1]=b,this}function z(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function A(){this.size=0,this.__data__={hash:new n,map:new(zb||t),string:new n}}function B(a){var b=aa(this,a).delete(a);return this.size-=b?1:0,b}function C(a){return aa(this,a).get(a)}function D(a){return aa(this,a).has(a)}function E(a,b){var c=aa(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this}function F(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new z;++b<c;)this.add(a[b])}function G(a){return this.__data__.set(a,va),this}function H(a){return this.__data__.has(a)}function I(a){var b=this.__data__=new t(a);this.size=b.size}function J(){this.__data__=new t,this.size=0}function K(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c}function L(a){return this.__data__.get(a)}function M(a){return this.__data__.has(a)}function N(a,b){var c=this.__data__;if(c instanceof t){var d=c.__data__;if(!zb||d.length<ua-1)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new z(d)}return c.set(a,b),this.size=c.size,this}function O(a,b){var c=Ob(a),d=!c&&Nb(a),e=!c&&!d&&Pb(a),f=!c&&!d&&!e&&Qb(a),h=c||d||e||f,i=h?g(a.length,String):[],j=i.length;for(var k in a)!b&&!lb.call(a,k)||h&&("length"==k||e&&("offset"==k||"parent"==k)||f&&("buffer"==k||"byteLength"==k||"byteOffset"==k)||da(k,j))||i.push(k);return i}function P(a,b){for(var c=a.length;c--;)if(ja(a[c][0],b))return c;return-1}function Q(a,b,c){var d=b(a);return Ob(a)?d:e(d,c(a))}function R(a){return null==a?void 0===a?Ra:Ja:ub&&ub in Object(a)?ca(a):ha(a)}function S(a){return pa(a)&&R(a)==za}function T(a,b,c,d,e){return a===b||(null==a||null==b||!pa(a)&&!pa(b)?a!==a&&b!==b:U(a,b,c,d,T,e))}function U(a,b,c,d,e,f){var g=Ob(a),h=Ob(b),i=g?Aa:Mb(a),j=h?Aa:Mb(b);i=i==za?Ka:i,j=j==za?Ka:j;var k=i==Ka,l=j==Ka,m=i==j;if(m&&Pb(a)){if(!Pb(b))return!1;g=!0,k=!1}if(m&&!k)return f||(f=new I),g||Qb(a)?Y(a,b,c,d,e,f):Z(a,b,i,c,d,e,f);if(!(c&wa)){var n=k&&lb.call(a,"__wrapped__"),o=l&&lb.call(b,"__wrapped__");if(n||o){var p=n?a.value():a,q=o?b.value():b;return f||(f=new I),e(p,q,c,d,f)}}return!!m&&(f||(f=new I),$(a,b,c,d,e,f))}function V(a){return!(!oa(a)||fa(a))&&(ma(a)?ob:Wa).test(ia(a))}function W(a){return pa(a)&&na(a.length)&&!!Ya[R(a)]}function X(a){if(!ga(a))return xb(a);var b=[];for(var c in Object(a))lb.call(a,c)&&"constructor"!=c&&b.push(c);return b}function Y(a,b,c,d,e,g){var h=c&wa,j=a.length,k=b.length;if(j!=k&&!(h&&k>j))return!1;var l=g.get(a);if(l&&g.get(b))return l==b;var m=-1,n=!0,o=c&xa?new F:void 0;for(g.set(a,b),g.set(b,a);++m<j;){var p=a[m],q=b[m];if(d)var r=h?d(q,p,m,b,a,g):d(p,q,m,a,b,g);if(void 0!==r){if(r)continue;n=!1;break}if(o){if(!f(b,function(a,b){if(!i(o,b)&&(p===a||e(p,a,c,d,g)))return o.push(b)})){n=!1;break}}else if(p!==q&&!e(p,q,c,d,g)){n=!1;break}}return g.delete(a),g.delete(b),n}function Z(a,b,c,d,e,f,g){switch(c){case Ua:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case Ta:return!(a.byteLength!=b.byteLength||!f(new rb(a),new rb(b)));case Ca:case Da:case Ia:return ja(+a,+b);case Ea:return a.name==b.name&&a.message==b.message;case Na:case Pa:return a==b+"";case Ha:var h=k;case Oa:var i=d&wa;if(h||(h=m),a.size!=b.size&&!i)return!1;var j=g.get(a);if(j)return j==b;d|=xa,g.set(a,b);var l=Y(h(a),h(b),d,e,f,g);return g.delete(a),l;case Qa:if(Kb)return Kb.call(a)==Kb.call(b)}return!1}function $(a,b,c,d,e,f){var g=c&wa,h=_(a),i=h.length;if(i!=_(b).length&&!g)return!1;for(var j=i;j--;){var k=h[j];if(!(g?k in b:lb.call(b,k)))return!1}var l=f.get(a);if(l&&f.get(b))return l==b;var m=!0;f.set(a,b),f.set(b,a);for(var n=g;++j<i;){k=h[j];var o=a[k],p=b[k];if(d)var q=g?d(p,o,k,b,a,f):d(o,p,k,a,b,f);if(!(void 0===q?o===p||e(o,p,c,d,f):q)){m=!1;break}n||(n="constructor"==k)}if(m&&!n){var r=a.constructor,s=b.constructor;r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s)&&(m=!1)}return f.delete(a),f.delete(b),m}function _(a){return Q(a,qa,Lb)}function aa(a,b){var c=a.__data__;return ea(b)?c["string"==typeof b?"string":"hash"]:c.map}function ba(a,b){var c=j(a,b);return V(c)?c:void 0}function ca(a){var b=lb.call(a,ub),c=a[ub];try{a[ub]=void 0;var d=!0}catch(f){}var e=nb.call(a);return d&&(b?a[ub]=c:delete a[ub]),e}function da(a,b){return!!(b=null==b?ya:b)&&("number"==typeof a||Xa.test(a))&&a>-1&&a%1==0&&a<b}function ea(a){var b=void 0===a?"undefined":ta(a);return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function fa(a){return!!mb&&mb in a}function ga(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||ib)}function ha(a){return nb.call(a)}function ia(a){if(null!=a){try{return kb.call(a)}catch(b){}try{return a+""}catch(b){}}return""}function ja(a,b){return a===b||a!==a&&b!==b}function ka(a){return null!=a&&na(a.length)&&!ma(a)}function la(a,b){return T(a,b)}function ma(a){if(!oa(a))return!1;var b=R(a);return b==Fa||b==Ga||b==Ba||b==Ma}function na(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=ya}function oa(a){var b=void 0===a?"undefined":ta(a);return null!=a&&("object"==b||"function"==b)}function pa(a){return null!=a&&"object"==(void 0===a?"undefined":ta(a))}function qa(a){return ka(a)?O(a):X(a)}function ra(){return[]}function sa(){return!1}var ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ua=200,va="__lodash_hash_undefined__",wa=1,xa=2,ya=9007199254740991,za="[object Arguments]",Aa="[object Array]",Ba="[object AsyncFunction]",Ca="[object Boolean]",Da="[object Date]",Ea="[object Error]",Fa="[object Function]",Ga="[object GeneratorFunction]",Ha="[object Map]",Ia="[object Number]",Ja="[object Null]",Ka="[object Object]",La="[object Promise]",Ma="[object Proxy]",Na="[object RegExp]",Oa="[object Set]",Pa="[object String]",Qa="[object Symbol]",Ra="[object Undefined]",Sa="[object WeakMap]",Ta="[object ArrayBuffer]",Ua="[object DataView]",Va=/[\\^$.*+?()[\]{}|]/g,Wa=/^\[object .+?Constructor\]$/,Xa=/^(?:0|[1-9]\d*)$/,Ya={};Ya["[object Float32Array]"]=Ya["[object Float64Array]"]=Ya["[object Int8Array]"]=Ya["[object Int16Array]"]=Ya["[object Int32Array]"]=Ya["[object Uint8Array]"]=Ya["[object Uint8ClampedArray]"]=Ya["[object Uint16Array]"]=Ya["[object Uint32Array]"]=!0,Ya[za]=Ya[Aa]=Ya[Ta]=Ya[Ca]=Ya[Ua]=Ya[Da]=Ya[Ea]=Ya[Fa]=Ya[Ha]=Ya[Ia]=Ya[Ka]=Ya[Na]=Ya[Oa]=Ya[Pa]=Ya[Sa]=!1;var Za="object"==(void 0===a?"undefined":ta(a))&&a&&a.Object===Object&&a,$a="object"==("undefined"==typeof self?"undefined":ta(self))&&self&&self.Object===Object&&self,_a=Za||$a||Function("return this")(),ab="object"==(void 0===c?"undefined":ta(c))&&c&&!c.nodeType&&c,bb=ab&&"object"==(void 0===b?"undefined":ta(b))&&b&&!b.nodeType&&b,cb=bb&&bb.exports===ab,db=cb&&Za.process,eb=function(){try{return db&&db.binding&&db.binding("util")}catch(a){}}(),fb=eb&&eb.isTypedArray,gb=Array.prototype,hb=Function.prototype,ib=Object.prototype,jb=_a["__core-js_shared__"],kb=hb.toString,lb=ib.hasOwnProperty,mb=function(){var a=/[^.]+$/.exec(jb&&jb.keys&&jb.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),nb=ib.toString,ob=RegExp("^"+kb.call(lb).replace(Va,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pb=cb?_a.Buffer:void 0,qb=_a.Symbol,rb=_a.Uint8Array,sb=ib.propertyIsEnumerable,tb=gb.splice,ub=qb?qb.toStringTag:void 0,vb=Object.getOwnPropertySymbols,wb=pb?pb.isBuffer:void 0,xb=l(Object.keys,Object),yb=ba(_a,"DataView"),zb=ba(_a,"Map"),Ab=ba(_a,"Promise"),Bb=ba(_a,"Set"),Cb=ba(_a,"WeakMap"),Db=ba(Object,"create"),Eb=ia(yb),Fb=ia(zb),Gb=ia(Ab),Hb=ia(Bb),Ib=ia(Cb),Jb=qb?qb.prototype:void 0,Kb=Jb?Jb.valueOf:void 0;n.prototype.clear=o,n.prototype.delete=p,n.prototype.get=q,n.prototype.has=r,n.prototype.set=s,t.prototype.clear=u,t.prototype.delete=v,t.prototype.get=w,t.prototype.has=x,t.prototype.set=y,z.prototype.clear=A,z.prototype.delete=B,z.prototype.get=C,z.prototype.has=D,z.prototype.set=E,F.prototype.add=F.prototype.push=G,F.prototype.has=H,I.prototype.clear=J,I.prototype.delete=K,I.prototype.get=L,I.prototype.has=M,I.prototype.set=N;var Lb=vb?function(a){return null==a?[]:(a=Object(a),d(vb(a),function(b){return sb.call(a,b)}))}:ra,Mb=R;(yb&&Mb(new yb(new ArrayBuffer(1)))!=Ua||zb&&Mb(new zb)!=Ha||Ab&&Mb(Ab.resolve())!=La||Bb&&Mb(new Bb)!=Oa||Cb&&Mb(new Cb)!=Sa)&&(Mb=function(a){var b=R(a),c=b==Ka?a.constructor:void 0,d=c?ia(c):"";if(d)switch(d){case Eb:return Ua;case Fb:return Ha;case Gb:return La;case Hb:return Oa;case Ib:
return Sa}return b});var Nb=S(function(){return arguments}())?S:function(a){return pa(a)&&lb.call(a,"callee")&&!sb.call(a,"callee")},Ob=Array.isArray,Pb=wb||sa,Qb=fb?h(fb):W;b.exports=la}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],74:[function(b,c,d){(function(b){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(){function f(a,b){return a.set(b[0],b[1]),a}function g(a,b){return a.add(b),a}function h(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function i(a,b,c,d){for(var e=-1,f=null==a?0:a.length;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}function j(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&!1!==b(a[c],c,a););return a}function k(a,b){for(var c=null==a?0:a.length;c--&&!1!==b(a[c],c,a););return a}function l(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function m(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function n(a,b){return!!(null==a?0:a.length)&&y(a,b,0)>-1}function o(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,a[d]))return!0;return!1}function p(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function q(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function r(a,b,c,d){var e=-1,f=null==a?0:a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function s(a,b,c,d){var e=null==a?0:a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function t(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function u(a){return a.split("")}function v(a){return a.match(Rb)||[]}function w(a,b,c){var d;return c(a,function(a,c,e){if(b(a,c,e))return d=c,!1}),d}function x(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return-1}function y(a,b,c){return b===b?Z(a,b,c):x(a,A,c)}function z(a,b,c,d){for(var e=c-1,f=a.length;++e<f;)if(d(a[e],b))return e;return-1}function A(a){return a!==a}function B(a,b){var c=null==a?0:a.length;return c?G(a,b)/c:La}function C(a){return function(b){return null==b?ea:b[a]}}function D(a){return function(b){return null==a?ea:a[b]}}function E(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function F(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function G(a,b){for(var c,d=-1,e=a.length;++d<e;){var f=b(a[d]);f!==ea&&(c=c===ea?f:c+f)}return c}function H(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function I(a,b){return p(b,function(b){return[b,a[b]]})}function J(a){return function(b){return a(b)}}function K(a,b){return p(b,function(b){return a[b]})}function L(a,b){return a.has(b)}function M(a,b){for(var c=-1,d=a.length;++c<d&&y(b,a[c],0)>-1;);return c}function N(a,b){for(var c=a.length;c--&&y(b,a[c],0)>-1;);return c}function O(a,b){for(var c=a.length,d=0;c--;)a[c]===b&&++d;return d}function P(a){return"\\"+bd[a]}function Q(a,b){return null==a?ea:a[b]}function R(a){return Uc.test(a)}function S(a){return Vc.test(a)}function T(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function U(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function V(a,b){return function(c){return a(b(c))}}function W(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c];g!==b&&g!==la||(a[c]=la,f[e++]=c)}return f}function X(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function Y(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=[a,a]}),c}function Z(a,b,c){for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function $(a,b,c){for(var d=c+1;d--;)if(a[d]===b)return d;return d}function _(a){return R(a)?ba(a):sd(a)}function aa(a){return R(a)?ca(a):u(a)}function ba(a){for(var b=Sc.lastIndex=0;Sc.test(a);)++b;return b}function ca(a){return a.match(Sc)||[]}function da(a){return a.match(Tc)||[]}var ea,fa="4.17.4",ga=200,ha="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ia="Expected a function",ja="__lodash_hash_undefined__",ka=500,la="__lodash_placeholder__",ma=1,na=2,oa=4,pa=1,qa=2,ra=1,sa=2,ta=4,ua=8,va=16,wa=32,xa=64,ya=128,za=256,Aa=512,Ba=30,Ca="...",Da=800,Ea=16,Fa=1,Ga=2,Ha=3,Ia=1/0,Ja=9007199254740991,Ka=1.7976931348623157e308,La=NaN,Ma=4294967295,Na=Ma-1,Oa=Ma>>>1,Pa=[["ary",ya],["bind",ra],["bindKey",sa],["curry",ua],["curryRight",va],["flip",Aa],["partial",wa],["partialRight",xa],["rearg",za]],Qa="[object Arguments]",Ra="[object Array]",Sa="[object AsyncFunction]",Ta="[object Boolean]",Ua="[object Date]",Va="[object DOMException]",Wa="[object Error]",Xa="[object Function]",Ya="[object GeneratorFunction]",Za="[object Map]",$a="[object Number]",_a="[object Null]",ab="[object Object]",bb="[object Promise]",cb="[object Proxy]",db="[object RegExp]",eb="[object Set]",fb="[object String]",gb="[object Symbol]",hb="[object Undefined]",ib="[object WeakMap]",jb="[object WeakSet]",kb="[object ArrayBuffer]",lb="[object DataView]",mb="[object Float32Array]",nb="[object Float64Array]",ob="[object Int8Array]",pb="[object Int16Array]",qb="[object Int32Array]",rb="[object Uint8Array]",sb="[object Uint8ClampedArray]",tb="[object Uint16Array]",ub="[object Uint32Array]",vb=/\b__p \+= '';/g,wb=/\b(__p \+=) '' \+/g,xb=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yb=/&(?:amp|lt|gt|quot|#39);/g,zb=/[&<>"']/g,Ab=RegExp(yb.source),Bb=RegExp(zb.source),Cb=/<%-([\s\S]+?)%>/g,Db=/<%([\s\S]+?)%>/g,Eb=/<%=([\s\S]+?)%>/g,Fb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Gb=/^\w*$/,Hb=/^\./,Ib=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jb=/[\\^$.*+?()[\]{}|]/g,Kb=RegExp(Jb.source),Lb=/^\s+|\s+$/g,Mb=/^\s+/,Nb=/\s+$/,Ob=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pb=/\{\n\/\* \[wrapped with (.+)\] \*/,Qb=/,? & /,Rb=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Sb=/\\(\\)?/g,Tb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ub=/\w*$/,Vb=/^[-+]0x[0-9a-f]+$/i,Wb=/^0b[01]+$/i,Xb=/^\[object .+?Constructor\]$/,Yb=/^0o[0-7]+$/i,Zb=/^(?:0|[1-9]\d*)$/,$b=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_b=/($^)/,ac=/['\n\r\u2028\u2029\\]/g,bc="\\ud800-\\udfff",cc="\\u0300-\\u036f",dc="\\ufe20-\\ufe2f",ec="\\u20d0-\\u20ff",fc=cc+dc+ec,gc="\\u2700-\\u27bf",hc="a-z\\xdf-\\xf6\\xf8-\\xff",ic="\\xac\\xb1\\xd7\\xf7",jc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",kc="\\u2000-\\u206f",lc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",mc="A-Z\\xc0-\\xd6\\xd8-\\xde",nc="\\ufe0e\\ufe0f",oc=ic+jc+kc+lc,pc="['’]",qc="["+bc+"]",rc="["+oc+"]",sc="["+fc+"]",tc="\\d+",uc="["+gc+"]",vc="["+hc+"]",wc="[^"+bc+oc+tc+gc+hc+mc+"]",xc="\\ud83c[\\udffb-\\udfff]",yc="(?:"+sc+"|"+xc+")",zc="[^"+bc+"]",Ac="(?:\\ud83c[\\udde6-\\uddff]){2}",Bc="[\\ud800-\\udbff][\\udc00-\\udfff]",Cc="["+mc+"]",Dc="\\u200d",Ec="(?:"+vc+"|"+wc+")",Fc="(?:"+Cc+"|"+wc+")",Gc="(?:"+pc+"(?:d|ll|m|re|s|t|ve))?",Hc="(?:"+pc+"(?:D|LL|M|RE|S|T|VE))?",Ic=yc+"?",Jc="["+nc+"]?",Kc="(?:"+Dc+"(?:"+[zc,Ac,Bc].join("|")+")"+Jc+Ic+")*",Lc="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Mc="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Nc=Jc+Ic+Kc,Oc="(?:"+[uc,Ac,Bc].join("|")+")"+Nc,Pc="(?:"+[zc+sc+"?",sc,Ac,Bc,qc].join("|")+")",Qc=RegExp(pc,"g"),Rc=RegExp(sc,"g"),Sc=RegExp(xc+"(?="+xc+")|"+Pc+Nc,"g"),Tc=RegExp([Cc+"?"+vc+"+"+Gc+"(?="+[rc,Cc,"$"].join("|")+")",Fc+"+"+Hc+"(?="+[rc,Cc+Ec,"$"].join("|")+")",Cc+"?"+Ec+"+"+Gc,Cc+"+"+Hc,Mc,Lc,tc,Oc].join("|"),"g"),Uc=RegExp("["+Dc+bc+fc+nc+"]"),Vc=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xc=-1,Yc={};Yc[mb]=Yc[nb]=Yc[ob]=Yc[pb]=Yc[qb]=Yc[rb]=Yc[sb]=Yc[tb]=Yc[ub]=!0,Yc[Qa]=Yc[Ra]=Yc[kb]=Yc[Ta]=Yc[lb]=Yc[Ua]=Yc[Wa]=Yc[Xa]=Yc[Za]=Yc[$a]=Yc[ab]=Yc[db]=Yc[eb]=Yc[fb]=Yc[ib]=!1;var Zc={};Zc[Qa]=Zc[Ra]=Zc[kb]=Zc[lb]=Zc[Ta]=Zc[Ua]=Zc[mb]=Zc[nb]=Zc[ob]=Zc[pb]=Zc[qb]=Zc[Za]=Zc[$a]=Zc[ab]=Zc[db]=Zc[eb]=Zc[fb]=Zc[gb]=Zc[rb]=Zc[sb]=Zc[tb]=Zc[ub]=!0,Zc[Wa]=Zc[Xa]=Zc[ib]=!1;var $c={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},_c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ad={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},bd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},cd=parseFloat,dd=parseInt,ed="object"==(void 0===b?"undefined":e(b))&&b&&b.Object===Object&&b,fd="object"==("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,gd=ed||fd||Function("return this")(),hd="object"==(void 0===d?"undefined":e(d))&&d&&!d.nodeType&&d,id=hd&&"object"==(void 0===c?"undefined":e(c))&&c&&!c.nodeType&&c,jd=id&&id.exports===hd,kd=jd&&ed.process,ld=function(){try{return kd&&kd.binding&&kd.binding("util")}catch(a){}}(),md=ld&&ld.isArrayBuffer,nd=ld&&ld.isDate,od=ld&&ld.isMap,pd=ld&&ld.isRegExp,qd=ld&&ld.isSet,rd=ld&&ld.isTypedArray,sd=C("length"),td=D($c),ud=D(_c),vd=D(ad),wd=function a(b){function c(a){if(ji(a)&&!um(a)&&!(a instanceof D)){if(a instanceof u)return a;if(uk.call(a,"__wrapped__"))return gg(a)}return new u(a)}function d(){}function u(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=ea}function D(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ma,this.__views__=[]}function Z(){var a=new D(this.__wrapped__);return a.__actions__=Oe(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Oe(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Oe(this.__views__),a}function ba(){if(this.__filtered__){var a=new D(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function ca(){var a=this.__wrapped__.value(),b=this.__dir__,c=um(a),d=b<0,e=c?a.length:0,f=Ef(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=Yk(i,this.__takeCount__);if(!c||!d&&e==i&&n==i)return ve(a,this.__actions__);var o=[];a:for(;i--&&m<n;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==Ga)q=u;else if(!u){if(t==Fa)continue a;break a}}o[m++]=q}return o}function Rb(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function bc(){this.__data__=gl?gl(null):{},this.size=0}function cc(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}function dc(a){var b=this.__data__;if(gl){var c=b[a];return c===ja?ea:c}return uk.call(b,a)?b[a]:ea}function ec(a){var b=this.__data__;return gl?b[a]!==ea:uk.call(b,a)}function fc(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=gl&&b===ea?ja:b,this}function gc(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function hc(){this.__data__=[],this.size=0}function ic(a){var b=this.__data__,c=Hc(b,a);return!(c<0)&&(c==b.length-1?b.pop():Ik.call(b,c,1),--this.size,!0)}function jc(a){var b=this.__data__,c=Hc(b,a);return c<0?ea:b[c][1]}function kc(a){return Hc(this.__data__,a)>-1}function lc(a,b){var c=this.__data__,d=Hc(c,a);return d<0?(++this.size,c.push([a,b])):c[d][1]=b,this}function mc(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function nc(){this.size=0,this.__data__={hash:new Rb,map:new(cl||gc),string:new Rb}}function oc(a){var b=Af(this,a).delete(a);return this.size-=b?1:0,b}function pc(a){return Af(this,a).get(a)}function qc(a){return Af(this,a).has(a)}function rc(a,b){var c=Af(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this}function sc(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new mc;++b<c;)this.add(a[b])}function tc(a){return this.__data__.set(a,ja),this}function uc(a){return this.__data__.has(a)}function vc(a){var b=this.__data__=new gc(a);this.size=b.size}function wc(){this.__data__=new gc,this.size=0}function xc(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c}function yc(a){return this.__data__.get(a)}function zc(a){return this.__data__.has(a)}function Ac(a,b){var c=this.__data__;if(c instanceof gc){var d=c.__data__;if(!cl||d.length<ga-1)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new mc(d)}return c.set(a,b),this.size=c.size,this}function Bc(a,b){var c=um(a),d=!c&&tm(a),e=!c&&!d&&wm(a),f=!c&&!d&&!e&&Bm(a),g=c||d||e||f,h=g?H(a.length,nk):[],i=h.length;for(var j in a)!b&&!uk.call(a,j)||g&&("length"==j||e&&("offset"==j||"parent"==j)||f&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||Mf(j,i))||h.push(j);return h}function Cc(a){var b=a.length;return b?a[ce(0,b-1)]:ea}function Dc(a,b){return cg(Oe(a),Nc(b,0,a.length))}function Ec(a){return cg(Oe(a))}function Fc(a,b,c){(c===ea||Xh(a[b],c))&&(c!==ea||b in a)||Lc(a,b,c)}function Gc(a,b,c){var d=a[b];uk.call(a,b)&&Xh(d,c)&&(c!==ea||b in a)||Lc(a,b,c)}function Hc(a,b){for(var c=a.length;c--;)if(Xh(a[c][0],b))return c;return-1}function Ic(a,b,c,d){return sl(a,function(a,e,f){b(d,a,c(a),f)}),d}function Jc(a,b){return a&&Pe(b,Si(b),a)}function Kc(a,b){return a&&Pe(b,Ti(b),a)}function Lc(a,b,c){"__proto__"==b&&Mk?Mk(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}function Mc(a,b){for(var c=-1,d=b.length,e=gk(d),f=null==a;++c<d;)e[c]=f?ea:Pi(a,b[c]);return e}function Nc(a,b,c){return a===a&&(c!==ea&&(a=a<=c?a:c),b!==ea&&(a=a>=b?a:b)),a}function Oc(a,b,c,d,e,f){var g,h=b&ma,i=b&na,k=b&oa;if(c&&(g=e?c(a,d,e,f):c(a)),g!==ea)return g;if(!ii(a))return a;var l=um(a);if(l){if(g=Hf(a),!h)return Oe(a,g)}else{var m=El(a),n=m==Xa||m==Ya;if(wm(a))return Ce(a,h);if(m==ab||m==Qa||n&&!e){if(g=i||n?{}:If(a),!h)return i?Re(a,Kc(g,a)):Qe(a,Jc(g,a))}else{if(!Zc[m])return e?a:{};g=Jf(a,m,Oc,h)}}f||(f=new vc);var o=f.get(a);if(o)return o;f.set(a,g);var p=k?i?wf:vf:i?Ti:Si,q=l?ea:p(a);return j(q||a,function(d,e){q&&(e=d,d=a[e]),Gc(g,e,Oc(d,b,c,e,a,f))}),g}function Pc(a){var b=Si(a);return function(c){return Sc(c,a,b)}}function Sc(a,b,c){var d=c.length;if(null==a)return!d;for(a=lk(a);d--;){var e=c[d],f=b[e],g=a[e];if(g===ea&&!(e in a)||!f(g))return!1}return!0}function Tc(a,b,c){if("function"!=typeof a)throw new ok(ia);return Hl(function(){a.apply(ea,c)},b)}function Uc(a,b,c,d){var e=-1,f=n,g=!0,h=a.length,i=[],j=b.length;if(!h)return i;c&&(b=p(b,J(c))),d?(f=o,g=!1):b.length>=ga&&(f=L,g=!1,b=new sc(b));a:for(;++e<h;){var k=a[e],l=null==c?k:c(k);if(k=d||0!==k?k:0,g&&l===l){for(var m=j;m--;)if(b[m]===l)continue a;i.push(k)}else f(b,l,d)||i.push(k)}return i}function Vc(a,b){var c=!0;return sl(a,function(a,d,e){return c=!!b(a,d,e)}),c}function $c(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d],g=b(f);if(null!=g&&(h===ea?g===g&&!ui(g):c(g,h)))var h=g,i=f}return i}function _c(a,b,c,d){var e=a.length;for(c=Ai(c),c<0&&(c=-c>e?0:e+c),d=d===ea||d>e?e:Ai(d),d<0&&(d+=e),d=c>d?0:Bi(d);c<d;)a[c++]=b;return a}function ad(a,b){var c=[];return sl(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function bd(a,b,c,d,e){var f=-1,g=a.length;for(c||(c=Lf),e||(e=[]);++f<g;){var h=a[f];b>0&&c(h)?b>1?bd(h,b-1,c,d,e):q(e,h):d||(e[e.length]=h)}return e}function ed(a,b){return a&&ul(a,b,Si)}function fd(a,b){return a&&vl(a,b,Si)}function hd(a,b){return m(b,function(b){return fi(a[b])})}function id(a,b){b=Ae(b,a);for(var c=0,d=b.length;null!=a&&c<d;)a=a[dg(b[c++])];return c&&c==d?a:ea}function kd(a,b,c){var d=b(a);return um(a)?d:q(d,c(a))}function ld(a){return null==a?a===ea?hb:_a:Lk&&Lk in lk(a)?Df(a):Yf(a)}function sd(a,b){return a>b}function wd(a,b){return null!=a&&uk.call(a,b)}function yd(a,b){return null!=a&&b in lk(a)}function zd(a,b,c){return a>=Yk(b,c)&&a<Xk(b,c)}function Ad(a,b,c){for(var d=c?o:n,e=a[0].length,f=a.length,g=f,h=gk(f),i=1/0,j=[];g--;){var k=a[g];g&&b&&(k=p(k,J(b))),i=Yk(k.length,i),h[g]=!c&&(b||e>=120&&k.length>=120)?new sc(g&&k):ea}k=a[0];var l=-1,m=h[0];a:for(;++l<e&&j.length<i;){var q=k[l],r=b?b(q):q;if(q=c||0!==q?q:0,!(m?L(m,r):d(j,r,c))){for(g=f;--g;){var s=h[g];if(!(s?L(s,r):d(a[g],r,c)))continue a}m&&m.push(r),j.push(q)}}return j}function Bd(a,b,c,d){return ed(a,function(a,e,f){b(d,c(a),e,f)}),d}function Cd(a,b,c){b=Ae(b,a),a=$f(a,b);var d=null==a?a:a[dg(zg(b))];return null==d?ea:h(d,a,c)}function Dd(a){return ji(a)&&ld(a)==Qa}function Ed(a){return ji(a)&&ld(a)==kb}function Fd(a){return ji(a)&&ld(a)==Ua}function Gd(a,b,c,d,e){return a===b||(null==a||null==b||!ji(a)&&!ji(b)?a!==a&&b!==b:Hd(a,b,c,d,Gd,e))}function Hd(a,b,c,d,e,f){var g=um(a),h=um(b),i=g?Ra:El(a),j=h?Ra:El(b);i=i==Qa?ab:i,j=j==Qa?ab:j;var k=i==ab,l=j==ab,m=i==j;if(m&&wm(a)){if(!wm(b))return!1;g=!0,k=!1}if(m&&!k)return f||(f=new vc),g||Bm(a)?rf(a,b,c,d,e,f):sf(a,b,i,c,d,e,f);if(!(c&pa)){var n=k&&uk.call(a,"__wrapped__"),o=l&&uk.call(b,"__wrapped__");if(n||o){var p=n?a.value():a,q=o?b.value():b;return f||(f=new vc),e(p,q,c,d,f)}}return!!m&&(f||(f=new vc),tf(a,b,c,d,e,f))}function Id(a){return ji(a)&&El(a)==Za}function Jd(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=lk(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){h=c[e];var i=h[0],j=a[i],k=h[1];if(g&&h[2]){if(j===ea&&!(i in a))return!1}else{var l=new vc;if(d)var m=d(j,k,i,a,b,l);if(!(m===ea?Gd(k,j,pa|qa,d,l):m))return!1}}return!0}function Kd(a){return!(!ii(a)||Rf(a))&&(fi(a)?Ak:Xb).test(eg(a))}function Ld(a){return ji(a)&&ld(a)==db}function Md(a){return ji(a)&&El(a)==eb}function Nd(a){return ji(a)&&hi(a.length)&&!!Yc[ld(a)]}function Od(a){return"function"==typeof a?a:null==a?Ij:"object"==(void 0===a?"undefined":e(a))?um(a)?Ud(a[0],a[1]):Td(a):Qj(a)}function Pd(a){if(!Sf(a))return Wk(a);var b=[];for(var c in lk(a))uk.call(a,c)&&"constructor"!=c&&b.push(c);return b}function Qd(a){if(!ii(a))return Xf(a);var b=Sf(a),c=[];for(var d in a)("constructor"!=d||!b&&uk.call(a,d))&&c.push(d);return c}function Rd(a,b){return a<b}function Sd(a,b){var c=-1,d=Yh(a)?gk(a.length):[];return sl(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Td(a){var b=Bf(a);return 1==b.length&&b[0][2]?Uf(b[0][0],b[0][1]):function(c){return c===a||Jd(c,a,b)}}function Ud(a,b){return Of(a)&&Tf(b)?Uf(dg(a),b):function(c){var d=Pi(c,a);return d===ea&&d===b?Ri(c,a):Gd(b,d,pa|qa)}}function Vd(a,b,c,d,e){a!==b&&ul(b,function(f,g){if(ii(f))e||(e=new vc),Wd(a,b,g,c,Vd,d,e);else{var h=d?d(a[g],f,g+"",a,b,e):ea;h===ea&&(h=f),Fc(a,g,h)}},Ti)}function Wd(a,b,c,d,e,f,g){var h=a[c],i=b[c],j=g.get(i);if(j)return void Fc(a,c,j);var k=f?f(h,i,c+"",a,b,g):ea,l=k===ea;if(l){var m=um(i),n=!m&&wm(i),o=!m&&!n&&Bm(i);k=i,m||n||o?um(h)?k=h:Zh(h)?k=Oe(h):n?(l=!1,k=Ce(i,!0)):o?(l=!1,k=Je(i,!0)):k=[]:ri(i)||tm(i)?(k=h,tm(h)?k=Di(h):(!ii(h)||d&&fi(h))&&(k=If(i))):l=!1}l&&(g.set(i,k),e(k,i,d,f,g),g.delete(i)),Fc(a,c,k)}function Xd(a,b){var c=a.length;if(c)return b+=b<0?c:0,Mf(b,c)?a[b]:ea}function Yd(a,b,c){var d=-1;return b=p(b.length?b:[Ij],J(zf())),F(Sd(a,function(a,c,e){return{criteria:p(b,function(b){return b(a)}),index:++d,value:a}}),function(a,b){return Le(a,b,c)})}function Zd(a,b){return $d(a,b,function(b,c){return Ri(a,c)})}function $d(a,b,c){for(var d=-1,e=b.length,f={};++d<e;){var g=b[d],h=id(a,g);c(h,g)&&ie(f,Ae(g,a),h)}return f}function _d(a){return function(b){return id(b,a)}}function ae(a,b,c,d){var e=d?z:y,f=-1,g=b.length,h=a;for(a===b&&(b=Oe(b)),c&&(h=p(a,J(c)));++f<g;)for(var i=0,j=b[f],k=c?c(j):j;(i=e(h,k,i,d))>-1;)h!==a&&Ik.call(h,i,1),Ik.call(a,i,1);return a}function be(a,b){for(var c=a?b.length:0,d=c-1;c--;){var e=b[c];if(c==d||e!==f){var f=e;Mf(e)?Ik.call(a,e,1):se(a,e)}}return a}function ce(a,b){return a+Rk(_k()*(b-a+1))}function de(a,b,c,d){for(var e=-1,f=Xk(Qk((b-a)/(c||1)),0),g=gk(f);f--;)g[d?f:++e]=a,a+=c;return g}function ee(a,b){var c="";if(!a||b<1||b>Ja)return c;do{b%2&&(c+=a),(b=Rk(b/2))&&(a+=a)}while(b);return c}function fe(a,b){return Il(Zf(a,b,Ij),a+"")}function ge(a){return Cc(dj(a))}function he(a,b){var c=dj(a);return cg(c,Nc(b,0,c.length))}function ie(a,b,c,d){if(!ii(a))return a;b=Ae(b,a);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=dg(b[e]),j=c;if(e!=g){var k=h[i];j=d?d(k,i,h):ea,j===ea&&(j=ii(k)?k:Mf(b[e+1])?[]:{})}Gc(h,i,j),h=h[i]}return a}function je(a){return cg(dj(a))}function ke(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b),c=c>e?e:c,c<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=gk(e);++d<e;)f[d]=a[d+b];return f}function le(a,b){var c;return sl(a,function(a,d,e){return!(c=b(a,d,e))}),!!c}function me(a,b,c){var d=0,e=null==a?d:a.length;if("number"==typeof b&&b===b&&e<=Oa){for(;d<e;){var f=d+e>>>1,g=a[f];null!==g&&!ui(g)&&(c?g<=b:g<b)?d=f+1:e=f}return e}return ne(a,b,Ij,c)}function ne(a,b,c,d){b=c(b);for(var e=0,f=null==a?0:a.length,g=b!==b,h=null===b,i=ui(b),j=b===ea;e<f;){var k=Rk((e+f)/2),l=c(a[k]),m=l!==ea,n=null===l,o=l===l,p=ui(l);if(g)var q=d||o;else q=j?o&&(d||m):h?o&&m&&(d||!n):i?o&&m&&!n&&(d||!p):!n&&!p&&(d?l<=b:l<b);q?e=k+1:f=k}return Yk(f,Na)}function oe(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c],h=b?b(g):g;if(!c||!Xh(h,i)){var i=h;f[e++]=0===g?0:g}}return f}function pe(a){return"number"==typeof a?a:ui(a)?La:+a}function qe(a){if("string"==typeof a)return a;if(um(a))return p(a,qe)+"";if(ui(a))return ql?ql.call(a):"";var b=a+"";return"0"==b&&1/a==-Ia?"-0":b}function re(a,b,c){var d=-1,e=n,f=a.length,g=!0,h=[],i=h;if(c)g=!1,e=o;else if(f>=ga){var j=b?null:Al(a);if(j)return X(j);g=!1,e=L,i=new sc}else i=b?[]:h;a:for(;++d<f;){var k=a[d],l=b?b(k):k;if(k=c||0!==k?k:0,g&&l===l){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),h.push(k)}else e(i,l,c)||(i!==h&&i.push(l),h.push(k))}return h}function se(a,b){return b=Ae(b,a),null==(a=$f(a,b))||delete a[dg(zg(b))]}function te(a,b,c,d){return ie(a,b,c(id(a,b)),d)}function ue(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?ke(a,d?0:f,d?f+1:e):ke(a,d?f+1:0,d?e:f)}function ve(a,b){var c=a;return c instanceof D&&(c=c.value()),r(b,function(a,b){return b.func.apply(b.thisArg,q([a],b.args))},c)}function we(a,b,c){var d=a.length;if(d<2)return d?re(a[0]):[];for(var e=-1,f=gk(d);++e<d;)for(var g=a[e],h=-1;++h<d;)h!=e&&(f[e]=Uc(f[e]||g,a[h],b,c));return re(bd(f,1),b,c)}function xe(a,b,c){for(var d=-1,e=a.length,f=b.length,g={};++d<e;){var h=d<f?b[d]:ea;c(g,a[d],h)}return g}function ye(a){return Zh(a)?a:[]}function ze(a){return"function"==typeof a?a:Ij}function Ae(a,b){return um(a)?a:Of(a,b)?[a]:Jl(Fi(a))}function Be(a,b,c){var d=a.length;return c=c===ea?d:c,!b&&c>=d?a:ke(a,b,c)}function Ce(a,b){if(b)return a.slice();var c=a.length,d=Ek?Ek(c):new a.constructor(c);return a.copy(d),d}function De(a){var b=new a.constructor(a.byteLength);return new Dk(b).set(new Dk(a)),b}function Ee(a,b){var c=b?De(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.byteLength)}function Fe(a,b,c){return r(b?c(U(a),ma):U(a),f,new a.constructor)}function Ge(a){var b=new a.constructor(a.source,Ub.exec(a));return b.lastIndex=a.lastIndex,b}function He(a,b,c){return r(b?c(X(a),ma):X(a),g,new a.constructor)}function Ie(a){return pl?lk(pl.call(a)):{}}function Je(a,b){var c=b?De(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}function Ke(a,b){if(a!==b){var c=a!==ea,d=null===a,e=a===a,f=ui(a),g=b!==ea,h=null===b,i=b===b,j=ui(b);if(!h&&!j&&!f&&a>b||f&&g&&i&&!h&&!j||d&&g&&i||!c&&i||!e)return 1;if(!d&&!f&&!j&&a<b||j&&c&&e&&!d&&!f||h&&c&&e||!g&&e||!i)return-1}return 0}function Le(a,b,c){for(var d=-1,e=a.criteria,f=b.criteria,g=e.length,h=c.length;++d<g;){var i=Ke(e[d],f[d]);if(i){if(d>=h)return i;return i*("desc"==c[d]?-1:1)}}return a.index-b.index}function Me(a,b,c,d){for(var e=-1,f=a.length,g=c.length,h=-1,i=b.length,j=Xk(f-g,0),k=gk(i+j),l=!d;++h<i;)k[h]=b[h];for(;++e<g;)(l||e<f)&&(k[c[e]]=a[e]);for(;j--;)k[h++]=a[e++];return k}function Ne(a,b,c,d){for(var e=-1,f=a.length,g=-1,h=c.length,i=-1,j=b.length,k=Xk(f-h,0),l=gk(k+j),m=!d;++e<k;)l[e]=a[e];for(var n=e;++i<j;)l[n+i]=b[i];for(;++g<h;)(m||e<f)&&(l[n+c[g]]=a[e++]);return l}function Oe(a,b){var c=-1,d=a.length;for(b||(b=gk(d));++c<d;)b[c]=a[c];return b}function Pe(a,b,c,d){var e=!c;c||(c={});for(var f=-1,g=b.length;++f<g;){var h=b[f],i=d?d(c[h],a[h],h,c,a):ea;i===ea&&(i=a[h]),e?Lc(c,h,i):Gc(c,h,i)}return c}function Qe(a,b){return Pe(a,Cl(a),b)}function Re(a,b){return Pe(a,Dl(a),b)}function Se(a,b){return function(c,d){var e=um(c)?i:Ic,f=b?b():{};return e(c,a,zf(d,2),f)}}function Te(a){return fe(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:ea,g=e>2?c[2]:ea;for(f=a.length>3&&"function"==typeof f?(e--,f):ea,g&&Nf(c[0],c[1],g)&&(f=e<3?ea:f,e=1),b=lk(b);++d<e;){var h=c[d];h&&a(b,h,d,f)}return b})}function Ue(a,b){return function(c,d){if(null==c)return c;if(!Yh(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=lk(c);(b?f--:++f<e)&&!1!==d(g[f],f,g););return c}}function Ve(a){return function(b,c,d){for(var e=-1,f=lk(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(!1===c(f[i],i,f))break}return b}}function We(a,b,c){function d(){return(this&&this!==gd&&this instanceof d?f:a).apply(e?c:this,arguments)}var e=b&ra,f=Ze(a);return d}function Xe(a){return function(b){b=Fi(b);var c=R(b)?aa(b):ea,d=c?c[0]:b.charAt(0),e=c?Be(c,1).join(""):b.slice(1);return d[a]()+e}}function Ye(a){return function(b){return r(Dj(jj(b).replace(Qc,"")),a,"")}}function Ze(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=rl(a.prototype),d=a.apply(c,b);return ii(d)?d:c}}function $e(a,b,c){function d(){for(var f=arguments.length,g=gk(f),i=f,j=yf(d);i--;)g[i]=arguments[i];var k=f<3&&g[0]!==j&&g[f-1]!==j?[]:W(g,j);return(f-=k.length)<c?kf(a,b,bf,d.placeholder,ea,g,k,ea,ea,c-f):h(this&&this!==gd&&this instanceof d?e:a,this,g)}var e=Ze(a);return d}function _e(a){return function(b,c,d){var e=lk(b);if(!Yh(b)){var f=zf(c,3);b=Si(b),c=function(a){return f(e[a],a,e)}}var g=a(b,c,d);return g>-1?e[f?b[g]:g]:ea}}function af(a){return uf(function(b){var c=b.length,d=c,e=u.prototype.thru;for(a&&b.reverse();d--;){var f=b[d];if("function"!=typeof f)throw new ok(ia);if(e&&!g&&"wrapper"==xf(f))var g=new u([],!0)}for(d=g?d:c;++d<c;){f=b[d];var h=xf(f),i="wrapper"==h?Bl(f):ea;g=i&&Qf(i[0])&&i[1]==(ya|ua|wa|za)&&!i[4].length&&1==i[9]?g[xf(i[0])].apply(g,i[3]):1==f.length&&Qf(f)?g[h]():g.thru(f)}return function(){var a=arguments,d=a[0];if(g&&1==a.length&&um(d))return g.plant(d).value();for(var e=0,f=c?b[e].apply(this,a):d;++e<c;)f=b[e].call(this,f);return f}})}function bf(a,b,c,d,e,f,g,h,i,j){function k(){for(var r=arguments.length,s=gk(r),t=r;t--;)s[t]=arguments[t];if(o)var u=yf(k),v=O(s,u);if(d&&(s=Me(s,d,e,o)),f&&(s=Ne(s,f,g,o)),r-=v,o&&r<j){var w=W(s,u);return kf(a,b,bf,k.placeholder,c,s,w,h,i,j-r)}var x=m?c:this,y=n?x[a]:a;return r=s.length,h?s=_f(s,h):p&&r>1&&s.reverse(),l&&i<r&&(s.length=i),this&&this!==gd&&this instanceof k&&(y=q||Ze(y)),y.apply(x,s)}var l=b&ya,m=b&ra,n=b&sa,o=b&(ua|va),p=b&Aa,q=n?ea:Ze(a);return k}function cf(a,b){return function(c,d){return Bd(c,a,b(d),{})}}function df(a,b){return function(c,d){var e;if(c===ea&&d===ea)return b;if(c!==ea&&(e=c),d!==ea){if(e===ea)return d;"string"==typeof c||"string"==typeof d?(c=qe(c),d=qe(d)):(c=pe(c),d=pe(d)),e=a(c,d)}return e}}function ef(a){return uf(function(b){return b=p(b,J(zf())),fe(function(c){var d=this;return a(b,function(a){return h(a,d,c)})})})}function ff(a,b){b=b===ea?" ":qe(b);var c=b.length;if(c<2)return c?ee(b,a):b;var d=ee(b,Qk(a/_(b)));return R(b)?Be(aa(d),0,a).join(""):d.slice(0,a)}function gf(a,b,c,d){function e(){for(var b=-1,i=arguments.length,j=-1,k=d.length,l=gk(k+i),m=this&&this!==gd&&this instanceof e?g:a;++j<k;)l[j]=d[j];for(;i--;)l[j++]=arguments[++b];return h(m,f?c:this,l)}var f=b&ra,g=Ze(a);return e}function hf(a){return function(b,c,d){return d&&"number"!=typeof d&&Nf(b,c,d)&&(c=d=ea),b=zi(b),c===ea?(c=b,b=0):c=zi(c),d=d===ea?b<c?1:-1:zi(d),de(b,c,d,a)}}function jf(a){return function(b,c){return"string"==typeof b&&"string"==typeof c||(b=Ci(b),c=Ci(c)),a(b,c)}}function kf(a,b,c,d,e,f,g,h,i,j){var k=b&ua,l=k?g:ea,m=k?ea:g,n=k?f:ea,o=k?ea:f;b|=k?wa:xa,(b&=~(k?xa:wa))&ta||(b&=~(ra|sa));var p=[a,b,e,n,l,o,m,h,i,j],q=c.apply(ea,p);return Qf(a)&&Gl(q,p),q.placeholder=d,ag(q,a,b)}function lf(a){var b=kk[a];return function(a,c){if(a=Ci(a),c=null==c?0:Yk(Ai(c),292)){var d=(Fi(a)+"e").split("e");return d=(Fi(b(d[0]+"e"+(+d[1]+c)))+"e").split("e"),+(d[0]+"e"+(+d[1]-c))}return b(a)}}function mf(a){return function(b){var c=El(b);return c==Za?U(b):c==eb?Y(b):I(b,a(b))}}function nf(a,b,c,d,e,f,g,h){var i=b&sa;if(!i&&"function"!=typeof a)throw new ok(ia);var j=d?d.length:0;if(j||(b&=~(wa|xa),d=e=ea),g=g===ea?g:Xk(Ai(g),0),h=h===ea?h:Ai(h),j-=e?e.length:0,b&xa){var k=d,l=e;d=e=ea}var m=i?ea:Bl(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&Wf(n,m),a=n[0],b=n[1],c=n[2],d=n[3],e=n[4],h=n[9]=n[9]===ea?i?0:a.length:Xk(n[9]-j,0),!h&&b&(ua|va)&&(b&=~(ua|va)),b&&b!=ra)o=b==ua||b==va?$e(a,b,h):b!=wa&&b!=(ra|wa)||e.length?bf.apply(ea,n):gf(a,b,c,d);else var o=We(a,b,c);return ag((m?wl:Gl)(o,n),a,b)}function of(a,b,c,d){return a===ea||Xh(a,rk[c])&&!uk.call(d,c)?b:a}function pf(a,b,c,d,e,f){return ii(a)&&ii(b)&&(f.set(b,a),Vd(a,b,ea,pf,f),f.delete(b)),a}function qf(a){return ri(a)?ea:a}function rf(a,b,c,d,e,f){var g=c&pa,h=a.length,i=b.length;if(h!=i&&!(g&&i>h))return!1;var j=f.get(a);if(j&&f.get(b))return j==b;var k=-1,l=!0,m=c&qa?new sc:ea;for(f.set(a,b),f.set(b,a);++k<h;){var n=a[k],o=b[k];if(d)var p=g?d(o,n,k,b,a,f):d(n,o,k,a,b,f);if(p!==ea){if(p)continue;l=!1;break}if(m){if(!t(b,function(a,b){if(!L(m,b)&&(n===a||e(n,a,c,d,f)))return m.push(b)})){l=!1;break}}else if(n!==o&&!e(n,o,c,d,f)){l=!1;break}}return f.delete(a),f.delete(b),l}function sf(a,b,c,d,e,f,g){switch(c){case lb:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case kb:return!(a.byteLength!=b.byteLength||!f(new Dk(a),new Dk(b)));case Ta:case Ua:case $a:return Xh(+a,+b);case Wa:return a.name==b.name&&a.message==b.message;case db:case fb:return a==b+"";case Za:var h=U;case eb:var i=d&pa;if(h||(h=X),a.size!=b.size&&!i)return!1
;var j=g.get(a);if(j)return j==b;d|=qa,g.set(a,b);var k=rf(h(a),h(b),d,e,f,g);return g.delete(a),k;case gb:if(pl)return pl.call(a)==pl.call(b)}return!1}function tf(a,b,c,d,e,f){var g=c&pa,h=vf(a),i=h.length;if(i!=vf(b).length&&!g)return!1;for(var j=i;j--;){var k=h[j];if(!(g?k in b:uk.call(b,k)))return!1}var l=f.get(a);if(l&&f.get(b))return l==b;var m=!0;f.set(a,b),f.set(b,a);for(var n=g;++j<i;){k=h[j];var o=a[k],p=b[k];if(d)var q=g?d(p,o,k,b,a,f):d(o,p,k,a,b,f);if(!(q===ea?o===p||e(o,p,c,d,f):q)){m=!1;break}n||(n="constructor"==k)}if(m&&!n){var r=a.constructor,s=b.constructor;r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s)&&(m=!1)}return f.delete(a),f.delete(b),m}function uf(a){return Il(Zf(a,ea,rg),a+"")}function vf(a){return kd(a,Si,Cl)}function wf(a){return kd(a,Ti,Dl)}function xf(a){for(var b=a.name+"",c=il[b],d=uk.call(il,b)?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function yf(a){return(uk.call(c,"placeholder")?c:a).placeholder}function zf(){var a=c.iteratee||Jj;return a=a===Jj?Od:a,arguments.length?a(arguments[0],arguments[1]):a}function Af(a,b){var c=a.__data__;return Pf(b)?c["string"==typeof b?"string":"hash"]:c.map}function Bf(a){for(var b=Si(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,Tf(e)]}return b}function Cf(a,b){var c=Q(a,b);return Kd(c)?c:ea}function Df(a){var b=uk.call(a,Lk),c=a[Lk];try{a[Lk]=ea;var d=!0}catch(f){}var e=xk.call(a);return d&&(b?a[Lk]=c:delete a[Lk]),e}function Ef(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=Yk(b,a+g);break;case"takeRight":a=Xk(a,b-g)}}return{start:a,end:b}}function Ff(a){var b=a.match(Pb);return b?b[1].split(Qb):[]}function Gf(a,b,c){b=Ae(b,a);for(var d=-1,e=b.length,f=!1;++d<e;){var g=dg(b[d]);if(!(f=null!=a&&c(a,g)))break;a=a[g]}return f||++d!=e?f:!!(e=null==a?0:a.length)&&hi(e)&&Mf(g,e)&&(um(a)||tm(a))}function Hf(a){var b=a.length,c=a.constructor(b);return b&&"string"==typeof a[0]&&uk.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function If(a){return"function"!=typeof a.constructor||Sf(a)?{}:rl(Fk(a))}function Jf(a,b,c,d){var e=a.constructor;switch(b){case kb:return De(a);case Ta:case Ua:return new e(+a);case lb:return Ee(a,d);case mb:case nb:case ob:case pb:case qb:case rb:case sb:case tb:case ub:return Je(a,d);case Za:return Fe(a,d,c);case $a:case fb:return new e(a);case db:return Ge(a);case eb:return He(a,d,c);case gb:return Ie(a)}}function Kf(a,b){var c=b.length;if(!c)return a;var d=c-1;return b[d]=(c>1?"& ":"")+b[d],b=b.join(c>2?", ":" "),a.replace(Ob,"{\n/* [wrapped with "+b+"] */\n")}function Lf(a){return um(a)||tm(a)||!!(Jk&&a&&a[Jk])}function Mf(a,b){return!!(b=null==b?Ja:b)&&("number"==typeof a||Zb.test(a))&&a>-1&&a%1==0&&a<b}function Nf(a,b,c){if(!ii(c))return!1;var d=void 0===b?"undefined":e(b);return!!("number"==d?Yh(c)&&Mf(b,c.length):"string"==d&&b in c)&&Xh(c[b],a)}function Of(a,b){if(um(a))return!1;var c=void 0===a?"undefined":e(a);return!("number"!=c&&"symbol"!=c&&"boolean"!=c&&null!=a&&!ui(a))||(Gb.test(a)||!Fb.test(a)||null!=b&&a in lk(b))}function Pf(a){var b=void 0===a?"undefined":e(a);return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function Qf(a){var b=xf(a),d=c[b];if("function"!=typeof d||!(b in D.prototype))return!1;if(a===d)return!0;var e=Bl(d);return!!e&&a===e[0]}function Rf(a){return!!wk&&wk in a}function Sf(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||rk)}function Tf(a){return a===a&&!ii(a)}function Uf(a,b){return function(c){return null!=c&&(c[a]===b&&(b!==ea||a in lk(c)))}}function Vf(a){var b=Jh(a,function(a){return c.size===ka&&c.clear(),a}),c=b.cache;return b}function Wf(a,b){var c=a[1],d=b[1],e=c|d,f=e<(ra|sa|ya),g=d==ya&&c==ua||d==ya&&c==za&&a[7].length<=b[8]||d==(ya|za)&&b[7].length<=b[8]&&c==ua;if(!f&&!g)return a;d&ra&&(a[2]=b[2],e|=c&ra?0:ta);var h=b[3];if(h){var i=a[3];a[3]=i?Me(i,h,b[4]):h,a[4]=i?W(a[3],la):b[4]}return h=b[5],h&&(i=a[5],a[5]=i?Ne(i,h,b[6]):h,a[6]=i?W(a[5],la):b[6]),h=b[7],h&&(a[7]=h),d&ya&&(a[8]=null==a[8]?b[8]:Yk(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function Xf(a){var b=[];if(null!=a)for(var c in lk(a))b.push(c);return b}function Yf(a){return xk.call(a)}function Zf(a,b,c){return b=Xk(b===ea?a.length-1:b,0),function(){for(var d=arguments,e=-1,f=Xk(d.length-b,0),g=gk(f);++e<f;)g[e]=d[b+e];e=-1;for(var i=gk(b+1);++e<b;)i[e]=d[e];return i[b]=c(g),h(a,this,i)}}function $f(a,b){return b.length<2?a:id(a,ke(b,0,-1))}function _f(a,b){for(var c=a.length,d=Yk(b.length,c),e=Oe(a);d--;){var f=b[d];a[d]=Mf(f,c)?e[f]:ea}return a}function ag(a,b,c){var d=b+"";return Il(a,Kf(d,fg(Ff(d),c)))}function bg(a){var b=0,c=0;return function(){var d=Zk(),e=Ea-(d-c);if(c=d,e>0){if(++b>=Da)return arguments[0]}else b=0;return a.apply(ea,arguments)}}function cg(a,b){var c=-1,d=a.length,e=d-1;for(b=b===ea?d:b;++c<b;){var f=ce(c,e),g=a[f];a[f]=a[c],a[c]=g}return a.length=b,a}function dg(a){if("string"==typeof a||ui(a))return a;var b=a+"";return"0"==b&&1/a==-Ia?"-0":b}function eg(a){if(null!=a){try{return tk.call(a)}catch(b){}try{return a+""}catch(b){}}return""}function fg(a,b){return j(Pa,function(c){var d="_."+c[0];b&c[1]&&!n(a,d)&&a.push(d)}),a.sort()}function gg(a){if(a instanceof D)return a.clone();var b=new u(a.__wrapped__,a.__chain__);return b.__actions__=Oe(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}function hg(a,b,c){b=(c?Nf(a,b,c):b===ea)?1:Xk(Ai(b),0);var d=null==a?0:a.length;if(!d||b<1)return[];for(var e=0,f=0,g=gk(Qk(d/b));e<d;)g[f++]=ke(a,e,e+=b);return g}function ig(a){for(var b=-1,c=null==a?0:a.length,d=0,e=[];++b<c;){var f=a[b];f&&(e[d++]=f)}return e}function jg(){var a=arguments.length;if(!a)return[];for(var b=gk(a-1),c=arguments[0],d=a;d--;)b[d-1]=arguments[d];return q(um(c)?Oe(c):[c],bd(b,1))}function kg(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===ea?1:Ai(b),ke(a,b<0?0:b,d)):[]}function lg(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===ea?1:Ai(b),b=d-b,ke(a,0,b<0?0:b)):[]}function mg(a,b){return a&&a.length?ue(a,zf(b,3),!0,!0):[]}function ng(a,b){return a&&a.length?ue(a,zf(b,3),!0):[]}function og(a,b,c,d){var e=null==a?0:a.length;return e?(c&&"number"!=typeof c&&Nf(a,b,c)&&(c=0,d=e),_c(a,b,c,d)):[]}function pg(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=null==c?0:Ai(c);return e<0&&(e=Xk(d+e,0)),x(a,zf(b,3),e)}function qg(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=d-1;return c!==ea&&(e=Ai(c),e=c<0?Xk(d+e,0):Yk(e,d-1)),x(a,zf(b,3),e,!0)}function rg(a){return(null==a?0:a.length)?bd(a,1):[]}function sg(a){return(null==a?0:a.length)?bd(a,Ia):[]}function tg(a,b){return(null==a?0:a.length)?(b=b===ea?1:Ai(b),bd(a,b)):[]}function ug(a){for(var b=-1,c=null==a?0:a.length,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d}function vg(a){return a&&a.length?a[0]:ea}function wg(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=null==c?0:Ai(c);return e<0&&(e=Xk(d+e,0)),y(a,b,e)}function xg(a){return(null==a?0:a.length)?ke(a,0,-1):[]}function yg(a,b){return null==a?"":Vk.call(a,b)}function zg(a){var b=null==a?0:a.length;return b?a[b-1]:ea}function Ag(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=d;return c!==ea&&(e=Ai(c),e=e<0?Xk(d+e,0):Yk(e,d-1)),b===b?$(a,b,e):x(a,A,e,!0)}function Bg(a,b){return a&&a.length?Xd(a,Ai(b)):ea}function Cg(a,b){return a&&a.length&&b&&b.length?ae(a,b):a}function Dg(a,b,c){return a&&a.length&&b&&b.length?ae(a,b,zf(c,2)):a}function Eg(a,b,c){return a&&a.length&&b&&b.length?ae(a,b,ea,c):a}function Fg(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=zf(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}return be(a,e),c}function Gg(a){return null==a?a:al.call(a)}function Hg(a,b,c){var d=null==a?0:a.length;return d?(c&&"number"!=typeof c&&Nf(a,b,c)?(b=0,c=d):(b=null==b?0:Ai(b),c=c===ea?d:Ai(c)),ke(a,b,c)):[]}function Ig(a,b){return me(a,b)}function Jg(a,b,c){return ne(a,b,zf(c,2))}function Kg(a,b){var c=null==a?0:a.length;if(c){var d=me(a,b);if(d<c&&Xh(a[d],b))return d}return-1}function Lg(a,b){return me(a,b,!0)}function Mg(a,b,c){return ne(a,b,zf(c,2),!0)}function Ng(a,b){if(null==a?0:a.length){var c=me(a,b,!0)-1;if(Xh(a[c],b))return c}return-1}function Og(a){return a&&a.length?oe(a):[]}function Pg(a,b){return a&&a.length?oe(a,zf(b,2)):[]}function Qg(a){var b=null==a?0:a.length;return b?ke(a,1,b):[]}function Rg(a,b,c){return a&&a.length?(b=c||b===ea?1:Ai(b),ke(a,0,b<0?0:b)):[]}function Sg(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===ea?1:Ai(b),b=d-b,ke(a,b<0?0:b,d)):[]}function Tg(a,b){return a&&a.length?ue(a,zf(b,3),!1,!0):[]}function Ug(a,b){return a&&a.length?ue(a,zf(b,3)):[]}function Vg(a){return a&&a.length?re(a):[]}function Wg(a,b){return a&&a.length?re(a,zf(b,2)):[]}function Xg(a,b){return b="function"==typeof b?b:ea,a&&a.length?re(a,ea,b):[]}function Yg(a){if(!a||!a.length)return[];var b=0;return a=m(a,function(a){if(Zh(a))return b=Xk(a.length,b),!0}),H(b,function(b){return p(a,C(b))})}function Zg(a,b){if(!a||!a.length)return[];var c=Yg(a);return null==b?c:p(c,function(a){return h(b,ea,a)})}function $g(a,b){return xe(a||[],b||[],Gc)}function _g(a,b){return xe(a||[],b||[],ie)}function ah(a){var b=c(a);return b.__chain__=!0,b}function bh(a,b){return b(a),a}function ch(a,b){return b(a)}function dh(){return ah(this)}function eh(){return new u(this.value(),this.__chain__)}function fh(){this.__values__===ea&&(this.__values__=yi(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?ea:this.__values__[this.__index__++]}}function gh(){return this}function hh(a){for(var b,c=this;c instanceof d;){var e=gg(c);e.__index__=0,e.__values__=ea,b?f.__wrapped__=e:b=e;var f=e;c=c.__wrapped__}return f.__wrapped__=a,b}function ih(){var a=this.__wrapped__;if(a instanceof D){var b=a;return this.__actions__.length&&(b=new D(this)),b=b.reverse(),b.__actions__.push({func:ch,args:[Gg],thisArg:ea}),new u(b,this.__chain__)}return this.thru(Gg)}function jh(){return ve(this.__wrapped__,this.__actions__)}function kh(a,b,c){var d=um(a)?l:Vc;return c&&Nf(a,b,c)&&(b=ea),d(a,zf(b,3))}function lh(a,b){return(um(a)?m:ad)(a,zf(b,3))}function mh(a,b){return bd(sh(a,b),1)}function nh(a,b){return bd(sh(a,b),Ia)}function oh(a,b,c){return c=c===ea?1:Ai(c),bd(sh(a,b),c)}function ph(a,b){return(um(a)?j:sl)(a,zf(b,3))}function qh(a,b){return(um(a)?k:tl)(a,zf(b,3))}function rh(a,b,c,d){a=Yh(a)?a:dj(a),c=c&&!d?Ai(c):0;var e=a.length;return c<0&&(c=Xk(e+c,0)),ti(a)?c<=e&&a.indexOf(b,c)>-1:!!e&&y(a,b,c)>-1}function sh(a,b){return(um(a)?p:Sd)(a,zf(b,3))}function th(a,b,c,d){return null==a?[]:(um(b)||(b=null==b?[]:[b]),c=d?ea:c,um(c)||(c=null==c?[]:[c]),Yd(a,b,c))}function uh(a,b,c){var d=um(a)?r:E,e=arguments.length<3;return d(a,zf(b,4),c,e,sl)}function vh(a,b,c){var d=um(a)?s:E,e=arguments.length<3;return d(a,zf(b,4),c,e,tl)}function wh(a,b){return(um(a)?m:ad)(a,Kh(zf(b,3)))}function xh(a){return(um(a)?Cc:ge)(a)}function yh(a,b,c){return b=(c?Nf(a,b,c):b===ea)?1:Ai(b),(um(a)?Dc:he)(a,b)}function zh(a){return(um(a)?Ec:je)(a)}function Ah(a){if(null==a)return 0;if(Yh(a))return ti(a)?_(a):a.length;var b=El(a);return b==Za||b==eb?a.size:Pd(a).length}function Bh(a,b,c){var d=um(a)?t:le;return c&&Nf(a,b,c)&&(b=ea),d(a,zf(b,3))}function Ch(a,b){if("function"!=typeof b)throw new ok(ia);return a=Ai(a),function(){if(--a<1)return b.apply(this,arguments)}}function Dh(a,b,c){return b=c?ea:b,b=a&&null==b?a.length:b,nf(a,ya,ea,ea,ea,ea,b)}function Eh(a,b){var c;if("function"!=typeof b)throw new ok(ia);return a=Ai(a),function(){return--a>0&&(c=b.apply(this,arguments)),a<=1&&(b=ea),c}}function Fh(a,b,c){b=c?ea:b;var d=nf(a,ua,ea,ea,ea,ea,ea,b);return d.placeholder=Fh.placeholder,d}function Gh(a,b,c){b=c?ea:b;var d=nf(a,va,ea,ea,ea,ea,ea,b);return d.placeholder=Gh.placeholder,d}function Hh(a,b,c){function d(b){var c=m,d=n;return m=n=ea,s=b,p=a.apply(d,c)}function e(a){return s=a,q=Hl(h,b),t?d(a):p}function f(a){var c=a-r,d=a-s,e=b-c;return u?Yk(e,o-d):e}function g(a){var c=a-r,d=a-s;return r===ea||c>=b||c<0||u&&d>=o}function h(){var a=im();if(g(a))return i(a);q=Hl(h,f(a))}function i(a){return q=ea,v&&m?d(a):(m=n=ea,p)}function j(){q!==ea&&zl(q),s=0,m=r=n=q=ea}function k(){return q===ea?p:i(im())}function l(){var a=im(),c=g(a);if(m=arguments,n=this,r=a,c){if(q===ea)return e(r);if(u)return q=Hl(h,b),d(r)}return q===ea&&(q=Hl(h,b)),p}var m,n,o,p,q,r,s=0,t=!1,u=!1,v=!0;if("function"!=typeof a)throw new ok(ia);return b=Ci(b)||0,ii(c)&&(t=!!c.leading,u="maxWait"in c,o=u?Xk(Ci(c.maxWait)||0,b):o,v="trailing"in c?!!c.trailing:v),l.cancel=j,l.flush=k,l}function Ih(a){return nf(a,Aa)}function Jh(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new ok(ia);var c=function c(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g)||f,g};return c.cache=new(Jh.Cache||mc),c}function Kh(a){if("function"!=typeof a)throw new ok(ia);return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}function Lh(a){return Eh(2,a)}function Mh(a,b){if("function"!=typeof a)throw new ok(ia);return b=b===ea?b:Ai(b),fe(a,b)}function Nh(a,b){if("function"!=typeof a)throw new ok(ia);return b=null==b?0:Xk(Ai(b),0),fe(function(c){var d=c[b],e=Be(c,0,b);return d&&q(e,d),h(a,this,e)})}function Oh(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new ok(ia);return ii(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),Hh(a,b,{leading:d,maxWait:b,trailing:e})}function Ph(a){return Dh(a,1)}function Qh(a,b){return om(ze(b),a)}function Rh(){if(!arguments.length)return[];var a=arguments[0];return um(a)?a:[a]}function Sh(a){return Oc(a,oa)}function Th(a,b){return b="function"==typeof b?b:ea,Oc(a,oa,b)}function Uh(a){return Oc(a,ma|oa)}function Vh(a,b){return b="function"==typeof b?b:ea,Oc(a,ma|oa,b)}function Wh(a,b){return null==b||Sc(a,b,Si(b))}function Xh(a,b){return a===b||a!==a&&b!==b}function Yh(a){return null!=a&&hi(a.length)&&!fi(a)}function Zh(a){return ji(a)&&Yh(a)}function $h(a){return!0===a||!1===a||ji(a)&&ld(a)==Ta}function _h(a){return ji(a)&&1===a.nodeType&&!ri(a)}function ai(a){if(null==a)return!0;if(Yh(a)&&(um(a)||"string"==typeof a||"function"==typeof a.splice||wm(a)||Bm(a)||tm(a)))return!a.length;var b=El(a);if(b==Za||b==eb)return!a.size;if(Sf(a))return!Pd(a).length;for(var c in a)if(uk.call(a,c))return!1;return!0}function bi(a,b){return Gd(a,b)}function ci(a,b,c){c="function"==typeof c?c:ea;var d=c?c(a,b):ea;return d===ea?Gd(a,b,ea,c):!!d}function di(a){if(!ji(a))return!1;var b=ld(a);return b==Wa||b==Va||"string"==typeof a.message&&"string"==typeof a.name&&!ri(a)}function ei(a){return"number"==typeof a&&Uk(a)}function fi(a){if(!ii(a))return!1;var b=ld(a);return b==Xa||b==Ya||b==Sa||b==cb}function gi(a){return"number"==typeof a&&a==Ai(a)}function hi(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=Ja}function ii(a){var b=void 0===a?"undefined":e(a);return null!=a&&("object"==b||"function"==b)}function ji(a){return null!=a&&"object"==(void 0===a?"undefined":e(a))}function ki(a,b){return a===b||Jd(a,b,Bf(b))}function li(a,b,c){return c="function"==typeof c?c:ea,Jd(a,b,Bf(b),c)}function mi(a){return qi(a)&&a!=+a}function ni(a){if(Fl(a))throw new ik(ha);return Kd(a)}function oi(a){return null===a}function pi(a){return null==a}function qi(a){return"number"==typeof a||ji(a)&&ld(a)==$a}function ri(a){if(!ji(a)||ld(a)!=ab)return!1;var b=Fk(a);if(null===b)return!0;var c=uk.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&tk.call(c)==yk}function si(a){return gi(a)&&a>=-Ja&&a<=Ja}function ti(a){return"string"==typeof a||!um(a)&&ji(a)&&ld(a)==fb}function ui(a){return"symbol"==(void 0===a?"undefined":e(a))||ji(a)&&ld(a)==gb}function vi(a){return a===ea}function wi(a){return ji(a)&&El(a)==ib}function xi(a){return ji(a)&&ld(a)==jb}function yi(a){if(!a)return[];if(Yh(a))return ti(a)?aa(a):Oe(a);if(Kk&&a[Kk])return T(a[Kk]());var b=El(a);return(b==Za?U:b==eb?X:dj)(a)}function zi(a){if(!a)return 0===a?a:0;if((a=Ci(a))===Ia||a===-Ia){return(a<0?-1:1)*Ka}return a===a?a:0}function Ai(a){var b=zi(a),c=b%1;return b===b?c?b-c:b:0}function Bi(a){return a?Nc(Ai(a),0,Ma):0}function Ci(a){if("number"==typeof a)return a;if(ui(a))return La;if(ii(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=ii(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(Lb,"");var c=Wb.test(a);return c||Yb.test(a)?dd(a.slice(2),c?2:8):Vb.test(a)?La:+a}function Di(a){return Pe(a,Ti(a))}function Ei(a){return a?Nc(Ai(a),-Ja,Ja):0===a?a:0}function Fi(a){return null==a?"":qe(a)}function Gi(a,b){var c=rl(a);return null==b?c:Jc(c,b)}function Hi(a,b){return w(a,zf(b,3),ed)}function Ii(a,b){return w(a,zf(b,3),fd)}function Ji(a,b){return null==a?a:ul(a,zf(b,3),Ti)}function Ki(a,b){return null==a?a:vl(a,zf(b,3),Ti)}function Li(a,b){return a&&ed(a,zf(b,3))}function Mi(a,b){return a&&fd(a,zf(b,3))}function Ni(a){return null==a?[]:hd(a,Si(a))}function Oi(a){return null==a?[]:hd(a,Ti(a))}function Pi(a,b,c){var d=null==a?ea:id(a,b);return d===ea?c:d}function Qi(a,b){return null!=a&&Gf(a,b,wd)}function Ri(a,b){return null!=a&&Gf(a,b,yd)}function Si(a){return Yh(a)?Bc(a):Pd(a)}function Ti(a){return Yh(a)?Bc(a,!0):Qd(a)}function Ui(a,b){var c={};return b=zf(b,3),ed(a,function(a,d,e){Lc(c,b(a,d,e),a)}),c}function Vi(a,b){var c={};return b=zf(b,3),ed(a,function(a,d,e){Lc(c,d,b(a,d,e))}),c}function Wi(a,b){return Xi(a,Kh(zf(b)))}function Xi(a,b){if(null==a)return{};var c=p(wf(a),function(a){return[a]});return b=zf(b),$d(a,c,function(a,c){return b(a,c[0])})}function Yi(a,b,c){b=Ae(b,a);var d=-1,e=b.length;for(e||(e=1,a=ea);++d<e;){var f=null==a?ea:a[dg(b[d])];f===ea&&(d=e,f=c),a=fi(f)?f.call(a):f}return a}function Zi(a,b,c){return null==a?a:ie(a,b,c)}function $i(a,b,c,d){return d="function"==typeof d?d:ea,null==a?a:ie(a,b,c,d)}function _i(a,b,c){var d=um(a),e=d||wm(a)||Bm(a);if(b=zf(b,4),null==c){var f=a&&a.constructor;c=e?d?new f:[]:ii(a)&&fi(f)?rl(Fk(a)):{}}return(e?j:ed)(a,function(a,d,e){return b(c,a,d,e)}),c}function aj(a,b){return null==a||se(a,b)}function bj(a,b,c){return null==a?a:te(a,b,ze(c))}function cj(a,b,c,d){return d="function"==typeof d?d:ea,null==a?a:te(a,b,ze(c),d)}function dj(a){return null==a?[]:K(a,Si(a))}function ej(a){return null==a?[]:K(a,Ti(a))}function fj(a,b,c){return c===ea&&(c=b,b=ea),c!==ea&&(c=Ci(c),c=c===c?c:0),b!==ea&&(b=Ci(b),b=b===b?b:0),Nc(Ci(a),b,c)}function gj(a,b,c){return b=zi(b),c===ea?(c=b,b=0):c=zi(c),a=Ci(a),zd(a,b,c)}function hj(a,b,c){if(c&&"boolean"!=typeof c&&Nf(a,b,c)&&(b=c=ea),c===ea&&("boolean"==typeof b?(c=b,b=ea):"boolean"==typeof a&&(c=a,a=ea)),a===ea&&b===ea?(a=0,b=1):(a=zi(a),b===ea?(b=a,a=0):b=zi(b)),a>b){var d=a;a=b,b=d}if(c||a%1||b%1){var e=_k();return Yk(a+e*(b-a+cd("1e-"+((e+"").length-1))),b)}return ce(a,b)}function ij(a){return _m(Fi(a).toLowerCase())}function jj(a){return(a=Fi(a))&&a.replace($b,td).replace(Rc,"")}function kj(a,b,c){a=Fi(a),b=qe(b);var d=a.length;c=c===ea?d:Nc(Ai(c),0,d);var e=c;return(c-=b.length)>=0&&a.slice(c,e)==b}function lj(a){return a=Fi(a),a&&Bb.test(a)?a.replace(zb,ud):a}function mj(a){return a=Fi(a),a&&Kb.test(a)?a.replace(Jb,"\\$&"):a}function nj(a,b,c){a=Fi(a),b=Ai(b);var d=b?_(a):0;if(!b||d>=b)return a;var e=(b-d)/2;return ff(Rk(e),c)+a+ff(Qk(e),c)}function oj(a,b,c){a=Fi(a),b=Ai(b);var d=b?_(a):0;return b&&d<b?a+ff(b-d,c):a}function pj(a,b,c){a=Fi(a),b=Ai(b);var d=b?_(a):0;return b&&d<b?ff(b-d,c)+a:a}function qj(a,b,c){return c||null==b?b=0:b&&(b=+b),$k(Fi(a).replace(Mb,""),b||0)}function rj(a,b,c){return b=(c?Nf(a,b,c):b===ea)?1:Ai(b),ee(Fi(a),b)}function sj(){var a=arguments,b=Fi(a[0]);return a.length<3?b:b.replace(a[1],a[2])}function tj(a,b,c){return c&&"number"!=typeof c&&Nf(a,b,c)&&(b=c=ea),(c=c===ea?Ma:c>>>0)?(a=Fi(a),a&&("string"==typeof b||null!=b&&!zm(b))&&!(b=qe(b))&&R(a)?Be(aa(a),0,c):a.split(b,c)):[]}function uj(a,b,c){return a=Fi(a),c=null==c?0:Nc(Ai(c),0,a.length),b=qe(b),a.slice(c,c+b.length)==b}function vj(a,b,d){var e=c.templateSettings;d&&Nf(a,b,d)&&(b=ea),a=Fi(a),b=Gm({},b,e,of);var f,g,h=Gm({},b.imports,e.imports,of),i=Si(h),j=K(h,i),k=0,l=b.interpolate||_b,m="__p += '",n=mk((b.escape||_b).source+"|"+l.source+"|"+(l===Eb?Tb:_b).source+"|"+(b.evaluate||_b).source+"|$","g"),o="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++Xc+"]")+"\n";a.replace(n,function(b,c,d,e,h,i){return d||(d=e),m+=a.slice(k,i).replace(ac,P),c&&(f=!0,m+="' +\n__e("+c+") +\n'"),h&&(g=!0,m+="';\n"+h+";\n__p += '"),d&&(m+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=i+b.length,b}),m+="';\n";var p=b.variable;p||(m="with (obj) {\n"+m+"\n}\n"),m=(g?m.replace(vb,""):m).replace(wb,"$1").replace(xb,"$1;"),m="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var q=an(function(){return jk(i,o+"return "+m).apply(ea,j)});if(q.source=m,di(q))throw q;return q}function wj(a){return Fi(a).toLowerCase()}function xj(a){return Fi(a).toUpperCase()}function yj(a,b,c){if((a=Fi(a))&&(c||b===ea))return a.replace(Lb,"");if(!a||!(b=qe(b)))return a;var d=aa(a),e=aa(b);return Be(d,M(d,e),N(d,e)+1).join("")}function zj(a,b,c){if((a=Fi(a))&&(c||b===ea))return a.replace(Nb,"");if(!a||!(b=qe(b)))return a;var d=aa(a);return Be(d,0,N(d,aa(b))+1).join("")}function Aj(a,b,c){if((a=Fi(a))&&(c||b===ea))return a.replace(Mb,"");if(!a||!(b=qe(b)))return a;var d=aa(a);return Be(d,M(d,aa(b))).join("")}function Bj(a,b){var c=Ba,d=Ca;if(ii(b)){var e="separator"in b?b.separator:e;c="length"in b?Ai(b.length):c,d="omission"in b?qe(b.omission):d}a=Fi(a);var f=a.length;if(R(a)){var g=aa(a);f=g.length}if(c>=f)return a;var h=c-_(d);if(h<1)return d;var i=g?Be(g,0,h).join(""):a.slice(0,h);if(e===ea)return i+d;if(g&&(h+=i.length-h),zm(e)){if(a.slice(h).search(e)){var j,k=i;for(e.global||(e=mk(e.source,Fi(Ub.exec(e))+"g")),e.lastIndex=0;j=e.exec(k);)var l=j.index;i=i.slice(0,l===ea?h:l)}}else if(a.indexOf(qe(e),h)!=h){var m=i.lastIndexOf(e);m>-1&&(i=i.slice(0,m))}return i+d}function Cj(a){return a=Fi(a),a&&Ab.test(a)?a.replace(yb,vd):a}function Dj(a,b,c){return a=Fi(a),b=c?ea:b,b===ea?S(a)?da(a):v(a):a.match(b)||[]}function Ej(a){var b=null==a?0:a.length,c=zf();return a=b?p(a,function(a){if("function"!=typeof a[1])throw new ok(ia);return[c(a[0]),a[1]]}):[],fe(function(c){for(var d=-1;++d<b;){var e=a[d];if(h(e[0],this,c))return h(e[1],this,c)}})}function Fj(a){return Pc(Oc(a,ma))}function Gj(a){return function(){return a}}function Hj(a,b){return null==a||a!==a?b:a}function Ij(a){return a}function Jj(a){return Od("function"==typeof a?a:Oc(a,ma))}function Kj(a){return Td(Oc(a,ma))}function Lj(a,b){return Ud(a,Oc(b,ma))}function Mj(a,b,c){var d=Si(b),e=hd(b,d);null!=c||ii(b)&&(e.length||!d.length)||(c=b,b=a,a=this,e=hd(b,Si(b)));var f=!(ii(c)&&"chain"in c&&!c.chain),g=fi(a);return j(e,function(c){var d=b[c];a[c]=d,g&&(a.prototype[c]=function(){var b=this.__chain__;if(f||b){var c=a(this.__wrapped__);return(c.__actions__=Oe(this.__actions__)).push({func:d,args:arguments,thisArg:a}),c.__chain__=b,c}return d.apply(a,q([this.value()],arguments))})}),a}function Nj(){return gd._===this&&(gd._=zk),this}function Oj(){}function Pj(a){return a=Ai(a),fe(function(b){return Xd(b,a)})}function Qj(a){return Of(a)?C(dg(a)):_d(a)}function Rj(a){return function(b){return null==a?ea:id(a,b)}}function Sj(){return[]}function Tj(){return!1}function Uj(){return{}}function Vj(){return""}function Wj(){return!0}function Xj(a,b){if((a=Ai(a))<1||a>Ja)return[];var c=Ma,d=Yk(a,Ma);b=zf(b),a-=Ma;for(var e=H(d,b);++c<a;)b(c);return e}function Yj(a){return um(a)?p(a,dg):ui(a)?[a]:Oe(Jl(Fi(a)))}function Zj(a){var b=++vk;return Fi(a)+b}function $j(a){return a&&a.length?$c(a,Ij,sd):ea}function _j(a,b){return a&&a.length?$c(a,zf(b,2),sd):ea}function ak(a){return B(a,Ij)}function bk(a,b){return B(a,zf(b,2))}function ck(a){return a&&a.length?$c(a,Ij,Rd):ea}function dk(a,b){return a&&a.length?$c(a,zf(b,2),Rd):ea}function ek(a){return a&&a.length?G(a,Ij):0}function fk(a,b){return a&&a.length?G(a,zf(b,2)):0}b=null==b?gd:xd.defaults(gd.Object(),b,xd.pick(gd,Wc));var gk=b.Array,hk=b.Date,ik=b.Error,jk=b.Function,kk=b.Math,lk=b.Object,mk=b.RegExp,nk=b.String,ok=b.TypeError,pk=gk.prototype,qk=jk.prototype,rk=lk.prototype,sk=b["__core-js_shared__"],tk=qk.toString,uk=rk.hasOwnProperty,vk=0,wk=function(){var a=/[^.]+$/.exec(sk&&sk.keys&&sk.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),xk=rk.toString,yk=tk.call(lk),zk=gd._,Ak=mk("^"+tk.call(uk).replace(Jb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bk=jd?b.Buffer:ea,Ck=b.Symbol,Dk=b.Uint8Array,Ek=Bk?Bk.allocUnsafe:ea,Fk=V(lk.getPrototypeOf,lk),Gk=lk.create,Hk=rk.propertyIsEnumerable,Ik=pk.splice,Jk=Ck?Ck.isConcatSpreadable:ea,Kk=Ck?Ck.iterator:ea,Lk=Ck?Ck.toStringTag:ea,Mk=function(){try{var a=Cf(lk,"defineProperty");return a({},"",{}),a}catch(b){}}(),Nk=b.clearTimeout!==gd.clearTimeout&&b.clearTimeout,Ok=hk&&hk.now!==gd.Date.now&&hk.now,Pk=b.setTimeout!==gd.setTimeout&&b.setTimeout,Qk=kk.ceil,Rk=kk.floor,Sk=lk.getOwnPropertySymbols,Tk=Bk?Bk.isBuffer:ea,Uk=b.isFinite,Vk=pk.join,Wk=V(lk.keys,lk),Xk=kk.max,Yk=kk.min,Zk=hk.now,$k=b.parseInt,_k=kk.random,al=pk.reverse,bl=Cf(b,"DataView"),cl=Cf(b,"Map"),dl=Cf(b,"Promise"),el=Cf(b,"Set"),fl=Cf(b,"WeakMap"),gl=Cf(lk,"create"),hl=fl&&new fl,il={},jl=eg(bl),kl=eg(cl),ll=eg(dl),ml=eg(el),nl=eg(fl),ol=Ck?Ck.prototype:ea,pl=ol?ol.valueOf:ea,ql=ol?ol.toString:ea,rl=function(){function a(){}return function(b){if(!ii(b))return{};if(Gk)return Gk(b);a.prototype=b;var c=new a;return a.prototype=ea,c}}();c.templateSettings={escape:Cb,evaluate:Db,interpolate:Eb,variable:"",imports:{_:c}},c.prototype=d.prototype,c.prototype.constructor=c,u.prototype=rl(d.prototype),u.prototype.constructor=u,D.prototype=rl(d.prototype),D.prototype.constructor=D,Rb.prototype.clear=bc,Rb.prototype.delete=cc,Rb.prototype.get=dc,Rb.prototype.has=ec,Rb.prototype.set=fc,gc.prototype.clear=hc,gc.prototype.delete=ic,gc.prototype.get=jc,gc.prototype.has=kc,gc.prototype.set=lc,mc.prototype.clear=nc,mc.prototype.delete=oc,mc.prototype.get=pc,mc.prototype.has=qc,mc.prototype.set=rc,sc.prototype.add=sc.prototype.push=tc,sc.prototype.has=uc,vc.prototype.clear=wc,vc.prototype.delete=xc,vc.prototype.get=yc,vc.prototype.has=zc,vc.prototype.set=Ac;var sl=Ue(ed),tl=Ue(fd,!0),ul=Ve(),vl=Ve(!0),wl=hl?function(a,b){return hl.set(a,b),a}:Ij,xl=Mk?function(a,b){return Mk(a,"toString",{configurable:!0,enumerable:!1,value:Gj(b),writable:!0})}:Ij,yl=fe,zl=Nk||function(a){return gd.clearTimeout(a)},Al=el&&1/X(new el([,-0]))[1]==Ia?function(a){return new el(a)}:Oj,Bl=hl?function(a){return hl.get(a)}:Oj,Cl=Sk?function(a){return null==a?[]:(a=lk(a),m(Sk(a),function(b){return Hk.call(a,b)}))}:Sj,Dl=Sk?function(a){for(var b=[];a;)q(b,Cl(a)),a=Fk(a);return b}:Sj,El=ld;(bl&&El(new bl(new ArrayBuffer(1)))!=lb||cl&&El(new cl)!=Za||dl&&El(dl.resolve())!=bb||el&&El(new el)!=eb||fl&&El(new fl)!=ib)&&(El=function(a){var b=ld(a),c=b==ab?a.constructor:ea,d=c?eg(c):"";if(d)switch(d){case jl:return lb;case kl:return Za;case ll:return bb;case ml:return eb;case nl:return ib}return b});var Fl=sk?fi:Tj,Gl=bg(wl),Hl=Pk||function(a,b){return gd.setTimeout(a,b)},Il=bg(xl),Jl=Vf(function(a){var b=[];return Hb.test(a)&&b.push(""),a.replace(Ib,function(a,c,d,e){b.push(d?e.replace(Sb,"$1"):c||a)}),b}),Kl=fe(function(a,b){return Zh(a)?Uc(a,bd(b,1,Zh,!0)):[]}),Ll=fe(function(a,b){var c=zg(b);return Zh(c)&&(c=ea),Zh(a)?Uc(a,bd(b,1,Zh,!0),zf(c,2)):[]}),Ml=fe(function(a,b){var c=zg(b);return Zh(c)&&(c=ea),Zh(a)?Uc(a,bd(b,1,Zh,!0),ea,c):[]}),Nl=fe(function(a){var b=p(a,ye);return b.length&&b[0]===a[0]?Ad(b):[]}),Ol=fe(function(a){var b=zg(a),c=p(a,ye);return b===zg(c)?b=ea:c.pop(),c.length&&c[0]===a[0]?Ad(c,zf(b,2)):[]}),Pl=fe(function(a){var b=zg(a),c=p(a,ye);return b="function"==typeof b?b:ea,b&&c.pop(),c.length&&c[0]===a[0]?Ad(c,ea,b):[]}),Ql=fe(Cg),Rl=uf(function(a,b){var c=null==a?0:a.length,d=Mc(a,b);return be(a,p(b,function(a){return Mf(a,c)?+a:a}).sort(Ke)),d}),Sl=fe(function(a){return re(bd(a,1,Zh,!0))}),Tl=fe(function(a){var b=zg(a);return Zh(b)&&(b=ea),re(bd(a,1,Zh,!0),zf(b,2))}),Ul=fe(function(a){var b=zg(a);return b="function"==typeof b?b:ea,re(bd(a,1,Zh,!0),ea,b)}),Vl=fe(function(a,b){return Zh(a)?Uc(a,b):[]}),Wl=fe(function(a){return we(m(a,Zh))}),Xl=fe(function(a){var b=zg(a);return Zh(b)&&(b=ea),we(m(a,Zh),zf(b,2))}),Yl=fe(function(a){var b=zg(a);return b="function"==typeof b?b:ea,we(m(a,Zh),ea,b)}),Zl=fe(Yg),$l=fe(function(a){var b=a.length,c=b>1?a[b-1]:ea;return c="function"==typeof c?(a.pop(),c):ea,Zg(a,c)}),_l=uf(function(a){var b=a.length,c=b?a[0]:0,d=this.__wrapped__,e=function(b){return Mc(b,a)};return!(b>1||this.__actions__.length)&&d instanceof D&&Mf(c)?(d=d.slice(c,+c+(b?1:0)),d.__actions__.push({func:ch,args:[e],thisArg:ea}),new u(d,this.__chain__).thru(function(a){return b&&!a.length&&a.push(ea),a})):this.thru(e)}),am=Se(function(a,b,c){uk.call(a,c)?++a[c]:Lc(a,c,1)}),bm=_e(pg),cm=_e(qg),dm=Se(function(a,b,c){uk.call(a,c)?a[c].push(b):Lc(a,c,[b])}),em=fe(function(a,b,c){var d=-1,e="function"==typeof b,f=Yh(a)?gk(a.length):[];return sl(a,function(a){f[++d]=e?h(b,a,c):Cd(a,b,c)}),f}),fm=Se(function(a,b,c){Lc(a,c,b)}),gm=Se(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),hm=fe(function(a,b){if(null==a)return[];var c=b.length;return c>1&&Nf(a,b[0],b[1])?b=[]:c>2&&Nf(b[0],b[1],b[2])&&(b=[b[0]]),Yd(a,bd(b,1),[])}),im=Ok||function(){return gd.Date.now()},jm=fe(function(a,b,c){var d=ra;if(c.length){var e=W(c,yf(jm));d|=wa}return nf(a,d,b,c,e)}),km=fe(function(a,b,c){var d=ra|sa;if(c.length){var e=W(c,yf(km));d|=wa}return nf(b,d,a,c,e)}),lm=fe(function(a,b){return Tc(a,1,b)}),mm=fe(function(a,b,c){return Tc(a,Ci(b)||0,c)});Jh.Cache=mc;var nm=yl(function(a,b){b=1==b.length&&um(b[0])?p(b[0],J(zf())):p(bd(b,1),J(zf()));var c=b.length;return fe(function(d){for(var e=-1,f=Yk(d.length,c);++e<f;)d[e]=b[e].call(this,d[e]);return h(a,this,d)})}),om=fe(function(a,b){var c=W(b,yf(om));return nf(a,wa,ea,b,c)}),pm=fe(function(a,b){var c=W(b,yf(pm));return nf(a,xa,ea,b,c)}),qm=uf(function(a,b){return nf(a,za,ea,ea,ea,b)}),rm=jf(sd),sm=jf(function(a,b){return a>=b}),tm=Dd(function(){return arguments}())?Dd:function(a){return ji(a)&&uk.call(a,"callee")&&!Hk.call(a,"callee")},um=gk.isArray,vm=md?J(md):Ed,wm=Tk||Tj,xm=nd?J(nd):Fd,ym=od?J(od):Id,zm=pd?J(pd):Ld,Am=qd?J(qd):Md,Bm=rd?J(rd):Nd,Cm=jf(Rd),Dm=jf(function(a,b){return a<=b}),Em=Te(function(a,b){if(Sf(b)||Yh(b))return void Pe(b,Si(b),a);for(var c in b)uk.call(b,c)&&Gc(a,c,b[c])}),Fm=Te(function(a,b){Pe(b,Ti(b),a)}),Gm=Te(function(a,b,c,d){Pe(b,Ti(b),a,d)}),Hm=Te(function(a,b,c,d){Pe(b,Si(b),a,d)}),Im=uf(Mc),Jm=fe(function(a){return a.push(ea,of),h(Gm,ea,a)}),Km=fe(function(a){return a.push(ea,pf),h(Pm,ea,a)}),Lm=cf(function(a,b,c){a[b]=c},Gj(Ij)),Mm=cf(function(a,b,c){uk.call(a,b)?a[b].push(c):a[b]=[c]},zf),Nm=fe(Cd),Om=Te(function(a,b,c){Vd(a,b,c)}),Pm=Te(function(a,b,c,d){Vd(a,b,c,d)}),Qm=uf(function(a,b){var c={};if(null==a)return c;var d=!1;b=p(b,function(b){return b=Ae(b,a),d||(d=b.length>1),b}),Pe(a,wf(a),c),d&&(c=Oc(c,ma|na|oa,qf));for(var e=b.length;e--;)se(c,b[e]);return c}),Rm=uf(function(a,b){return null==a?{}:Zd(a,b)}),Sm=mf(Si),Tm=mf(Ti),Um=Ye(function(a,b,c){return b=b.toLowerCase(),a+(c?ij(b):b)}),Vm=Ye(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Wm=Ye(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),Xm=Xe("toLowerCase"),Ym=Ye(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Zm=Ye(function(a,b,c){return a+(c?" ":"")+_m(b)}),$m=Ye(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),_m=Xe("toUpperCase"),an=fe(function(a,b){try{return h(a,ea,b)}catch(c){return di(c)?c:new ik(c)}}),bn=uf(function(a,b){
return j(b,function(b){b=dg(b),Lc(a,b,jm(a[b],a))}),a}),cn=af(),dn=af(!0),en=fe(function(a,b){return function(c){return Cd(c,a,b)}}),fn=fe(function(a,b){return function(c){return Cd(a,c,b)}}),gn=ef(p),hn=ef(l),jn=ef(t),kn=hf(),ln=hf(!0),mn=df(function(a,b){return a+b},0),nn=lf("ceil"),on=df(function(a,b){return a/b},1),pn=lf("floor"),qn=df(function(a,b){return a*b},1),rn=lf("round"),sn=df(function(a,b){return a-b},0);return c.after=Ch,c.ary=Dh,c.assign=Em,c.assignIn=Fm,c.assignInWith=Gm,c.assignWith=Hm,c.at=Im,c.before=Eh,c.bind=jm,c.bindAll=bn,c.bindKey=km,c.castArray=Rh,c.chain=ah,c.chunk=hg,c.compact=ig,c.concat=jg,c.cond=Ej,c.conforms=Fj,c.constant=Gj,c.countBy=am,c.create=Gi,c.curry=Fh,c.curryRight=Gh,c.debounce=Hh,c.defaults=Jm,c.defaultsDeep=Km,c.defer=lm,c.delay=mm,c.difference=Kl,c.differenceBy=Ll,c.differenceWith=Ml,c.drop=kg,c.dropRight=lg,c.dropRightWhile=mg,c.dropWhile=ng,c.fill=og,c.filter=lh,c.flatMap=mh,c.flatMapDeep=nh,c.flatMapDepth=oh,c.flatten=rg,c.flattenDeep=sg,c.flattenDepth=tg,c.flip=Ih,c.flow=cn,c.flowRight=dn,c.fromPairs=ug,c.functions=Ni,c.functionsIn=Oi,c.groupBy=dm,c.initial=xg,c.intersection=Nl,c.intersectionBy=Ol,c.intersectionWith=Pl,c.invert=Lm,c.invertBy=Mm,c.invokeMap=em,c.iteratee=Jj,c.keyBy=fm,c.keys=Si,c.keysIn=Ti,c.map=sh,c.mapKeys=Ui,c.mapValues=Vi,c.matches=Kj,c.matchesProperty=Lj,c.memoize=Jh,c.merge=Om,c.mergeWith=Pm,c.method=en,c.methodOf=fn,c.mixin=Mj,c.negate=Kh,c.nthArg=Pj,c.omit=Qm,c.omitBy=Wi,c.once=Lh,c.orderBy=th,c.over=gn,c.overArgs=nm,c.overEvery=hn,c.overSome=jn,c.partial=om,c.partialRight=pm,c.partition=gm,c.pick=Rm,c.pickBy=Xi,c.property=Qj,c.propertyOf=Rj,c.pull=Ql,c.pullAll=Cg,c.pullAllBy=Dg,c.pullAllWith=Eg,c.pullAt=Rl,c.range=kn,c.rangeRight=ln,c.rearg=qm,c.reject=wh,c.remove=Fg,c.rest=Mh,c.reverse=Gg,c.sampleSize=yh,c.set=Zi,c.setWith=$i,c.shuffle=zh,c.slice=Hg,c.sortBy=hm,c.sortedUniq=Og,c.sortedUniqBy=Pg,c.split=tj,c.spread=Nh,c.tail=Qg,c.take=Rg,c.takeRight=Sg,c.takeRightWhile=Tg,c.takeWhile=Ug,c.tap=bh,c.throttle=Oh,c.thru=ch,c.toArray=yi,c.toPairs=Sm,c.toPairsIn=Tm,c.toPath=Yj,c.toPlainObject=Di,c.transform=_i,c.unary=Ph,c.union=Sl,c.unionBy=Tl,c.unionWith=Ul,c.uniq=Vg,c.uniqBy=Wg,c.uniqWith=Xg,c.unset=aj,c.unzip=Yg,c.unzipWith=Zg,c.update=bj,c.updateWith=cj,c.values=dj,c.valuesIn=ej,c.without=Vl,c.words=Dj,c.wrap=Qh,c.xor=Wl,c.xorBy=Xl,c.xorWith=Yl,c.zip=Zl,c.zipObject=$g,c.zipObjectDeep=_g,c.zipWith=$l,c.entries=Sm,c.entriesIn=Tm,c.extend=Fm,c.extendWith=Gm,Mj(c,c),c.add=mn,c.attempt=an,c.camelCase=Um,c.capitalize=ij,c.ceil=nn,c.clamp=fj,c.clone=Sh,c.cloneDeep=Uh,c.cloneDeepWith=Vh,c.cloneWith=Th,c.conformsTo=Wh,c.deburr=jj,c.defaultTo=Hj,c.divide=on,c.endsWith=kj,c.eq=Xh,c.escape=lj,c.escapeRegExp=mj,c.every=kh,c.find=bm,c.findIndex=pg,c.findKey=Hi,c.findLast=cm,c.findLastIndex=qg,c.findLastKey=Ii,c.floor=pn,c.forEach=ph,c.forEachRight=qh,c.forIn=Ji,c.forInRight=Ki,c.forOwn=Li,c.forOwnRight=Mi,c.get=Pi,c.gt=rm,c.gte=sm,c.has=Qi,c.hasIn=Ri,c.head=vg,c.identity=Ij,c.includes=rh,c.indexOf=wg,c.inRange=gj,c.invoke=Nm,c.isArguments=tm,c.isArray=um,c.isArrayBuffer=vm,c.isArrayLike=Yh,c.isArrayLikeObject=Zh,c.isBoolean=$h,c.isBuffer=wm,c.isDate=xm,c.isElement=_h,c.isEmpty=ai,c.isEqual=bi,c.isEqualWith=ci,c.isError=di,c.isFinite=ei,c.isFunction=fi,c.isInteger=gi,c.isLength=hi,c.isMap=ym,c.isMatch=ki,c.isMatchWith=li,c.isNaN=mi,c.isNative=ni,c.isNil=pi,c.isNull=oi,c.isNumber=qi,c.isObject=ii,c.isObjectLike=ji,c.isPlainObject=ri,c.isRegExp=zm,c.isSafeInteger=si,c.isSet=Am,c.isString=ti,c.isSymbol=ui,c.isTypedArray=Bm,c.isUndefined=vi,c.isWeakMap=wi,c.isWeakSet=xi,c.join=yg,c.kebabCase=Vm,c.last=zg,c.lastIndexOf=Ag,c.lowerCase=Wm,c.lowerFirst=Xm,c.lt=Cm,c.lte=Dm,c.max=$j,c.maxBy=_j,c.mean=ak,c.meanBy=bk,c.min=ck,c.minBy=dk,c.stubArray=Sj,c.stubFalse=Tj,c.stubObject=Uj,c.stubString=Vj,c.stubTrue=Wj,c.multiply=qn,c.nth=Bg,c.noConflict=Nj,c.noop=Oj,c.now=im,c.pad=nj,c.padEnd=oj,c.padStart=pj,c.parseInt=qj,c.random=hj,c.reduce=uh,c.reduceRight=vh,c.repeat=rj,c.replace=sj,c.result=Yi,c.round=rn,c.runInContext=a,c.sample=xh,c.size=Ah,c.snakeCase=Ym,c.some=Bh,c.sortedIndex=Ig,c.sortedIndexBy=Jg,c.sortedIndexOf=Kg,c.sortedLastIndex=Lg,c.sortedLastIndexBy=Mg,c.sortedLastIndexOf=Ng,c.startCase=Zm,c.startsWith=uj,c.subtract=sn,c.sum=ek,c.sumBy=fk,c.template=vj,c.times=Xj,c.toFinite=zi,c.toInteger=Ai,c.toLength=Bi,c.toLower=wj,c.toNumber=Ci,c.toSafeInteger=Ei,c.toString=Fi,c.toUpper=xj,c.trim=yj,c.trimEnd=zj,c.trimStart=Aj,c.truncate=Bj,c.unescape=Cj,c.uniqueId=Zj,c.upperCase=$m,c.upperFirst=_m,c.each=ph,c.eachRight=qh,c.first=vg,Mj(c,function(){var a={};return ed(c,function(b,d){uk.call(c.prototype,d)||(a[d]=b)}),a}(),{chain:!1}),c.VERSION=fa,j(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){c[a].placeholder=c}),j(["drop","take"],function(a,b){D.prototype[a]=function(c){c=c===ea?1:Xk(Ai(c),0);var d=this.__filtered__&&!b?new D(this):this.clone();return d.__filtered__?d.__takeCount__=Yk(c,d.__takeCount__):d.__views__.push({size:Yk(c,Ma),type:a+(d.__dir__<0?"Right":"")}),d},D.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),j(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c==Fa||c==Ha;D.prototype[a]=function(a){var b=this.clone();return b.__iteratees__.push({iteratee:zf(a,3),type:c}),b.__filtered__=b.__filtered__||d,b}}),j(["head","last"],function(a,b){var c="take"+(b?"Right":"");D.prototype[a]=function(){return this[c](1).value()[0]}}),j(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");D.prototype[a]=function(){return this.__filtered__?new D(this):this[c](1)}}),D.prototype.compact=function(){return this.filter(Ij)},D.prototype.find=function(a){return this.filter(a).head()},D.prototype.findLast=function(a){return this.reverse().find(a)},D.prototype.invokeMap=fe(function(a,b){return"function"==typeof a?new D(this):this.map(function(c){return Cd(c,a,b)})}),D.prototype.reject=function(a){return this.filter(Kh(zf(a)))},D.prototype.slice=function(a,b){a=Ai(a);var c=this;return c.__filtered__&&(a>0||b<0)?new D(c):(a<0?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==ea&&(b=Ai(b),c=b<0?c.dropRight(-b):c.take(b-a)),c)},D.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},D.prototype.toArray=function(){return this.take(Ma)},ed(D.prototype,function(a,b){var d=/^(?:filter|find|map|reject)|While$/.test(b),e=/^(?:head|last)$/.test(b),f=c[e?"take"+("last"==b?"Right":""):b],g=e||/^find/.test(b);f&&(c.prototype[b]=function(){var b=this.__wrapped__,h=e?[1]:arguments,i=b instanceof D,j=h[0],k=i||um(b),l=function(a){var b=f.apply(c,q([a],h));return e&&m?b[0]:b};k&&d&&"function"==typeof j&&1!=j.length&&(i=k=!1);var m=this.__chain__,n=!!this.__actions__.length,o=g&&!m,p=i&&!n;if(!g&&k){b=p?b:new D(this);var r=a.apply(b,h);return r.__actions__.push({func:ch,args:[l],thisArg:ea}),new u(r,m)}return o&&p?a.apply(this,h):(r=this.thru(l),o?e?r.value()[0]:r.value():r)})}),j(["pop","push","shift","sort","splice","unshift"],function(a){var b=pk[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",e=/^(?:pop|shift)$/.test(a);c.prototype[a]=function(){var a=arguments;if(e&&!this.__chain__){var c=this.value();return b.apply(um(c)?c:[],a)}return this[d](function(c){return b.apply(um(c)?c:[],a)})}}),ed(D.prototype,function(a,b){var d=c[b];if(d){var e=d.name+"";(il[e]||(il[e]=[])).push({name:b,func:d})}}),il[bf(ea,sa).name]=[{name:"wrapper",func:ea}],D.prototype.clone=Z,D.prototype.reverse=ba,D.prototype.value=ca,c.prototype.at=_l,c.prototype.chain=dh,c.prototype.commit=eh,c.prototype.next=fh,c.prototype.plant=hh,c.prototype.reverse=ih,c.prototype.toJSON=c.prototype.valueOf=c.prototype.value=jh,c.prototype.first=c.prototype.head,Kk&&(c.prototype[Kk]=gh),c},xd=wd();"function"==typeof a&&"object"==e(a.amd)&&a.amd?(gd._=xd,a(function(){return xd})):id?((id.exports=xd)._=xd,hd._=xd):gd._=xd}).call(void 0)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],75:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=function(a,b,c,e){var f,g=arguments.length,h=g<3?b:null===e?e=Object.getOwnPropertyDescriptor(b,c):e;if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.decorate)h=Reflect.decorate(a,b,c,e);else for(var i=a.length-1;i>=0;i--)(f=a[i])&&(h=(g<3?f(h):g>3?f(b,c,h):f(b,c))||h);return g>3&&h&&Object.defineProperty(b,c,h),h},f=function(a,b){if("object"===("undefined"==typeof Reflect?"undefined":d(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};Object.defineProperty(c,"__esModule",{value:!0});var g=a("serializer.ts/Decorators"),h=function(){function a(){}return e([g.Type(function(){return l}),f("design:type",Object)],a.prototype,"definition",void 0),e([g.Type(function(){return a}),f("design:type",Object)],a.prototype,"annotations",void 0),a}();c.Annotation=h;var i=function(){function a(){}return e([g.Type(function(){return l}),f("design:type",l)],a.prototype,"definition",void 0),a}();c.AnnotationType=i;var j=function(){function a(){}return e([g.Type(function(){return h}),f("design:type",Object)],a.prototype,"annotations",void 0),a}();c.BaseUri=j;var k=function(){function a(){}return e([g.Type(function(){return l}),f("design:type",Object)],a.prototype,"definition",void 0),e([g.Type(function(){return h}),f("design:type",Object)],a.prototype,"annotations",void 0),a}();c.Body=k;var l=function(){function a(){}return e([g.Type(function(){return a}),f("design:type",Object)],a.prototype,"compositionType",void 0),e([g.Type(function(){return a}),f("design:type",Object)],a.prototype,"properties",void 0),e([g.Type(function(){return a}),f("design:type",Object)],a.prototype,"items",void 0),e([g.Type(function(){return a}),f("design:type",Object)],a.prototype,"itemsList",void 0),e([g.Type(function(){return a}),f("design:type",Object)],a.prototype,"additionalProperties",void 0),e([g.Type(function(){return h}),f("design:type",Object)],a.prototype,"annotations",void 0),e([g.Type(function(){return a}),f("design:type",Object)],a.prototype,"schema",void 0),e([g.Type(function(){return m}),f("design:type",Object)],a.prototype,"externalDocs",void 0),a}();c.Definition=l;var m=function(){function a(){}return e([g.Type(function(){return h}),f("design:type",Object)],a.prototype,"annotations",void 0),a}();c.ExternalDocumentation=m;var n=function(){function a(){}return e([g.Type(function(){return l}),f("design:type",Object)],a.prototype,"definition",void 0),e([g.Type(function(){return h}),f("design:type",Object)],a.prototype,"annotations",void 0),a}();c.Header=n;var o=function(){function a(){}return e([g.Type(function(){return p}),f("design:type",Object)],a.prototype,"contact",void 0),e([g.Type(function(){return p}),f("design:type",Object)],a.prototype,"license",void 0),e([g.Type(function(){return h}),f("design:type",Object)],a.prototype,"annotations",void 0),a}();c.Info=o;var p=function(){function a(){}return e([g.Type(function(){return h}),f("design:type",Object)],a.prototype,"annotations",void 0),a}();c.InfoData=p;var q=function(){function a(){}return a}();c.Item=q;var r=function(){function a(){}return a}();c.MediaType=r;var s=function(){function a(){}return e([g.Type(function(){return t}),f("design:type",Object)],a.prototype,"parameters",void 0),e([g.Type(function(){return w}),f("design:type",Object)],a.prototype,"responses",void 0),e([g.Type(function(){return n}),f("design:type",Object)],a.prototype,"headers",void 0),e([g.Type(function(){return k}),f("design:type",Object)],a.prototype,"bodies",void 0),e([g.Type(function(){return k}),f("design:type",Object)],a.prototype,"formBodies",void 0),e([g.Type(function(){return q}),f("design:type",Object)],a.prototype,"is",void 0),e([g.Type(function(){return h}),f("design:type",Object)],a.prototype,"annotations",void 0),e([g.Type(function(){return z}),f("design:type",Object)],a.prototype,"securedBy",void 0),e([g.Type(function(){return m}),f("design:type",Object)],a.prototype,"externalDocs",void 0),e([g.Type(function(){return t}),f("design:type",Object)],a.prototype,"queryStrings",void 0),a}();c.Method=s;var t=function(){function a(){}return e([g.Type(function(){return l}),f("design:type",Object)],a.prototype,"definition",void 0),e([g.Type(function(){return h}),f("design:type",Object)],a.prototype,"annotations",void 0),a}();c.Parameter=t;var u=function(){function a(){}return e([g.Type(function(){return q}),f("design:type",Object)],a.prototype,"is",void 0),e([g.Type(function(){return t}),f("design:type",Object)],a.prototype,"parameters",void 0),e([g.Type(function(){return t}),f("design:type",Object)],a.prototype,"baseUriParameters",void 0),e([g.Type(function(){return q}),f("design:type",Object)],a.prototype,"resourceType",void 0),e([g.Type(function(){return s}),f("design:type",Object)],a.prototype,"methods",void 0),e([g.Type(function(){return z}),f("design:type",Object)],a.prototype,"securedBy",void 0),e([g.Type(function(){return h}),f("design:type",Object)],a.prototype,"annotations",void 0),e([g.Type(function(){return a}),f("design:type",Object)],a.prototype,"resources",void 0),a}();c.Resource=u;var v=function(){function a(){}return e([g.Type(function(){return u}),f("design:type",Object)],a.prototype,"resource",void 0),a}();c.ResourceType=v;var w=function(){function a(){}return e([g.Type(function(){return n}),f("design:type",Object)],a.prototype,"headers",void 0),e([g.Type(function(){return k}),f("design:type",Object)],a.prototype,"bodies",void 0),e([g.Type(function(){return h}),f("design:type",Object)],a.prototype,"annotations",void 0),a}();c.Response=w;var x=function(){function a(){}return e([g.Type(function(){return j}),f("design:type",Object)],a.prototype,"baseUri",void 0),e([g.Type(function(){return r}),f("design:type",Object)],a.prototype,"mediaType",void 0),e([g.Type(function(){return y}),f("design:type",Object)],a.prototype,"securityDefinitions",void 0),e([g.Type(function(){return u}),f("design:type",Object)],a.prototype,"resources",void 0),e([g.Type(function(){return l}),f("design:type",Object)],a.prototype,"types",void 0),e([g.Type(function(){return B}),f("design:type",Object)],a.prototype,"tags",void 0),e([g.Type(function(){return m}),f("design:type",Object)],a.prototype,"externalDocs",void 0),e([g.Type(function(){return q}),f("design:type",Object)],a.prototype,"documentation",void 0),e([g.Type(function(){return t}),f("design:type",Object)],a.prototype,"baseUriParameters",void 0),e([g.Type(function(){return v}),f("design:type",Object)],a.prototype,"resourceTypes",void 0),e([g.Type(function(){return C}),f("design:type",Object)],a.prototype,"traits",void 0),e([g.Type(function(){return i}),f("design:type",Object)],a.prototype,"annotationTypes",void 0),e([g.Type(function(){return h}),f("design:type",Object)],a.prototype,"annotations",void 0),e([g.Type(function(){return u}),f("design:type",Object)],a.prototype,"resourceAnnotations",void 0),e([g.Type(function(){return w}),f("design:type",Object)],a.prototype,"responses",void 0),a}();c.Root=x;var y=function(){function a(){}return e([g.Type(function(){return A}),f("design:type",Object)],a.prototype,"scopes",void 0),e([g.Type(function(){return s}),f("design:type",Object)],a.prototype,"describedBy",void 0),a}();c.SecurityDefinition=y;var z=function(){function a(){}return a}();c.SecurityRequirement=z;var A=function(){function a(){}return a}();c.SecurityScope=A;var B=function(){function a(){}return e([g.Type(function(){return m}),f("design:type",Object)],a.prototype,"externalDocs",void 0),a}();c.Tag=B;var C=function(){function a(){}return e([g.Type(function(){return s}),f("design:type",Object)],a.prototype,"method",void 0),a}();c.Trait=C,c.default={Annotation:h,AnnotationType:i,BaseUri:j,Body:k,Definition:l,ExternalDocumentation:m,Header:n,Info:o,InfoData:p,Item:q,MediaType:r,Method:s,Parameter:t,Resource:u,ResourceType:v,Response:w,Root:x,SecurityDefinition:y,SecurityRequirement:z,SecurityScope:A,Tag:B,Trait:C}},{"serializer.ts/Decorators":169}],76:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("lodash"),j=a("oas-raml-converter-model"),k=(j.Root,j.Parameter),l=(j.Annotation,j.Definition,a("../converters/converter")),m=a("../raml/ramlDefinitionConverter"),n=a("../raml/ramlAnnotationConverter"),o=a("../helpers/raml"),p=function(a){function b(a,c,f,g){d(this,b);var h=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,f));return i.isEmpty(g)||(h._in=g),h}return f(b,a),h(b,[{key:"export",value:function(a,b){var c={};if(i.isEmpty(a))return c;for(var d=0;d<a.length;d++){var e=a[d];!e||e.hasOwnProperty("reference")||this._in&&e._in!==this._in||(c[e.name]=this._export(e,b))}return c}},{key:"_export",value:function(a,c){var d=new m(this.model,this.annotationPrefix,this.def),e=a.definition,f=d._export(e);if(c||"header"!==a._in||(!f.type||o.getBuiltinTypes.includes(f.type))&&f.type||(f.type="string"),a.hasOwnProperty("displayName")&&(f.displayName=a.displayName),a.hasOwnProperty("annotations")){var g=new n(this.model,this.annotationPrefix,this.def);i.assign(f,g._export(a))}return b.exportRequired(a,f),f}},{key:"_import",value:function(a){var c=new m,d=new k;d.name=a.name,a.hasOwnProperty("displayName")&&(d.displayName=a.displayName,delete a.displayName);var e=c._import(a);if(!a.hasOwnProperty("type")&&e&&delete e.internalType,b.importRequired(a,d),a.hasOwnProperty("annotations")&&!i.isEmpty(a.annotations)){var f=new n,g=f._import(a);i.isEmpty(g)||(d.annotations=g),delete e.annotations}return d.definition=e,d}}],[{key:"exportRequired",value:function(a,b){a.hasOwnProperty("required")&&(b.required=a.required),b.hasOwnProperty("required")&&b.required&&delete b.required}},{key:"importRequired",value:function(a,b){b.required=!a.hasOwnProperty("required")||a.required}}]),b}(l);b.exports=p},{"../converters/converter":78,"../helpers/raml":83,"../raml/ramlAnnotationConverter":105,"../raml/ramlDefinitionConverter":109,lodash:74,"oas-raml-converter-model":75}],77:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./converters/index"),g=function(){function a(b,c){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(d(this,a),this.modelErrors=e,this.importer=f.factory(b),!this.importer)throw new Error("from format "+b.name+" not supported");if(this.importer.type=b,this.exporter=f.factory(c),!this.exporter)throw new Error("to format "+c.name+" not supported");this.exporter.type=c,this.format=this.exporter.type.formats[0]}return e(a,[{key:"getModelFromData",value:function(a,b){var c=this;return new Promise(function(d,e){c._loadData(a,b).then(function(){var a=c.importer.import(c.importer.data,c.modelErrors);d(a)}).catch(e)})}},{key:"getModelFromFile",value:function(a,b){var c=this;return new Promise(function(d,e){c._loadFile(a,b).then(function(){var a=c.importer.import(c.importer.data,c.modelErrors);d(a)}).catch(e)})}},{key:"convertFromModel",value:function(a,b){var c=this;return new Promise(function(d,e){try{c.exporter.export(a,c._getFormat(b)).then(d).catch(e)}catch(f){e(f)}})}},{key:"convertFile",value:function(a,b){var c=this;return new Promise(function(d,e){c.getModelFromFile(a,b).then(function(a){c.convertFromModel(a,b).then(d).catch(e)}).catch(e)})}},{key:"convertData",value:function(a,b){var c=this;return new Promise(function(d,e){c.getModelFromData(a,b).then(function(a){c.convertFromModel(a,b).then(d).catch(e)}).catch(e)})}},{key:"_loadFile",value:function(a,b){return this.importer._loadFile(a,b)}},{key:"_loadData",value:function(a,b){return this.importer._loadData(a,b)}},{key:"_getFormat",value:function(a){return!a||!a.format||this.exporter.type.formats.indexOf(a.format)<0?this.format:a.format}}]),a}();c.Converter=g},{"./converters/index":79}],78:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("lodash"),h=a("oas-raml-converter-model"),i=(h.Root,function(){function a(b,c,e){d(this,a),this.model=b,this.annotationPrefix=c,this.def=e}return f(a,[{key:"export",value:function(a){var b=this,c={};return g.entries(a).map(function(a){var d=e(a,2),f=d[0],g=d[1];c[f]=b._export(g)}),c}},{key:"import",value:function(a){var b=this,c={};return g.isEmpty(a)?c:(g.entries(a).map(function(a){var d=e(a,2),f=d[0],g=d[1];c[f]=b._import(g)}),c)}},{key:"_export",value:function(){throw new Error("export method not implemented")}},{key:"_import",value:function(){throw new Error("import method not implemented")}}],[{key:"_options",value:function(a){var b=a&&(!0===a.validate||!0===a.validateImport),c={attributeDefaults:!1,rejectOnErrors:b};return a?g.merge(c,a):c}},{key:"copyObjectFrom",value:function(a,b,c){var d={};return g.entries(a).map(function(a){var f=e(a,2),g=f[0],h=f[1];c.indexOf(g)<0&&!g.startsWith("x-")&&(d[b.hasOwnProperty(g)?b[g]:g]=h)}),d}}]),a}());b.exports=i},{lodash:74,"oas-raml-converter-model":75}],79:[function(a,b,c){"use strict";function d(a){return!(!a||!a.name||!e.hasOwnProperty(a.className))}var e={RAML:a("../raml/ramlConverter"),OAS20:a("../oas20/oas20Converter"),OAS30:a("../oas30/oas30Converter")};b.exports={hasSupport:d,factory:function(a){return d(a)?new e[a.className]:null}}},{"../oas20/oas20Converter":87,"../oas30/oas30Converter":96,"../raml/ramlConverter":107}],80:[function(a,b,c){"use strict";var d={RAML:{name:"RAML",className:"RAML",formats:["yaml"],import:!0,export:!0},OAS20:{name:"OAS 2.0",className:"OAS20",formats:["json","yaml"],import:!0,export:!0},OAS30:{name:"OAS 3.0.0",className:"OAS30",formats:["yaml"],import:!1,export:!0}};b.exports=d},{}],81:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e="function"==typeof Symbol&&"symbol"===d(Symbol.iterator)?function(a){return void 0===a?"undefined":d(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":d(a)},f=a("lodash");b.exports={getValidMethods:["get","put","post","delete","options","head","patch"],getValidMimeTypes:["application/json","application/xml","text/xml"],getValidFormDataMimeTypes:["multipart/form-data","application/x-www-form-urlencoded"],removePropertiesFromObject:function(a,b){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];f.includes(b,c)&&delete a[c],"object"===(void 0===d?"undefined":e(d))&&this.removePropertiesFromObject(d,b)}},getResponseName:function(a,b){return a+":"+b},isJson:function(a){try{JSON.parse(a)}catch(b){return!1}return!0}}},{lodash:74}],82:[function(a,b,c){"use strict";b.exports={getAnnotationPrefix:"x-annotation-",getAcceptedSchemes:["http","https","ws","wss"],isFilePath:function(a){return!(!a||!a.$ref)&&a.$ref.split("#")[0].split(".").length>1}}},{}],83:[function(a,b,c){"use strict";var d=a("lodash");b.exports={getValidCharacters:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9",".","-","_"],getReplacementCharacter:"_",getRAML10ScalarTypes:["string","number","integer","boolean","datetime","date-only","file","array","nil","time-only","datetime-only"],getRAML08ScalarTypes:["string","number","integer","boolean","datetime","date-only","file","array","null","time-only","datetime-only"],getNumberTypes:["number","integer"],getValidFormat:["byte","binary","password","date","date-time"],getAnnotationPrefix:"(",getBuiltinTypes:["string","number","integer","boolean","datetime","date-only","file","time-only","datetime-only","nil","null","any","array","object","union"],parameterMappings:{},getSupportedParameterFields:["displayName","type","description","default","maximum","minimum","maxLength","minLength","pattern","enum","format","collectionFormat","allowEmptyValue","exclusiveMaximum","exclusiveMinimum","maxItems","minItems","uniqueItems","required","facets","items","example","examples","(oas-allowEmptyValue)","(oas-collectionFormat)","(oas-exclusiveMaximum)","(oas-exclusiveMinimum)"],getRFC3339Format:/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.(\d*)Z$/,getDateOnlyFormat:/^\d{4}[^-]\d{2}[^-]\d{2}$/,isNumberType:function(a){return this.getNumberTypes.indexOf(a)>=0},setParameterFields:function(a,b){for(var c in a)if(a.hasOwnProperty(c)&&this.getSupportedParameterFields.indexOf(c)>=0){if(b[this.parameterMappings[c]?this.parameterMappings[c]:c]="function"==typeof a[c]?a[c]():a[c],"function"==typeof b[c]&&(b[c]=b[c]()),"string"!=typeof b[c]&&b[c]&&b[c].value)b[c]=b[c].value();else if("enum"===c&&"string"==typeof b[c])try{b[c]=JSON.parse(b[c].replace(/'/g,'"'))}catch(e){}(!b.hasOwnProperty(c)||d.isArray(b[c])&&d.isEmpty(b[c]))&&delete b[c]}return b},isRaml08Version:function(a){return"RAML08"===a},unescapeYamlIncludes:function(a){var b=a.indexOf("'!include ");if(-1===b)return a;var c=a.indexOf("'",b+1);return-1===c?a:a.substring(0,b)+a.substring(b+1,c)+this.unescapeYamlIncludes(a.substring(c+1))}}},{lodash:74}],84:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("fs"),g=a("lodash"),h=a("../utils/stack"),i=a("../utils/strings"),j=a("os"),k=["get","post","put","patch","options","head","delete"],l=function(){function a(){d(this,a),this.path=new h}return e(a,[{key:"addErrorNodesFromPath",value:function(a,b,c){var d=this;return c.forEach(function(c){var e=f.readFileSync(a,"utf8");d.createPathFromLineNumber(e,c.range.start.line),d.addErrorToModel(b,c)})}},{key:"addErrorNodesFromContent",value:function(a,b,c){var d=this;return c.forEach(function(c){d.createPathFromLineNumber(a,c.range.start.line),d.addErrorToModel(b,c)})}},{key:"addError",value:function(a,b,c){var d=c.isWarning?"warning":"error";a[d]||(a[d]={}),a[d][b]=c.message}},{key:"addErrorToModel",value:function(a,b){var c=this.path.pop();if(c.startsWith("/"))this.addErrorToResource(a,c,b);else if("types"===c)this.addErrorToType(a,b);else if("version"===c&&"Missing required property 'title'"===b.message)this.addError(a,"title",b);else if("documentation"===c)this.addErrorToDocumentation(a,b);else if("baseUriParameters"===c){var d=this.getParameter(a.baseUriParameters,this.path.pop());this.addErrorToProp(d.definition,b)}else this.addError(a,"root",b)}},{key:"addErrorToDocumentation",value:function(a,b){var c=this.path.pop(),d="Missing required property 'title'"===b.message?"name":"Missing required property 'content'"===b.message?"value":"root",e=a.documentation[c];"name"===d?delete e.name:"value"===d&&delete e.value,this.addError(e,d,b)}},{key:"addErrorToType",value:function(a,b){var c=this.path.pop(),d=this.getType(a.types,c);if(this.path.isEmpty())this.addError(d,"root",b);else{var e=this.path.pop();if(this.path.isEmpty())this.addError(d,e,b);else if("properties"===e){var f=this.path.pop();this.addErrorToProp(this.getProperty(d.properties,f),b)}else"example"===e&&this.addExampleError(d,b)}}},{key:"addErrorToProp",value:function(a,b){if(this.path.isEmpty())this.addError(a,"root",b);else if(1===this.path.size()){var c=this.path.pop();this.addError(a,c,b)}else if("properties"===this.path.pop()){var d=this.path.pop();this.addErrorToProp(this.getProperty(a.properties,d),b)}}},{key:"addErrorToResource",value:function(a,b,c){var d=this.getResource(a.resources,b);if(this.path.isEmpty())this.addError(d,"root",c);else{var e=this.path.pop();if(-1===k.indexOf(e)){var f=this.path.pop(),g=this.getParameter(d.parameters,f);this.addErrorToProp(g.definition,c)}else{var h=this.getMethod(d.methods,e);this.addErrorToResourceProp(h,c)}}}},{key:"addErrorToResourceProp",value:function(a,b){if(this.path.isEmpty())this.addError(a,"root",b);else{var c=this.path.pop();if("body"===c){var d=this.getBody(a.bodies,this.path.pop());this.addErrorToProp(d.definition,b)}else if("queryParameters"===c){var e=this.getParameter(a.parameters,this.path.pop());this.addErrorToProp(e.definition,b)}else if("headers"===c){var f=this.getParameter(a.headers,this.path.pop());this.addErrorToProp(f.definition,b)}else if("responses"===c){var g=this.getResponse(a.responses,this.path.pop());this.addErrorToResourceProp(g,b)}else this.addError(a,"root",b)}}},{key:"addExampleError",value:function(a,b){for(var c="",d=b.message;!this.path.isEmpty();)c=c+(""!==c?".":"")+this.path.pop();a.error||(a.error={}),a.error.example=c+": "+d}},{key:"createPathFromLineNumber",value:function(a,b){var c=a.split(j.EOL),d=c[b],e=i.getIndent(d);if(d.substr(e).startsWith("-"))this.createListPath(c,b,e);else{this.path.push(g.trimStart(d.substr(0,d.indexOf(":"))));for(var f="",h=b;h>0;h--){var k=c[h],l=i.getIndent(k);if(l<e){e=l;var m=g.trimStart(k.substr(0,k.indexOf(":")));m.startsWith("/")&&l>0?f=m+f:""!==f?(f=m+f,this.path.push(f)):this.path.push(m)}}}}},{key:"createListPath",value:function(a,b,c){for(var d=b,e=c,f="",h=0;e>=c&&d>=0;)d-=1,f=a[d],e=i.getIndent(f),f.substr(e).startsWith("-")&&(h+=1);this.path.push(h+""),this.path.push(g.trimStart(f.substr(0,f.indexOf(":"))))}},{key:"getBody",value:function(a,b){return a.find(function(a){return a.mimeType===b})}},{key:"getProperty",value:function(a,b){return a.find(function(a){return a.name===b})}},{key:"getType",value:function(a,b){return a.find(function(a){return a.name===b})}},{key:"getParameter",value:function(a,b){return a.find(function(a){return a.name===b})}},{key:"getResponse",value:function(a,b){return a.find(function(a){return a.httpStatusCode===b||a.httpStatusCode===b.split("'")[1]})}},{key:"getMethod",value:function(a,b){
return a.find(function(a){return a.method===b})}},{key:"getResource",value:function(a,b){return a.find(function(a){return a.path===b})}}]),a}();b.exports=l},{"../utils/stack":120,"../utils/strings":121,fs:4,lodash:74,os:158}],85:[function(a,b,c){"use strict";var d=a("./converter"),e=a("./formats");b.exports={Converter:d.Converter,Formats:e}},{"./converter":77,"./formats":80}],86:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(a){return void 0===a?"undefined":g(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":g(a)},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("lodash"),k=a("oas-raml-converter-model"),l=k.Definition,m=k.Annotation,n=a("../converters/converter"),o=a("../helpers/oas20"),p=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),i(b,[{key:"_export",value:function(a){var b={};for(var c in a.annotations)if(a.annotations.hasOwnProperty(c)){var d=a.annotations[c],e=d.name,f=["oas-deprecated","oas-paths","oas-collectionFormat","oas-schema-title","oas-global-response-definition","oas-responses","oas-definition-name"];j.includes(f,e)||this.exportAnnotation(b,d)}return b}},{key:"exportAnnotation",value:function(a,b){var c=["oas-summary","oas-externalDocs","oas-readOnly","oas-responses-default","oas-format","oas-body-name"],d=o.getAnnotationPrefix,e=void 0;if(e=j.includes(c,b.name)?"oas-body-name"===b.name?b.name.replace("oas-body-",""):"oas-responses-default"===b.name?d+b.name.replace("oas-",""):b.name.replace("oas-",""):d+b.name,a[e]=b.definition,b.hasOwnProperty("annotations")&&!j.isEmpty(b.annotations)&&null!=b.annotations)for(var f=b.annotations,g=0;g<f.length;g++)this.exportAnnotation(a[e],f[g])}},{key:"_import",value:function(a){var b=[],c=o.getAnnotationPrefix;for(var d in a)a.hasOwnProperty(d)&&(d.startsWith(c)||d.startsWith("x-"))&&"x-basePath"!==d&&(b.push(this.importAnnotation(d,a[d])),delete a[d]);return b}},{key:"importAnnotation",value:function(a,b){var c=a.startsWith(o.getAnnotationPrefix)?o.getAnnotationPrefix:"x-",d=new m;if(d.name=a.substring(c.length,a.length),"object"===(void 0===b?"undefined":h(b))){var e=[];for(var f in b)if(b.hasOwnProperty(f)&&(f.startsWith(c)||f.startsWith("x-"))){var g=b[f];e.push(this.importAnnotation(f,g)),delete b[f]}j.isEmpty(e)||(d.annotations=e)}if("object"!==(void 0===b?"undefined":h(b))||j.isArray(b)||null==b)d.definition=b;else{var i=new l;j.assign(i,b),d.definition=i}return d}}]),b}(n);b.exports=p},{"../converters/converter":78,"../helpers/oas20":82,lodash:74,"oas-raml-converter-model":75}],87:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("lodash"),j=a("oas-raml-converter-model"),k=j.Parameter,l=(j.Method,j.Root,j.Response),m=(j.Body,j.ResourceType,j.Trait,j.Item,j.Header),n=(j.Resource,a("../converters/converter")),o=a("swagger-parser"),p=a("../oas20/oas20RootConverter"),q=a("../oas20/oas20SecurityDefinitionConverter"),r=a("../oas20/oas20ResourceConverter"),s=a("../oas20/oas20DefinitionConverter"),t=a("../oas20/oas20TraitConverter"),u=a("js-yaml"),v=a("../utils/json"),w=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),h(b,[{key:"_loadFile",value:function(a,b){var c=this;return new Promise(function(d,e){var f=i.cloneDeep(b||{}),g=b&&(!0===b.validate||!0===b.validateImport);f.validate={schema:g,spec:g};var h=i.cloneDeep(a);o.validate(h,f).then(function(){c._doParseData(a,b||{},d,e)}).catch(e)})}},{key:"_loadData",value:function(a,b){var c=this;return new Promise(function(d,e){var f=u.safeLoad(a);o.parse(f,b).then(function(a){c._doParseData(a,b||{},d,e)}).catch(e)})}},{key:"_doParseData",value:function(a,b,c,d){var e=this;o.parse(a,b).then(function(f){JSON.parse(JSON.stringify(f)),e.data=f;var g=void 0;g="string"==typeof a?o.dereference(a,JSON.parse(JSON.stringify(f)),b):o.dereference(JSON.parse(JSON.stringify(f)),b),g.then(function(a){b&&b.expand?e.data=a:e.data.dereferencedAPI=a,c()}).catch(d)}).catch(d)}},{key:"export",value:function(a,c){return new Promise(function(d,e){try{b.fixInheritedProperties(a);var f=new p,g={swagger:"2.0"};if(i.assign(g,f.export(a)),a.hasOwnProperty("securityDefinitions")&&a.securityDefinitions){var h=new q,j=h.export(a.securityDefinitions);i.isEmpty(j)||(g.securityDefinitions=j)}var k=new s;a.hasOwnProperty("types")&&(g.definitions=k.export(a.types));var l=new t;if(a.hasOwnProperty("traits")&&a.traits){var m=l.export(a.traits);i.isEmpty(m.parameters)||(g.parameters=m.parameters),i.isEmpty(m.responses)||(g.responses=m.responses)}var n=new r(a,null,g);a.hasOwnProperty("resources")&&a.resources?g.paths=n.export(a.resources):g.paths={},d(b._getData(g,c))}catch(o){e(o)}})}},{key:"import",value:function(a){var b=new p,c=b.import(a),d=new q(c,a.dereferencedAPI.securityDefinitions);a.hasOwnProperty("securityDefinitions")&&!i.isEmpty(a.securityDefinitions)&&(c.securityDefinitions=d.import(a.securityDefinitions));var e=new s(c,"",a);a.hasOwnProperty("definitions")&&(c.types=e.import(a.definitions));var f=new t(c,a.dereferencedAPI.parameters);(a.hasOwnProperty("parameters")||a.hasOwnProperty("responses"))&&(c.traits=f.import({parameters:a.parameters,responses:a.responses}));var g=new r(c,a.dereferencedAPI.paths,a),h={};return Object.keys(a.paths).sort().forEach(function(b){return h[b]=a.paths[b]}),a.hasOwnProperty("paths")&&(c.resources=g.import(h)),c}}],[{key:"fixInheritedProperties",value:function(a){var c=[],d=a.resourceTypes,e=a.traits;if(a.hasOwnProperty("resources")&&a.resources){for(var f=a.resources,g=0;g<f.length;g++){var h=f[g];if(h.hasOwnProperty("resourceType")){var i=h.resourceType;if(null!=i&&d)for(var j=function(a){var e=i[a],f=e.name,g=d.filter(function(a){return f===a.name})[0];if(!g)return"continue";var j=g.resource;if(j&&j.hasOwnProperty("parameters")&&j.parameters)for(var k=j.parameters,l=0;l<k.length;l++){var m=k[l],n={type:"uriParameter",name:m.name,resource:h.path,params:null};c.push(n)}if(j&&j.hasOwnProperty("methods")&&j.methods)for(var o=j.methods,p=0;p<o.length;p++){var q=o[p];b.mapMethodProperties(c,q,null,h.path,q.method,e.value)}},n=0;n<i.length;n++){j(n)}}if(h.hasOwnProperty("is")&&h.is&&e)for(var o=h.is,p=function(a){var d=o[a],f=d.name,g=e.filter(function(a){return f===a.name})[0];g&&g.method&&b.mapMethodProperties(c,g.method,g.name,h.path,"all",d.value)},n=0;n<o.length;n++)p(n);if(h.hasOwnProperty("methods")&&h.methods)for(var q=h.methods,n=0;n<q.length;n++){var r=q[n];if(r.hasOwnProperty("is")&&r.is&&e)for(var s=r.is,t=function(a){var d=s[a],f=d.name,g=e.filter(function(a){return f===a.name})[0];g&&g.method&&b.mapMethodProperties(c,g.method,g.name,h.path,r.method,d.value)},u=0;u<s.length;u++)t(u)}}for(var v=function(a){var b=c[a],d=f.filter(function(a){return a.path===b.resource})[0];if(!d.hasOwnProperty("methods"))return"continue";if(d.methods)for(var e=d.methods.filter(function(a){return"all"===b.method||a.method===b.method}),g=0;g<e.length;g++){var h=e[g];if("header"===b.type&&h&&null!=h.headers&&b.trait){var i=h.headers,j=i.map(function(a){return a.name});if(j.includes(b.name)){i.splice(j.indexOf(b.name),1);var n=new m,o=b.trait?b.trait:"";n.reference="#/parameters/trait:"+o+":"+b.name,i.push(n)}}else if("queryParameter"===b.type&&h&&h.parameters&&b.trait){var p=h.parameters,q=p.map(function(a){return a.name});if(q.includes(b.name)){p.splice(q.indexOf(b.name),1);var r=new k,s=b.trait?b.trait:"";r.reference="#/parameters/trait:"+s+":"+b.name,p.push(r)}}else if("response"===b.type&&h&&h.responses&&b.trait){var t=h.responses,u=t.map(function(a){return a.httpStatusCode});if(u.includes(b.name)){t.splice(u.indexOf(b.name),1);var v=new l;v.httpStatusCode=b.name,v.reference="#/responses/trait:"+b.trait+":"+b.name,t.push(v);var w=h.produces?h.produces:[];for(var x in b.mimeTypes)w.includes(b.mimeTypes[x])||w.push(b.mimeTypes[x]),h.produces=w}}}},w=0;w<c.length;w++){v(w)}}}},{key:"mapMethodProperties",value:function(a,b,c,d,e,f){if(b.hasOwnProperty("bodies")&&null!=b.bodies)for(var g=b.bodies,h=0;h<g.length;h++){var i=g[h];if(!i.hasParams){var j={type:"body",trait:c,name:i.mimeType,resource:d,method:e,params:f};a.push(j)}}if(b.hasOwnProperty("headers")&&null!=b.headers)for(var k=b.headers,l=0;l<k.length;l++){var m=k[l];if(!m.hasParams){var n={type:"header",trait:c,name:m.name,resource:d,method:e,params:f};a.push(n)}}if(b.hasOwnProperty("parameters")&&null!=b.parameters)for(var o=b.parameters,p=0;p<o.length;p++){var q=o[p];if(!q.hasParams){var r={type:"queryParameter",trait:c,name:q.name,resource:d,method:e,params:f};a.push(r)}}if(b.hasOwnProperty("responses")&&null!=b.responses)for(var s=b.responses,t=0;t<s.length;t++){var u=s[t],v=u.bodies?u.bodies.map(function(a){return a.mimeType}):[];if(!u.hasParams){var w={type:"response",name:u.httpStatusCode,resource:d,method:e,mimeTypes:v,params:f};c&&(w.trait=c),a.push(w)}}}},{key:"_getData",value:function(a,b){return"yaml"===b?u.dump(v.parse(a)):"json"===b?v.stringify(a,2):void 0}}]),b}(n);b.exports=w},{"../converters/converter":78,"../oas20/oas20DefinitionConverter":88,"../oas20/oas20ResourceConverter":91,"../oas20/oas20RootConverter":92,"../oas20/oas20SecurityDefinitionConverter":93,"../oas20/oas20TraitConverter":94,"../utils/json":119,"js-yaml":124,lodash:74,"oas-raml-converter-model":75,"swagger-parser":196}],88:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(a){return void 0===a?"undefined":g(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":g(a)},j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=a("oas-raml-converter-model"),l=k.Definition,m=(k.Annotation,a("../converters/converter")),n=a("../utils/file"),o=a("lodash"),p=a("../utils/json"),q=a("../oas20/oas20AnnotationConverter"),r=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),j(b,[{key:"export",value:function(a){for(var b={},c=0;c<a.length;c++){var d=a[c],e=d.name;if(this.level="type",!o.isEmpty(d)&&d.hasOwnProperty("annotations")&&null!=d.annotations){var f=d.annotations,g=f.filter(function(a){return"oas-definition-name"===a.name});if(o.isEmpty(g))b[e]=this._export(d);else{b[g[0].definition]=this._export(d)}}else b[e]=this._export(d)}return b}},{key:"_export",value:function(a){var c=this,d={_enum:"enum",_default:"default",displayName:"title"},e=["name","fileReference","reference","properties","compositionType","oneOf","schema","items","itemsList","additionalProperties","jsonValue","schemaPath","examples","$schema","id","fileTypes","annotations","includePath","expanded"],f=b.createOasDef(a,d,e);if(f.hasOwnProperty("internalType")&&b._convertFromInternalType(f,this.level),a.hasOwnProperty("example")&&null!=a.example){var g=p.parse(p.stringify(a.example));"object"!==(void 0===g?"undefined":i(g))||o.isArray(g)||null==g?f.example=g:f.example=b.exportExample(g),"number"==typeof f.example&&"string"==typeof a.example&&(f.example=p.stringify(a.example)),o.isArray(f.example)?f.example.map(function(a){b.escapeExampleAttributes(a)}):b.escapeExampleAttributes(f.example)}if(a.hasOwnProperty("examples")){var h=a.examples;o.isArray(h)&&!o.isEmpty(h)&&null!=h&&(f.example=p.parse(p.stringify(h[0])))}if(a.hasOwnProperty("additionalProperties")&&null!=a.additionalProperties)if("object"===i(a.additionalProperties)){var j=a.additionalProperties;j.hasOwnProperty("required")&&!j.required&&delete j.required,f.additionalProperties=this._export(j)}else f.additionalProperties=a.additionalProperties;if(a.hasOwnProperty("items")&&null!=a.items){var k=a.items;f.items=this._export(k)}if(a.hasOwnProperty("itemsList")&&null!=a.itemsList){for(var l=a.itemsList,m=[],n=0;n<l.length;n++){var r=l[n];m.push(this._export(r))}f.items=m}if(a.hasOwnProperty("fileReference")&&(f.$ref=a.fileReference),a.hasOwnProperty("reference")&&null!=a.reference){var s=a.reference;!this.def||this.def&&this.def.definitions&&o.keys(this.def.definitions).includes(s)?f.$ref=s.startsWith("http://")?s:"#/definitions/"+s:f.type="string"}if(a.hasOwnProperty("properties")&&null!=a.properties){for(var t=a.properties,u={},v=0;v<t.length;v++){var w=t[v];this.level="property",u[w.name]=this._export(w)}o.isEmpty(u)||(f.properties=u),o.isEmpty(a.propsRequired)||(f.required=a.propsRequired),delete f.propsRequired}if(a.hasOwnProperty("compositionType")){var x=[];o.values(a.compositionType).map(function(a){var d=c._export(a);b._convertToInternalType(d),(d.hasOwnProperty("internalType")||d.hasOwnProperty("$ref"))&&x.push(c._export(a))}),1===x.length?f.type=x[0].type:f.allOf=x}if(a.hasOwnProperty("oneOf")){var y=[];o.values(a.oneOf).map(function(a){y.push(c._export(a))}),f.oneOf=y}if(a.hasOwnProperty("schema")&&null!=a.schema){var z=a.schema;f.schema=this._export(z)}if(a.hasOwnProperty("annotations")&&o.isArray(a.annotations)&&!o.isEmpty(a.annotations)){var A=new q;o.assign(f,A._export(a))}return b.checkDefaultType(f),f}},{key:"import",value:function(a){var b=[];if(o.isEmpty(a))return b;for(var c in a)if(a.hasOwnProperty(c)){var d=a[c],e=this._import(d);e.name=c,b.push(e)}return b}},{key:"_import",value:function(a){var c=this,d={default:"_default"},e=["enum","$ref","properties","allOf","oneOf","schema","items","additionalProperties","example","required"],f=b.createDefinition(a,d,e);if(f.hasOwnProperty("type")&&b._convertToInternalType(f),a.hasOwnProperty("enum")&&"boolean"!==a.type&&(f._enum=a.enum),a.hasOwnProperty("$ref")){var g=a.$ref,j=g.replace("#/definitions/","");!(this.def&&o.keys(this.def.definitions).includes(j))&&n.isFilePath(g)?f.fileReference=g:f.reference=j}if(a.hasOwnProperty("items")){var k=a.items;if(o.isArray(k)){for(var l=[],m=0;m<k.length;m++){var p=this._import(k[m]);l.push(p)}f.itemsList=l}else f.items=this._import(a.items)}if(a.hasOwnProperty("additionalProperties")&&(f.additionalProperties="object"===i(a.additionalProperties)?this._import(a.additionalProperties):a.additionalProperties),a.hasOwnProperty("required")&&o.isBoolean(a.required)&&(f.required=a.required),a.hasOwnProperty("properties")){var r=[],s=[];o.entries(a.properties).map(function(a){var b=h(a,2),d=b[0],e=b[1];if(e){var f=c._import(e);f.name=d,e.hasOwnProperty("required")&&!e.required||s.push(f.name),r.push(f)}}),f.properties=r,a.hasOwnProperty("required")&&o.isArray(a.required)?f.propsRequired=a.required:f.propsRequired=s}if(a.hasOwnProperty("allOf")){var t=[];o.values(a.allOf).map(function(a){t.push(c._import(a))}),f.compositionType=t}if(a.hasOwnProperty("oneOf")){var u=[];o.values(a.oneOf).map(function(a){u.push(c._import(a))}),f.oneOf=u}a.hasOwnProperty("schema")&&(f.schema=this._import(a.schema)),a.hasOwnProperty("example")&&a.example&&("object"!==i(a.example)||o.isArray(a.example)?f.example=a.example:f.example=b.importExample(a.example));var v=new q(this.model),w=v._import(a);return o.isEmpty(w)||(f.annotations=w),f}}],[{key:"createOasDef",value:function(a,b,c){var d={};return o.entries(a).map(function(a){var e=h(a,2),f=e[0],g=e[1];c.indexOf(f)<0&&!f.startsWith("x-")&&(d[b.hasOwnProperty(f)?b[f]:f]=g)}),d}},{key:"createDefinition",value:function(a,b,c){var d={};o.entries(a).map(function(a){var e=h(a,2),f=e[0],g=e[1];c.indexOf(f)<0&&!f.startsWith("x-")&&(d[b.hasOwnProperty(f)?b[f]:f]=g)});var e=new l;return o.assign(e,d),e}},{key:"_convertToInternalType",value:function(a){var b=a.hasOwnProperty("format"),c=a.type,d=b?a.format:null;"integer"!==c||b||(a.internalType="integer"),"number"!==c||b||(a.internalType="number"),"integer"===c&&"int"===d&&(a.internalType="int"),"integer"===c&&"int8"===d&&(a.internalType="int8"),"integer"===c&&"int16"===d&&(a.internalType="int16"),"integer"===c&&"int32"===d&&(a.internalType="int32"),"integer"===c&&"int64"===d&&(a.internalType="int64"),"number"===c&&"float"===d&&(a.internalType="float"),"number"===c&&"double"===d&&(a.internalType="double"),"boolean"===c&&(a.internalType="boolean"),"string"!==c||b||(a.internalType="string"),"string"===c&&"byte"===d&&(a.internalType="byte"),"string"===c&&"binary"===d&&(a.internalType="binary"),"string"===c&&"password"===d&&(a.internalType="password"),"string"===c&&"date"===d&&(a.internalType="dateonly"),"string"===c&&"date-time"===d&&(a.internalType="datetime"),"object"===c&&(a.internalType="object"),"array"===c&&(a.internalType="array"),a.hasOwnProperty("internalType")&&(delete a.type,delete a.format)}},{key:"_convertFromInternalType",value:function(a,b){if(a.hasOwnProperty("internalType")){var c=a.internalType;"integer"===c?a.type="integer":"number"===c?a.type="number":"int"===c?(a.type="integer",a.format="int"):"int8"===c?(a.type="integer",a.format="int8"):"int16"===c?(a.type="integer",a.format="int16"):"int32"===c?(a.type="integer",a.format="int32"):"int64"===c?(a.type="integer",a.format="int64"):"float"===c?(a.type="number",a.format="float"):"double"===c?(a.type="number",a.format="double"):"boolean"===c?a.type="boolean":"string"===c?a.type="string":"byte"===c?(a.type="string",a.format="byte"):"binary"===c?(a.type="string",a.format="binary"):"password"===c?(a.type="string",a.format="password"):"file"===c?a.type="string":"dateonly"===c?(a.type="string",a.format="date"):"datetime"===c?(a.type="string",a.format="date-time"):"timeonly"===c?a.type="string":"datetimeonly"===c?a.type="string":"null"===c?"type"===b?a.type="object":"property"===b&&(a.type="string"):"timestamp"===c?a.type="string":"object"===c?a.type="object":"array"===c&&(a.type="array"),delete a.internalType}}},{key:"checkDefaultType",value:function(a){a.hasOwnProperty("type")||(a.hasOwnProperty("properties")?a.type="object":a.hasOwnProperty("items")?a.type="array":a.hasOwnProperty("$ref")||a.hasOwnProperty("allOf")||a.hasOwnProperty("oneOf")||(a.type="string"))}},{key:"escapeExampleAttributes",value:function(a){if(null!=a){var b=["string","object"];a.hasOwnProperty("type")&&!b.includes(i(a.type))&&(a["x-type"]=a.type,delete a.type),a.hasOwnProperty("$ref")&&!b.includes(i(a.type))&&(a["x-$ref"]=a.$ref,delete a.$ref)}}},{key:"importExample",value:function(a){var c=a;for(var d in c)if(c.hasOwnProperty(d)){"object"!==i(c[d])||o.isEmpty(c[d])||(c[d]=b.importExample(c[d]));var e=new q,f=e._import(c[d]);o.isEmpty(f)||(c[d].annotations=f)}return c}},{key:"exportExample",value:function(a){var c=a;if(b.escapeExampleAttributes(c),c.hasOwnProperty("annotations")&&(o.isArray(c.annotations)||"object"===i(c.annotations))){var d=new q;o.assign(c,d._export(c)),delete c.annotations}for(var e in c)c.hasOwnProperty(e)&&("object"!==i(c[e])||o.isEmpty(c[e])||(c[e]=b.exportExample(c[e])));return c}}]),b}(m);b.exports=r},{"../converters/converter":78,"../oas20/oas20AnnotationConverter":86,"../utils/file":118,"../utils/json":119,lodash:74,"oas-raml-converter-model":75}],89:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("oas-raml-converter-model"),k=a("../converters/converter"),l=a("../oas20/oas20AnnotationConverter"),m=j.Info,n=j.InfoData,o=(j.Annotation,a("lodash")),p=a("../helpers/oas20"),q=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),i(b,[{key:"export",value:function(a){return o.isEmpty(a)?{}:this._export(a)}},{key:"import",value:function(a){return o.isEmpty(a)?{}:this._import(a)}},{key:"_export",value:function(a){var c={},d=["version","contactName","contactUrl","contactEmail","licenseName","licenseUrl","annotations"],e=p.getAnnotationPrefix,f=new l,g=b.createOasDef(a,c,d,e);if(g.version=a.hasOwnProperty("version")&&a.version?a.version.toString():"",a.hasOwnProperty("contact")&&null!=a.contact){var h={},i=a.contact;i.hasOwnProperty("name")&&(h.name=i.name),i.hasOwnProperty("url")&&(h.url=i.url),i.hasOwnProperty("email")&&(h.email=i.email),o.isEmpty(h)||(g.contact=h)}if(a.hasOwnProperty("license")&&null!=a.license){var j={},k=a.license;k.hasOwnProperty("name")&&(j.name=k.name),k.hasOwnProperty("url")&&(j.url=k.url),o.isEmpty(j)||(g.license=j)}return a.hasOwnProperty("annotations")&&o.assign(g,f._export(a)),g}},{key:"_import",value:function(a){var c={},d=["contact","license"],e=b.createInfo(a,c,d),f=new l(this.model);if(a.hasOwnProperty("contact")){var g=new n;o.assign(g,a.contact);var h=f._import(a.contact);o.isEmpty(h)||(g.annotations=h),o.isEmpty(g)||(e.contact=g)}if(a.hasOwnProperty("license")){var i=new n;o.assign(i,a.license);var j=f._import(a.license);o.isEmpty(j)||(i.annotations=j),o.isEmpty(i)||(e.license=i)}var k=f._import(a);return o.isEmpty(k)||(e.annotations=k),e}}],[{key:"createOasDef",value:function(a,b,c,d){var e={};o.assign(e,a),c.map(function(a){delete e[a]}),o.keys(b).map(function(a){e[b[a]]=e[a],delete e[a]});for(var f in e)a.hasOwnProperty(f)&&(f.startsWith(d)||f.startsWith("x-"))&&delete e[f];return e}},{key:"createInfo",value:function(a,b,c){var d={};o.entries(a).map(function(a){var e=h(a,2),f=e[0],g=e[1];c.indexOf(f)<0&&!f.startsWith("x-")&&(d[b.hasOwnProperty(f)?b[f]:f]=g)});var e=new m;return o.assign(e,d),e}}]),b}(k);b.exports=q},{"../converters/converter":78,"../helpers/oas20":82,"../oas20/oas20AnnotationConverter":86,lodash:74,"oas-raml-converter-model":75}],90:[function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":h(b))&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":h(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=a("lodash"),l=a("oas-raml-converter-model"),m=(l.Root,l.Method),n=l.Response,o=l.Parameter,p=l.Definition,q=l.Body,r=l.Header,s=l.Item,t=(l.MediaType,l.Annotation,a("../converters/converter")),u=a("../oas20/oas20RootConverter"),v=a("../oas20/oas20DefinitionConverter"),w=a("../oas20/oas20AnnotationConverter"),x=a("../common/parameterConverter"),y=l.SecurityRequirement,z=l.ExternalDocumentation,A=a("../helpers/converter"),B=a("../utils/strings"),C=a("../helpers/oas20"),D=function(a){function b(a,c,d,g){e(this,b);var h=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,"",g));return h.dereferencedAPI=c,h.resourcePath=d,h}return g(b,a),j(b,[{key:"export",value:function(a){var b={};if(k.isEmpty(a))return b;for(var c=0;c<a.length;c++){var d=a[c];b[d.method]=this._export(d)}return b}},{key:"_export",value:function(a){var c={protocols:"schemes",name:"operationId"},e=["method","responses","headers","bodies","formBodies","parameters","queryStrings","is","path","produces","consumes","securedBy","annotations","includePath"],f=b.createOasDef(a,c,e),g=new v(this.model,this.annotationPrefix,this.def);if(f.hasOwnProperty("operationId")||(f.operationId=B.computeOperationId(a.method,a.path)),a.hasOwnProperty("responses")&&null!=a.responses){var h=a.responses;if(k.isArray(h)&&!k.isEmpty(h)){var i={},j=[];a.hasOwnProperty("produces")&&null!=a.produces&&(j=a.produces);for(var l=0;l<h.length;l++){var m=h[l];if(m.hasOwnProperty("httpStatusCode")){var n={};if(m.hasOwnProperty("reference")){if(n.$ref=m.reference,m.hasOwnProperty("bodies")&&m.bodies&&!k.isEmpty(m.bodies)){var o=m.bodies,p=o[0].mimeType;null==p||j.includes(p)||j.push(p)}}else{if(n.description=m.hasOwnProperty("description")&&null!=m.description?m.description:"",m.hasOwnProperty("headers")&&m.headers){var q=m.headers;if(k.isArray(q)&&!k.isEmpty(q)){for(var r=new x(this.model,this.annotationPrefix,this.def,""),s=r.export(q),t=0;t<q.length;t++){var w=q[t],y=s[w.name];if(y.hasOwnProperty("type")){var z=w.definition;null!=z&&(v._convertFromInternalType(z),z.hasOwnProperty("type")&&(y.type=z.type),z.hasOwnProperty("format")&&(y.format=z.format)),"array"!==y.type||y.hasOwnProperty("items")||(y.items={type:"string"})}y.hasOwnProperty("example")&&delete y.example,y.hasOwnProperty("required")&&delete y.required,y.hasOwnProperty("repeat")&&delete y.repeat}k.isEmpty(s)||(n.headers=s)}}if(m.hasOwnProperty("bodies")&&m.bodies){var C=m.bodies;if(k.isArray(C)&&!k.isEmpty(C))for(var D={},E=0;E<C.length;E++){var F=C[E];F.mimeType&&!j.includes(F.mimeType)&&j.push(F.mimeType),n.description=F.hasOwnProperty("description")&&k.isEmpty(n.description)?F.description:n.description;var G=F.definition;null!=G&&(b.exportExamples(G,n,F.mimeType,"examples"),D=g._export(G),G.hasOwnProperty("internalType")&&"file"===G.internalType&&(D.type="file"),G.hasOwnProperty("internalType")||G.hasOwnProperty("type")||!D.hasOwnProperty("type")||delete D.type,D.hasOwnProperty("required")&&!0===D.required&&delete D.required,D.hasOwnProperty("$ref")&&(b.exportExamples(D,n,F.mimeType,"example"),D={$ref:D.$ref}),u.exportAnnotations(F,D),k.isEmpty(D)||n.schema?n.schema&&n.schema.hasOwnProperty("$ref")&&(n.schema={type:"object"}):n.schema=D)}}}u.exportAnnotations(m,n),m.hasOwnProperty("hasParams")&&(n.hasParams=m.hasParams);var H=m.httpStatusCode;H&&(i[H]=n)}}k.isEmpty(j)||(f.produces=j),f.responses=i}}else f.responses={default:{description:""}};var I=b.exportHeaders(a,g),J=[];if(a.hasOwnProperty("consumes")&&(J=a.consumes),a.hasOwnProperty("bodies")&&null!=a.bodies){var K=a.bodies;if(k.isArray(K)&&!k.isEmpty(K)){var L=K[0],M=L.definition,N={};if(N.schema=Object.assign({},g._export(M)),N.in="body",N.name="body",L.hasOwnProperty("description")&&(N.description=L.description),K.length>1&&(N.schema={type:"object"}),N.schema.type||N.schema.$ref||(N.schema.hasOwnProperty("properties")?N.schema.type="object":N.schema.type="string"),b.exportRequired(L,N),null!=M&&M.hasOwnProperty("example")&&!N.schema.hasOwnProperty("example")&&(N.schema.example=M.example),u.exportAnnotations(L,N),L.hasOwnProperty("hasParams")&&(N.hasParams=L.hasParams),I.push(N),null!=J)for(var O=0;O<K.length;O++){var P=K[O]
;P.mimeType&&!J.includes(P.mimeType)&&J.push(P.mimeType)}}}if(a.hasOwnProperty("formBodies")&&null!=a.formBodies){var Q=a.formBodies;if(k.isArray(Q)&&!k.isEmpty(Q)){for(var R=0;R<Q.length;R++){var S=Q[R];S.mimeType&&null!=J&&!J.includes(S.mimeType)&&J.push(S.mimeType);var T=S.definition;if(null!=T){"file"!==T.internalType||null==J||J.includes("multipart/form-data")||J.push("multipart/form-data");var U=[],V=T.propsRequired?T.propsRequired:[],W=void 0;if(T.hasOwnProperty("properties")&&null!=T.properties)U=T.properties,W=!0;else{W=!1;var X=T;S.hasOwnProperty("required")&&(X.required=S.required),U=[X]}for(var Y=0;Y<U.length;Y++){var Z=U[Y],$={};$.in="formData",$.name=Z.name,Z.internalType&&("file"===Z.internalType?(Z.type="file",delete Z.internalType):"datetime"===Z.internalType?(Z.type="datetime",delete Z.internalType):v._convertFromInternalType(Z)),$.type=Z.type,$.type||($.type="string"),Z.hasOwnProperty("description")&&($.description=Z.description),W&&(Z.required=V.includes(Z.name)),"array"!==$.type||$.hasOwnProperty("items")||($.items={type:"string"}),b.exportRequired(Z,$),u.exportAnnotations(Z,$),I.push($)}}}null!=J&&k.isEmpty(k.intersection(J,A.getValidFormDataMimeTypes))&&J.push("multipart/form-data")}}k.isEmpty(J)||(f.consumes=J);var _=b.exportParameters(a,"parameters",g);k.isEmpty(_)||(I=I.concat(_));var aa=b.exportParameters(a,"queryStrings",g);if(k.isEmpty(aa)||(I=I.concat(aa)),k.isEmpty(I)||(f.parameters=I),a.hasOwnProperty("securedBy")&&null!=a.securedBy&&this.def&&this.def.securityDefinitions){for(var ba=a.securedBy,ca=[],da=0;da<ba.length;da++){var ea=ba[da];null!==ea.name&&Object.keys(this.def.securityDefinitions).includes(ea.name)&&ca.push(d({},ea.name,ea.scopes))}k.isEmpty(ca)||(f.security=ca)}if(u.exportAnnotations(a,f),this.model&&this.model.hasOwnProperty("mediaType")){var fa=this.model.mediaType;if(fa.hasOwnProperty("consumes")&&f.hasOwnProperty("consumes")){var ga=fa.consumes;null!=ga&&null!=f.consumes&&(f.consumes=f.consumes.filter(function(a){return!ga.includes(a)})),k.isEmpty(f.consumes)&&delete f.consumes}if(fa.hasOwnProperty("produces")&&f.hasOwnProperty("produces")){var ha=fa.produces;null!=ha&&(f.produces=f.produces.filter(function(a){return!ha.includes(a)})),k.isEmpty(f.produces)&&delete f.produces}}return f}},{key:"import",value:function(a){var b=["get","put","post","delete","options","head","patch"],c=[];if(k.isEmpty(a))return c;var d=[];if(a.hasOwnProperty("parameters"))for(var e in a.parameters)if(a.parameters.hasOwnProperty(e)){var f=C.isFilePath(a.parameters[e])&&this.dereferencedAPI?this.dereferencedAPI.parameters[e]:a.parameters[e];"header"===f.in&&d.push(f)}for(var g in a)if(a.hasOwnProperty(g)&&b.includes(g)){var h=a[g].hasOwnProperty("$ref")?this.dereferencedAPI[g]:a[g];this.currentMethod=g;var i=h.parameters?h.parameters.concat(d):d;k.isEmpty(i)||(h.parameters=i),this.method=g;var j=this._import(h);j.method=g,c.push(j)}return c}},{key:"_import",value:function(a){var c=this,d={operationId:"name",schemes:"protocols"},e=["responses","description","parameters","security","externalDocs"],f=b.createMethod(a,d,e,C.getAnnotationPrefix),g=new v(this.model,this.annotationPrefix,this.def);if(a.hasOwnProperty("security")){var h=[];a.security.map(function(a){var b=new y;b.name=Object.keys(a)[0],b.scopes=a[b.name],h.push(b)}),k.isEmpty(h)||(f.securedBy=h)}if(a.hasOwnProperty("description")&&!k.isEmpty(a.description)&&(f.description=a.description),a.hasOwnProperty("responses")&&!k.isEmpty(a.responses)){var i=[];for(var j in a.responses)if(a.responses.hasOwnProperty(j)){var l=a.responses[j],m=new n;if(m.httpStatusCode=j,l.hasOwnProperty("$ref")&&this.model.responses)!function(){var a=B.computeResourceDisplayName(l.$ref),b=c.model.responses.filter(function(b){return b.name===a});if(!k.isEmpty(b)){var d=b[0];d.hasOwnProperty("description")&&(m.description=d.description),d.hasOwnProperty("headers")&&(m.headers=d.headers),d.hasOwnProperty("bodies")&&(m.bodies=d.bodies)}m.globalResponseDefinition=a}();else{if(l.hasOwnProperty("description")&&(m.description=l.description),l.hasOwnProperty("headers")){var t=[],x=new v(this.model,this.annotationPrefix,this.def);for(var A in l.headers){var D=new r;D.name=A;var E=x._import(l.headers[A]);D.definition=E,t.push(D)}m.headers=t}var F=new q;if(l.hasOwnProperty("schema")){var G=new w(this.model),H=G._import(l.schema),I=g._import(l.schema);k.isEmpty(H)||(I.annotations=H),l.schema.hasOwnProperty("example")&&b.importExamples(l.schema,I,"example"),F.definition=I}if(l.hasOwnProperty("examples")&&!k.isEmpty(l.examples)){var J=l.examples;for(var K in J)if(J.hasOwnProperty(K)&&null!=J[K]){F.mimeType||(F.mimeType=K);var L=J[K],M=new q,N=new p;N.examples=L,b.importExamples({examples:L},N,"examples"),M.definition=N,F.definition||(F.definition=new p),k.assign(F.definition,M.definition)}}var O=k.isEmpty(F)?[]:[F];m.bodies=O}u.importAnnotations(l,m,this.model),i.push(m)}f.responses=i}if(a.hasOwnProperty("externalDocs")){var P=a.externalDocs,Q=new z;P.hasOwnProperty("url")&&(Q.url=P.url),P.hasOwnProperty("description")&&(Q.description=P.description),k.isEmpty(Q)||(f.externalDocs=Q)}if(a.hasOwnProperty("parameters")&&k.isArray(a.parameters)&&!k.isEmpty(a.parameters)){var R=[],S=[],T=[],U=[],V=[];for(var W in a.parameters)if(a.parameters.hasOwnProperty(W)){var X=C.isFilePath(a.parameters[W]),Y=this.dereferencedAPI?this.currentMethod?this.dereferencedAPI[this.currentMethod].parameters?this.dereferencedAPI[this.currentMethod].parameters[W]:null:this.dereferencedAPI:null,Z=this.resourcePath&&Y&&"path"===Y.in,$=(X||Z)&&Y?Y:a.parameters[W];if($.hasOwnProperty("$ref")&&!Z){var _=/(trait:)(.*)(:.*)/,aa=B.computeResourceDisplayName($.$ref),ba=aa.match(_);if(ba&&(aa=ba[2]),!V.map(function(a){return a.name}).includes(aa)){var ca=new s;ca.name=aa,V.push(ca)}var da=new o;da.reference=$.$ref,U.push(da)}else if($.hasOwnProperty("exclusiveMaximum")&&($["x-oas-exclusiveMaximum"]=$.exclusiveMaximum,delete $.exclusiveMaximum),$.hasOwnProperty("exclusiveMinimum")&&($["x-oas-exclusiveMinimum"]=$.exclusiveMinimum,delete $.exclusiveMinimum),$.hasOwnProperty("in")&&"header"===$.in){var ea=new r;ea._in=$.in,ea.name=$.name,$.hasOwnProperty("description")&&(ea.description=$.description),u.importAnnotations($,ea,this.model);var fa=g._import($);ea.definition=fa,b.importRequired($,ea),R.push(ea)}else if($.hasOwnProperty("in")&&"body"===$.in){var ga=new q;$.hasOwnProperty("description")&&(ga.description=$.description),$.hasOwnProperty("name")&&(ga.name=$.name),u.importAnnotations($,ga,this.model);var ha=g._import($.schema);ga.definition=ha,b.importRequired($,ga),S.push(ga)}else if($.hasOwnProperty("in")&&"formData"===$.in){var ia=new q,ja=g._import($);ia.definition=ja,$.hasOwnProperty("description")&&(ia.description=$.description),u.importAnnotations($,ia,this.model),b.importRequired($,ia),T.push(ia)}else if($.hasOwnProperty("in")&&("query"===$.in||"path"===$.in)){var ka=new o;ka._in=$.in,ka.name=$.name,ka.hasOwnProperty("description")&&(ka.description=$.description),u.importAnnotations($,ka,this.model);var la=g._import($);ka.definition=la,b.importRequired($,ka),"path"===$.in&&this.model[this.resourcePath]&&Y&&this.resourcePath.split("/").pop().includes(Y.name)?this.model[this.resourcePath].parameters?this.model[this.resourcePath].parameters.push(ka):this.model[this.resourcePath].parameters=[ka]:U.push(ka)}}f.headers=R,f.bodies=S,f.formBodies=T,f.parameters=U,k.isEmpty(V)||(f.is=V)}return u.importAnnotations(a,f,this.model),f}}],[{key:"exportExamples",value:function(a,b,c,d){switch(d){case"example":a.hasOwnProperty(d)&&(b.examples||(b.examples={}),null!=c&&(b.examples[c]=a.example),delete a.example);break;case"examples":a.hasOwnProperty(d)&&(b.examples||(b.examples={}),null!=c&&(b.examples[c]=a.examples),delete a.examples)}}},{key:"exportRequired",value:function(a,b){b.required=a.required,b.hasOwnProperty("required")&&!b.required&&delete b.required}},{key:"exportHeaders",value:function(a,c){var d=[];if(a.hasOwnProperty("headers")&&null!=a.headers){var e=a.headers;if(k.isArray(e)&&!k.isEmpty(e))for(var f=0;f<e.length;f++){var g=e[f],h=g.definition,i=void 0;g.hasOwnProperty("reference")?i={$ref:g.reference}:(i=Object.assign({},c._export(h)),i.in=g._in,null!=h&&(i.name=h.name),i.type||(i.type="string"),i.$ref&&delete i.$ref,"array"!==i.type||i.hasOwnProperty("items")||(i.items={type:"string"}),A.removePropertiesFromObject(i,["example"]),b.exportRequired(g,i),u.exportAnnotations(g,i)),d.push(i)}}return d}},{key:"exportParameters",value:function(a,c,d){var e=[];if(a.hasOwnProperty(c)){var f="parameters"===c?a.parameters:a.queryStrings;if(k.isArray(f)&&!k.isEmpty(f)&&null!=f)for(var g=0;g<f.length;g++){var h=f[g],i=h.definition,j=void 0;if(h.hasOwnProperty("reference"))j={$ref:h.reference};else if("queryStrings"===c&&null!=i&&i.hasOwnProperty("properties")){var l=b.exportMultipleQueryStrings(h,d);k.isEmpty(l)||(e=e.concat(l))}else null!=i&&(j=Object.assign({},d._export(i)),j.hasOwnProperty("items")&&j.items.hasOwnProperty("$ref")&&(j.items.type="string",delete j.items.$ref),j.in=h._in,j.name=i.name,b.exportRequired(h,j),j.type||(j.type="string"),j.$ref&&delete j.$ref,"array"!==j.type||j.hasOwnProperty("items")||(j.items={type:"string"}),j.hasOwnProperty("repeat")&&delete j.repeat,A.removePropertiesFromObject(j,["example"]),u.exportAnnotations(h,j),h.hasOwnProperty("hasParams")&&(j.hasParams=h.hasParams));j&&e.push(j)}}return e}},{key:"exportMultipleQueryStrings",value:function(a,c){var d=a.definition,e=[];if(null!=d&&null!=d.properties)for(var f=d.properties,g=0;g<f.length;g++){var h=f[g],i=h.name,j=c._export(h);d.hasOwnProperty("propsRequired")&&null!=d.propsRequired&&(h.required=d.propsRequired.indexOf(i)>-1),j.in=a._in,j.name=i,b.exportRequired(h,j),e.push(j)}return e}},{key:"createOasDef",value:function(a,b,c){var d={};return k.assign(d,a),c.map(function(a){delete d[a]}),k.keys(b).map(function(a){null!=d[a]&&(d[b[a]]=d[a],delete d[a])}),d}},{key:"createMethod",value:function(a,b,c,d){var e={};k.entries(a).map(function(a){var f=i(a,2),g=f[0],h=f[1];c.indexOf(g)<0&&!g.startsWith("x-")&&!g.startsWith(d)&&(e[b.hasOwnProperty(g)?b[g]:g]=h)});var f=new m;return k.assign(f,e),f}},{key:"importRequired",value:function(a,b){b.required=!!a.hasOwnProperty("required")&&a.required}},{key:"importExamples",value:function(a,b,c){var d=!1;try{switch(c){case"example":var e=JSON.parse(a.example);"string"==typeof a.example?b.example=e:null===a.example&&delete b.example;break;case"examples":d=k.startsWith(a.examples,"{");var f=JSON.parse(a.examples);"string"==typeof a.examples?b.examples=f:null===a.examples&&delete b.examples}}catch(g){d&&(b.invalidJsonExample=!0)}}}]),b}(t);b.exports=D},{"../common/parameterConverter":76,"../converters/converter":78,"../helpers/converter":81,"../helpers/oas20":82,"../oas20/oas20AnnotationConverter":86,"../oas20/oas20DefinitionConverter":88,"../oas20/oas20RootConverter":92,"../utils/strings":121,lodash:74,"oas-raml-converter-model":75}],91:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("lodash"),k=a("oas-raml-converter-model"),l=k.Resource,m=(k.Root,k.Method,k.Definition,k.Parameter),n=k.Item,o=a("../converters/converter"),p=a("../oas20/oas20RootConverter"),q=a("../oas20/oas20DefinitionConverter"),r=a("../oas20/oas20MethodConverter"),s=a("../helpers/converter"),t=a("../utils/strings"),u=a("../helpers/oas20"),v=function(a){function b(a,c,f){d(this,b);var g=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,"",f));return g.dereferencedAPI=c,g}return f(b,a),i(b,[{key:"export",value:function(a){var c={};if(!a||j.isEmpty(a))return c;for(var d=0;d<a.length;d++){var e=a[d],f=b.getParents(e.path,a);if(!j.isEmpty(f)){var g=f[0],h=e.parameters?e.parameters:[],i=h.map(function(a){return a.name});if(g.hasOwnProperty("parameters")&&g.parameters)for(var k=g.parameters,l=0;l<k.length;l++){var m=k[l];i.includes(m.name)||(h.push(m),e.parameters=h)}}for(var n=this._export(e),o=!1,p=0;p<a.length;p++){var q=a[p];!o&&q.path&&e.path&&(o=q.path.startsWith(e.path)&&q.path!==e.path)}var r=n.hasOwnProperty("parameters")&&0===n.parameters.filter(function(a){return"path"!==a.in}).length,s=o&&1===j.keys(n).length&&r;(!j.isEmpty(n)&&!s||e.hasOwnProperty("securedBy"))&&e.path&&(c[e.path]=n)}return c}},{key:"_export",value:function(a){var c={},d=["path","relativePath","resourceType","description","displayName","methods","resources","parameters","is","securedBy","annotations"],e=b.createOasDef(a,c,d),f=new q;if(a.hasOwnProperty("methods")&&a.methods){var g=a.methods;if(j.isArray(g)&&!j.isEmpty(g)){var h=new r(this.model,null,a.path,this.def),i=h.export(g);for(var k in i)i.hasOwnProperty(k)&&(e[k]=i[k])}}if(a.hasOwnProperty("parameters")&&a.parameters){var l=a.parameters;if(j.isArray(l)&&!j.isEmpty(l)){for(var m=[],n=0;n<l.length;n++){var o=l[n];if(!a.path||a.path.includes(o.name)){var t=o.definition,u=Object.assign({},f._export(t));u.in=o._in,u.name=o.name,!u.hasOwnProperty("description")&&o.hasOwnProperty("displayName")&&(u.description=o.displayName),u.required=!0,u.hasOwnProperty("type")||(u.type="string"),u.$ref&&delete u.$ref,"array"!==u.type||u.hasOwnProperty("items")||(u.items={type:"string"}),s.removePropertiesFromObject(u,["example"]),p.exportAnnotations(o,u),m.push(u)}}e.parameters=m}}return p.exportAnnotations(a,e),e}},{key:"import",value:function(a){var c=[];if(j.isEmpty(a))return c;for(var d in a)if(a.hasOwnProperty(d)&&!d.startsWith("x-")){this.currentPath=d;var e=a[d],f=this._import(e);if(f.path=d,f.relativePath=b.getRelativePath(d),f.hasOwnProperty("methods")&&f.methods)for(var g=f.methods,h=0;h<g.length;h++){var i=g[h];i.path=f.path}c.push(f)}var k=new l;return p.importAnnotations(a,k,this.model),k.hasOwnProperty("annotations")&&(this.model.resourceAnnotations=k),c}},{key:"_import",value:function(a){var c={},d=s.getValidMethods,e=u.getAnnotationPrefix,f=b.createResource(a,c,d,e),g=new q;if(a.hasOwnProperty("parameters")&&j.isArray(a.parameters)&&!j.isEmpty(a.parameters)){var h=[],i=[];for(var k in a.parameters)if(a.parameters.hasOwnProperty(k)){var l=u.isFilePath(a.parameters[k])&&this.dereferencedAPI?this.dereferencedAPI[this.currentPath].parameters[k]:a.parameters[k];if("header"!==l.in){if(l.hasOwnProperty("$ref")){var o=this.dereferencedAPI[this.currentPath].parameters[k];if("path"===o.in)l=o;else{var v=new n;v.name=t.computeResourceDisplayName(l.$ref),i.push(v)}}var w=new m;w._in=l.in,w.name=l.name,p.importAnnotations(l,w,this.model);var x=g._import(l);w.definition=x,r.importRequired(l,w),h.push(w)}}f.parameters=h,j.isEmpty(i)||(f.is=i)}var y=new r(this.model,this.dereferencedAPI[this.currentPath],this.currentPath,this.def),z=y.import(a);return f.methods=z,p.importAnnotations(a,f,this.model),f}}],[{key:"getParents",value:function(a,c){var d=b.getParentAbsolutePath(a),e=c.filter(function(a){return a.path===d});return j.isEmpty(d)||(e=e.concat(b.getParents(d,c))),e}},{key:"createOasDef",value:function(a,b,c){var d={};return j.assign(d,a),c.map(function(a){delete d[a]}),j.keys(b).map(function(a){void 0!==d[a]&&(d[b[a]]=d[a],delete d[a])}),d}},{key:"createResource",value:function(a,b,c,d){var e={};j.entries(a).map(function(a){var f=h(a,2),g=f[0],i=f[1];c.indexOf(g)<0&&!g.startsWith("x-")&&!g.startsWith(d)&&(e[b.hasOwnProperty(g)?b[g]:g]=i)});var f=new l;return j.assign(f,e),f}},{key:"getParentPath",value:function(a){if(!a)return"";var c=a.substring(0,a.lastIndexOf("/"));return b.getRelativePath(c)}},{key:"getParentAbsolutePath",value:function(a){if(!a)return"";var c=b.getParentPath(a);return a.substring(0,a.indexOf(c))+c}},{key:"getRelativePath",value:function(a){return a.substring(a.lastIndexOf("/"))}}]),b}(o);b.exports=v},{"../converters/converter":78,"../helpers/converter":81,"../helpers/oas20":82,"../oas20/oas20DefinitionConverter":88,"../oas20/oas20MethodConverter":90,"../oas20/oas20RootConverter":92,"../utils/strings":121,lodash:74,"oas-raml-converter-model":75}],92:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("lodash"),j=a("oas-raml-converter-model"),k=a("../converters/converter"),l=(j.Info,j.MediaType),m=j.BaseUri,n=(j.Definition,j.Header),o=j.Root,p=j.Response,q=j.Body,r=j.Tag,s=j.ExternalDocumentation,t=(j.Annotation,a("../oas20/oas20InfoConverter")),u=a("../oas20/oas20AnnotationConverter"),v=a("../oas20/oas20DefinitionConverter"),w=a("../utils/url"),x=a("url"),y=a("../helpers/oas20"),z=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),h(b,[{key:"export",value:function(a){return i.isEmpty(a)?{}:this._export(a)}},{key:"_export",value:function(a){var c={},d=["info","baseUri","protocols","mediaType","documentation","baseUriParameters","securityDefinitions","resources","types","resourceTypes","traits","annotationTypes","tags","annotations"],e=b.createOasDef(a,c,d);if(a.hasOwnProperty("info")){var f=a.info,g=new t;e.info=g.export(f)}if(a.hasOwnProperty("baseUri")&&a.baseUri){var h=a.baseUri;if(null!=h.host&&w.isTemplateUri(h.host))e["x-basePath"]=h.host+(null!=h.basePath?h.basePath:"");else if(h.hasOwnProperty("host")&&!i.isEmpty(h.host)&&(e.host=h.host),h.hasOwnProperty("basePath")&&!i.isEmpty(h.basePath)&&(w.isTemplateUri(h.basePath)?e["x-basePath"]=h.basePath:e.basePath=h.basePath),!h.host&&!h.basePath){var j=h.uri;if(null!=j){var k=x.parse(j);e["x-basePath"]=k.protocol?j.replace(k.protocol+"//",""):j}}b.exportAnnotations(h,e)}if(a.hasOwnProperty("protocols")&&a.protocols){for(var l=a.protocols,m=[],n=0;n<l.length;n++){var o=l[n];y.getAcceptedSchemes.includes(o)&&m.push(o)}e.schemes=m}if(a.hasOwnProperty("tags")&&a.tags){var p=a.tags;e.tags=[];for(var q=0;q<p.length;q++){var r=p[q],s={};r.hasOwnProperty("name")&&(s.name=r.name),r.hasOwnProperty("description")&&(s.description=r.description),r.hasOwnProperty("externalDocs")&&(s.externalDocs=r.externalDocs),i.isEmpty(s)||e.tags.push(s)}}if(a.hasOwnProperty("mediaType")&&a.mediaType){var u=a.mediaType;u.hasOwnProperty("consumes")&&(e.consumes=u.consumes),u.hasOwnProperty("produces")&&(e.produces=u.produces)}if(e.hasOwnProperty("responses"))for(var v in e.responses)if(e.responses.hasOwnProperty(v)){var z=e.responses[v];z.httpStatusCode||delete z.httpStatusCode}return b.exportAnnotations(a,e),e}},{key:"import",value:function(a){return i.isEmpty(a)?{}:this._import(a)}},{key:"_import",value:function(a){var c=new o;if(a.hasOwnProperty("schemes")){var d=a.schemes;c.protocols=d}if(a.hasOwnProperty("info")){var e=new t(c),f=e.import(a.info);c.info=f}if(a.hasOwnProperty("tags")){var g=[];a.tags.map(function(a){var b=new r;if(a.hasOwnProperty("name")&&(b.name=a.name),a.hasOwnProperty("description")&&(b.description=a.description),a.hasOwnProperty("externalDocs")){var c=new s;a.externalDocs.hasOwnProperty("description")&&(c.description=a.externalDocs.description),a.externalDocs.hasOwnProperty("url")&&(c.url=a.externalDocs.url),i.isEmpty(c)||(b.externalDocs=c)}i.isEmpty(b)||g.push(b)}),i.isEmpty(g)||(c.tags=g)}if(a.hasOwnProperty("externalDocs")){var h=a.externalDocs,j=new s;h.hasOwnProperty("url")&&(j.url=h.url),h.hasOwnProperty("description")&&(j.description=h.description),b.importAnnotations(a.externalDocs,j,this.model),i.isEmpty(j)||(c.externalDocs=j)}var k=new m;if(a.hasOwnProperty("x-basePath")){k.uri=a["x-basePath"],a.hasOwnProperty("host")&&(k.host=a.host);var u=k.uri;if(null!=u){var w=x.parse(u);w.host&&!k.host&&(k.host=w.host)}}else{a.hasOwnProperty("host")&&(k.host=a.host),a.hasOwnProperty("basePath")&&(k.basePath=a.basePath);var y=void 0;k.host&&(y=c.protocols?c.protocols[0]:"http"),k.uri=(y?y+"://":"")+(k.host?k.host:"")+(k.basePath?k.basePath:"")}i.isEmpty(k)||""===k.uri||(c.baseUri=k);var z=new l;if(a.hasOwnProperty("consumes")){var A=z.mimeTypes,B=a.consumes;if(z.consumes=B,i.isEmpty(A))z.mimeTypes=B;else{var C=i.intersection(A,B);z.mimeTypes=A.concat(B.filter(function(a){return!C.includes(a)}))}}if(a.hasOwnProperty("produces")){var D=z.mimeTypes,E=a.produces;if(z.produces=E,i.isEmpty(D))z.mimeTypes=E;else{var F=i.intersection(D,E);z.mimeTypes=D.concat(E.filter(function(a){return!F.includes(a)}))}}if(i.isEmpty(z)||(c.mediaType=z),a.hasOwnProperty("responses")&&!i.isEmpty(a.responses)){var G=new v,H=[];for(var I in a.responses)if(a.responses.hasOwnProperty(I)){var J=a.responses[I],K=new p;if(K.httpStatusCode=J.code,K.name=I,J.hasOwnProperty("description")&&(K.description=J.description),J.hasOwnProperty("schema")){var L=new q,M=G._import(J.schema);L.definition=M;var N=[L];K.bodies=N}if(J.hasOwnProperty("headers")){var O=[];for(var P in J.headers){var Q=J.headers[P],R=new n;R.name=P;var S=G._import(Q);R.definition=S,O.push(R)}K.headers=O}H.push(K)}c.responses=H}return a.hasOwnProperty("security")&&(c.securedBy=[],a.security.map(function(a){var b=i.keys(a)[0],d={};d[b]={scopes:a[b]},c.securedBy=c.securedBy.concat(0===a[b].length?b:d)})),b.importAnnotations(a,c,c),c}}],[{key:"exportAnnotations",value:function(a,b){if(a.hasOwnProperty("annotations")&&i.isArray(a.annotations)&&!i.isEmpty(a.annotations)){var c=new u;i.assign(b,c._export(a))}}},{key:"createOasDef",value:function(a,b,c){var d={};return i.assign(d,a),c.map(function(a){delete d[a]}),i.keys(b).map(function(a){d[b[a]]=d[a],delete d[a]}),d}},{key:"importAnnotations",value:function(a,b,c){var d=new u(c),e=d._import(a);i.isEmpty(e)||(b.annotations=e)}}]),b}(k);b.exports=z},{"../converters/converter":78,"../helpers/oas20":82,"../oas20/oas20AnnotationConverter":86,"../oas20/oas20DefinitionConverter":88,"../oas20/oas20InfoConverter":89,"../utils/url":122,lodash:74,"oas-raml-converter-model":75,url:269}],93:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../converters/converter"),j=a("oas-raml-converter-model"),k=a("lodash"),l=j.SecurityScope,m=(j.Method,j.SecurityDefinition),n=a("../raml/ramlMethodConverter"),o=a("../oas20/oas20RootConverter"),p=a("../helpers/oas20"),q=function(a){function b(a,c){d(this,b);var f=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return f.dereferencedAPI=c,f}return f(b,a),h(b,[{key:"export",value:function(a){var b={};if(k.isEmpty(a))return b;for(var c=0;c<a.length;c++){var d=a[c],e=this._export(d);null!=e&&(b[d.schemaName]=e)}return b}},{key:"import",value:function(a){var b=[];if(k.isEmpty(a))return b;p.isFilePath(a)&&this.dereferencedAPI&&(a=this.dereferencedAPI);for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];d.schemaName=c;var e=this._import(d);b.push(e)}return b}},{key:"_export",value:function(a){var c={},d=["type","schemaName","authorization","scopes","signatures","displayName","describedBy","requestTokenUri","tokenUrl","authorizationUrl","name","_in"],e=["oauth2","basic","apiKey"],f=b.createOasDef(a,c,d),g=a.type;if(e.indexOf(g)>-1)f.type=g;else{if("x-"!==g.substr(0,2))return;f.type="apiKey"}switch(f.type){case"oauth2":var h=["implicit","accessCode"],i=["application","password","accessCode"];if(a.hasOwnProperty("authorization")&&a.authorization&&(f.flow=a.authorization[0]),k.includes(h,f.flow)&&(f.authorizationUrl=a.authorizationUrl),k.includes(i,f.flow)&&(f.tokenUrl=a.tokenUrl),f.scopes={},a.hasOwnProperty("scopes")&&a.scopes)for(var j=a.scopes,l=0;l<j.length;l++){var m=j[l];f.scopes[m.value]=m.description}break;case"apiKey":var n=a.describedBy;n?n.hasOwnProperty("headers")&&!k.isEmpty(n.headers)&&null!=n.headers?(f.in="header",f.name=n.headers[0].name):n.hasOwnProperty("parameters")&&!k.isEmpty(n.parameters)&&null!=n.parameters&&(f.in="query",f.name=n.parameters[0].name):(f.in="header",f.name=a.schemaName)}return f}},{key:"_import",value:function(a){var c={},d=["flow","scopes","in","name"],e=b.createSecurityDefinition(a,c,d,p.getAnnotationPrefix);if(a.hasOwnProperty("flow")){var f=[a.flow];e.authorization=f}if(a.hasOwnProperty("scopes")){var g=[];for(var h in a.scopes)if(a.scopes.hasOwnProperty(h)){var i=new l;i.value=h,i.description=a.scopes[h],g.push(i)}e.scopes=g}if(a.in&&a.name){var j={};"header"===a.in?(j.headers={},j.headers[a.name]={type:["string"],name:a.name}):"query"===a.in&&(j.queryParameters={},j.queryParameters[a.name]={type:["string"],name:a.name});var k=new n,m=k._import(j);e.describedBy=m}return o.importAnnotations(a,e,this.model),e}}],[{key:"createOasDef",value:function(a,b,c){var d={};return k.assign(d,a),c.map(function(a){delete d[a]}),k.keys(b).map(function(a){d[b[a]]=d[a],delete d[a]}),d}},{key:"createSecurityDefinition",value:function(a,b,c,d){var e={};k.assign(e,a),c.map(function(a){delete e[a]}),k.keys(b).map(function(a){e[b[a]]=e[a],delete e[a]});for(var f in e)e.hasOwnProperty(f)&&(f.startsWith(d)||f.startsWith("x-"))&&delete e[f];var g=new m;return k.assign(g,e),g}}]),b}(i);b.exports=q},{"../converters/converter":78,"../helpers/oas20":82,"../oas20/oas20RootConverter":92,"../raml/ramlMethodConverter":111,lodash:74,"oas-raml-converter-model":75}],94:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("lodash"),j=a("oas-raml-converter-model"),k=j.Trait,l=(j.Method,a("../converters/converter")),m=a("../oas20/oas20MethodConverter"),n=function(a){function b(a,c){d(this,b);var f=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return f.dereferencedAPI=c,f}return f(b,a),h(b,[{key:"export",value:function(a){if(i.isEmpty(a))return{};for(var b={},c=0;c<a.length;c++){var d=a[c],e=d.method;e&&(b[d.name]=this._export(e))}var f={},g={};for(var h in b)if(b.hasOwnProperty(h)){var j=b[h];for(var k in j.parameters)if(j.parameters.hasOwnProperty(k)){var l=j.parameters[k],m="trait:"+h+":"+k;f[m]=l}for(var n in j.responses)if(j.responses.hasOwnProperty(n)){var o=j.responses[n],p="trait:"+h+":"+n;g[p]=o}}return{parameters:f,responses:g}}},{key:"_export",value:function(a){var b=new m(this.model,this.dereferencedAPI,"",this.def),c=b._export(a),d={};if(c.hasOwnProperty("parameters"))for(var e=0;e<c.parameters.length;e++){var f=c.parameters[e];f.hasOwnProperty("example")&&delete f.example,f.hasParams||(d[f.name]=f)}var g={};if(c.hasOwnProperty("responses"))for(var h in c.responses)if(c.responses.hasOwnProperty(h)){var j=c.responses[h];"default"!==h&&!j.hasParams&&("default"!==h||j.hasOwnProperty("schema")||j.hasOwnProperty("headers")&&!i.isEmpty(j.description))&&(g[h]=c.responses[h])}return{parameters:d,responses:g}}},{key:"import",value:function(a){var c=[];if(i.isEmpty(a))return c;var d={},e=[];for(var f in a.parameters)if(a.parameters.hasOwnProperty(f)){var g=a.parameters[f];if("path"!==g.in){var h=b.getTraitName(f);if(e.includes(h)){var j=d[h].parameters;j.push(g)}else d[h]={parameters:[g]},e.push(h)}}for(var l in d)if(d.hasOwnProperty(l)){var m=new k;m.name=l,this.currentParam=l;var n=this._import(d[l]);m.method=n,c.push(m)}return c}},{key:"_import",value:function(a){var b=new m(this.model,this.dereferencedAPI[this.currentParam],"",this.def),c=b._import({parameters:a.parameters});return c.hasOwnProperty("is")&&delete c.is,c}}],[{key:"getTraitName",value:function(a){var b=a.indexOf(":");return b<0?a:a.substring(b+1,a.lastIndexOf(":"))}}]),b}(l);b.exports=n},{"../converters/converter":78,"../oas20/oas20MethodConverter":90,lodash:74,"oas-raml-converter-model":75}],95:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){
if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("lodash"),j=a("oas-raml-converter-model"),k=(j.Annotation,a("../converters/converter")),l=a("../helpers/oas20"),m=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),h(b,[{key:"_export",value:function(a){var b={};for(var c in a.annotations)if(a.annotations.hasOwnProperty(c)){var d=a.annotations[c],e=d.name,f=["oas-deprecated","oas-paths","oas-collectionFormat","oas-schema-title","oas-global-response-definition","oas-responses","oas-definition-name"];i.includes(f,e)||this.exportAnnotation(b,d)}return b}},{key:"exportAnnotation",value:function(a,b){var c=["oas-summary","oas-externalDocs","oas-readOnly","oas-responses-default","oas-format","oas-body-name"],d=l.getAnnotationPrefix,e=void 0;if(e=i.includes(c,b.name)?"oas-body-name"===b.name?b.name.replace("oas-body-",""):"oas-responses-default"===b.name?d+b.name.replace("oas-",""):b.name.replace("oas-",""):d+b.name,a[e]=b.definition,null!=b.annotations&&!i.isEmpty(b.annotations))for(var f=b.annotations,g=0;g<f.length;g++)this.exportAnnotation(a[e],f[g])}}]),b}(k);b.exports=m},{"../converters/converter":78,"../helpers/oas20":82,lodash:74,"oas-raml-converter-model":75}],96:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("lodash"),j=a("oas-raml-converter-model"),k=j.Parameter,l=(j.Method,j.Root,j.Response),m=(j.Body,j.ResourceType,j.Trait,j.Item,j.Header),n=(j.Resource,a("../converters/converter")),o=a("./oas30RootConverter"),p=a("./oas30SecurityDefinitionConverter"),q=a("./oas30DefinitionConverter"),r=a("./oas30TraitConverter"),s=a("./oas30ResourceConverter"),t=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),h(b,[{key:"export",value:function(a){return new Promise(function(c,d){try{b.fixInheritedProperties(a);var e=new o,f=e.export(a);if(null!=a.securityDefinitions){var g=new p,h=g.export(a.securityDefinitions),j=f.components;i.isEmpty(h)||(j.securitySchemes=h)}if(null!=a.types){var k=new q(a,null,f);f.components.schemas=k.export(a.types)}if(null!=a.traits){var l=new r,m=l.export(a.traits);f.components.parameters=m.parameters,f.components.responses=m.responses}if(null!=a.resources){var n=new s(a,null,f);f.paths=n.export(a.resources)}else f.paths={};c(f)}catch(t){d(t)}})}}],[{key:"fixInheritedProperties",value:function(a){var c=[],d=a.resourceTypes,e=a.traits;if(null!=a.resources){for(var f=a.resources,g=0;g<f.length;g++){var h=f[g];if(h.hasOwnProperty("resourceType")){var i=h.resourceType;if(null!=i&&null!=d)for(var j=function(a){var e=i[a],f=e.name,g=d.filter(function(a){return f===a.name})[0];if(!g)return"continue";var j=g.resource;if(j&&null!=j.parameters)for(var k=j.parameters,l=0;l<k.length;l++){var m=k[l],n={type:"uriParameter",name:m.name,resource:h.path,params:null};c.push(n)}if(j&&null!=j.methods)for(var o=j.methods,p=0;p<o.length;p++){var q=o[p];b.mapMethodProperties(c,q,null,h.path,q.method,e.value)}},n=0;n<i.length;n++){j(n)}}if(null!=h.is&&null!=e)for(var o=h.is,p=function(a){var d=o[a],f=d.name,g=e.filter(function(a){return f===a.name})[0];g&&g.method&&b.mapMethodProperties(c,g.method,g.name,h.path,"all",d.value)},n=0;n<o.length;n++)p(n);if(null!=h.methods)for(var q=h.methods,n=0;n<q.length;n++){var r=q[n];if(null!=r.is&&null!=e)for(var s=r.is,t=function(a){var d=s[a],f=d.name,g=e.filter(function(a){return f===a.name})[0];g&&g.method&&b.mapMethodProperties(c,g.method,g.name,h.path,r.method,d.value)},u=0;u<s.length;u++)t(u)}}for(var v=function(a){var b=c[a],d=f.filter(function(a){return a.path===b.resource})[0];if(!d.hasOwnProperty("methods"))return"continue";if(null!=d.methods)for(var e=d.methods.filter(function(a){return"all"===b.method||a.method===b.method}),g=0;g<e.length;g++){var h=e[g];if("header"===b.type&&null!=h&&null!=h.headers&&null!=b.trait){var i=h.headers,j=i.map(function(a){return a.name});if(j.includes(b.name)){i.splice(j.indexOf(b.name),1);var n=new m,o=b.trait?b.trait:"";n.reference="#/components/parameters/trait_"+o+"_"+b.name,i.push(n)}}else if("queryParameter"===b.type&&null!=h&&null!=h.parameters&&null!=b.trait){var p=h.parameters,q=p.map(function(a){return a.name});if(q.includes(b.name)){p.splice(q.indexOf(b.name),1);var r=new k,s=b.trait?b.trait:"";r.reference="#/components/parameters/trait_"+s+"_"+b.name,p.push(r)}}else if("response"===b.type&&null!=h&&null!=h.responses&&null!=b.trait){var t=h.responses,u=t.map(function(a){return a.httpStatusCode});if(u.includes(b.name)){t.splice(u.indexOf(b.name),1);var v=new l;v.httpStatusCode=b.name,v.reference="#/components/responses/trait_"+b.trait+"_"+b.name,t.push(v);var w=h.produces?h.produces:[];for(var x in b.mimeTypes)w.includes(b.mimeTypes[x])||w.push(b.mimeTypes[x]),h.produces=w}}}},w=0;w<c.length;w++){v(w)}}}},{key:"mapMethodProperties",value:function(a,b,c,d,e,f){if(null!=b.bodies)for(var g=b.bodies,h=0;h<g.length;h++){var i=g[h];if(!i.hasParams){var j={type:"body",trait:c,name:i.mimeType,resource:d,method:e,params:f};a.push(j)}}if(null!=b.headers)for(var k=b.headers,l=0;l<k.length;l++){var m=k[l];if(!m.hasParams){var n={type:"header",trait:c,name:m.name,resource:d,method:e,params:f};a.push(n)}}if(null!=b.parameters)for(var o=b.parameters,p=0;p<o.length;p++){var q=o[p];if(!q.hasParams){var r={type:"queryParameter",trait:c,name:q.name,resource:d,method:e,params:f};a.push(r)}}if(null!=b.responses)for(var s=b.responses,t=0;t<s.length;t++){var u=s[t],v=u.bodies?u.bodies.map(function(a){return a.mimeType}):[];if(!u.hasParams){var w={type:"response",name:u.httpStatusCode,resource:d,method:e,mimeTypes:v,params:f};c&&(w.trait=c),a.push(w)}}}}]),b}(n);b.exports=t},{"../converters/converter":78,"./oas30DefinitionConverter":97,"./oas30ResourceConverter":100,"./oas30RootConverter":101,"./oas30SecurityDefinitionConverter":102,"./oas30TraitConverter":103,lodash:74,"oas-raml-converter-model":75}],97:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(a){return void 0===a?"undefined":g(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":g(a)},j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=a("lodash"),l=a("oas-raml-converter-model"),m=a("../converters/converter"),n=l.Definition,o=a("../utils/json"),p=a("../utils/strings"),q=a("./oas30AnnotationConverter"),r=a("./oas30Types"),s=r.Discriminator,t=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),j(b,[{key:"export",value:function(a){var b=this,c={};return a.forEach(function(a){var d=p.sanitise(a.name);b.level="type",c[d]=b._export(a)}),c}},{key:"_export",value:function(a){var c=this,d={_enum:"enum",_default:"default",displayName:"title"},e=["name","fileReference","discriminator","reference","properties","compositionType","oneOf","schema","items","itemsList","additionalProperties","jsonValue","schemaPath","examples","$schema","id","annotations","fileTypes","propsRequired","expanded"],f=b.createOasDef(a,d,e);if(null!=f.internalType&&b._convertFromInternalType(f,this.level),null!=a.discriminator&&(f.discriminator=new s(a.discriminator)),null!=a.example){var g=o.parse(o.stringify(a.example));"object"!==(void 0===g?"undefined":i(g))||k.isArray(g)||null==g?f.example=g:f.example=b.exportExample(g),"number"==typeof f.example&&"string"==typeof a.example&&(f.example=o.stringify(a.example)),Array.isArray(f.example)?f.example.map(function(a){b.escapeExampleAttributes(a)}):b.escapeExampleAttributes(f.example)}if(null!=a.examples){var h=a.examples;null!=h&&Array.isArray(h)&&!k.isEmpty(h)&&(f.example=o.parse(o.stringify(h[0])))}if(null!=a.additionalProperties)if("object"===i(a.additionalProperties)){var j=a.additionalProperties;null==j.required||j.required||delete j.required,f.additionalProperties=this._export(j)}else"boolean"==typeof a.additionalProperties&&(f.additionalProperties=a.additionalProperties);if(null!=a.items){var l=a.items;f.items=this._export(l)}if(null!=a.fileReference&&(f.$ref=a.fileReference),null!=a.reference){var m=a.reference;f.$ref=m.startsWith("http://")?m:"#/components/schemas/"+m}if(null!=a.properties){for(var n=a.properties,p={},r=0;r<n.length;r++){var t=n[r];this.level="property",p[t.name]=this._export(t)}k.isEmpty(p)||(f.properties=p),null==a.propsRequired||k.isEmpty(a.propsRequired)||(f.required=a.propsRequired),delete a.propsRequired}if(null!=a.compositionType){var u=[];k.values(a.compositionType).map(function(a){var d=c._export(a);b._convertToInternalType(d),null==d.internalType&&null==d.$ref||u.push(c._export(a))}),1===u.length?f.type=u[0].type:f.allOf=u}if(null!=a.oneOf){var v=[];k.values(a.oneOf).map(function(a){v.push(c._export(a))}),f.oneOf=v}if(null!=a.annotations&&k.isArray(a.annotations)&&!k.isEmpty(a.annotations)){var w=new q;k.assign(f,w._export(a))}return b.checkDefaultType(f),f}}],[{key:"createOasDef",value:function(a,b,c){var d={};return k.entries(a).map(function(a){var e=h(a,2),f=e[0],g=e[1];c.indexOf(f)<0&&!f.startsWith("x-")&&(d[null!=b[f]?b[f]:f]=g)}),d}},{key:"createDefinition",value:function(a,b,c){var d={};k.entries(a).map(function(a){var e=h(a,2),f=e[0],g=e[1];c.indexOf(f)<0&&!f.startsWith("x-")&&(d[null!=b[f]?b[f]:f]=g)});var e=new n;return k.assign(e,d),e}},{key:"_convertToInternalType",value:function(a){var b=null!=a.format,c=a.type,d=b?a.format:null;"integer"!==c||b||(a.internalType="integer"),"number"!==c||b||(a.internalType="number"),"integer"===c&&"int"===d&&(a.internalType="int"),"integer"===c&&"int8"===d&&(a.internalType="int8"),"integer"===c&&"int16"===d&&(a.internalType="int16"),"integer"===c&&"int32"===d&&(a.internalType="int32"),"integer"===c&&"int64"===d&&(a.internalType="int64"),"number"===c&&"float"===d&&(a.internalType="float"),"number"===c&&"double"===d&&(a.internalType="double"),"boolean"===c&&(a.internalType="boolean"),"string"!==c||b||(a.internalType="string"),"string"===c&&"byte"===d&&(a.internalType="byte"),"string"===c&&"binary"===d&&(a.internalType="binary"),"string"===c&&"password"===d&&(a.internalType="password"),"string"===c&&"date"===d&&(a.internalType="dateonly"),"string"===c&&"date-time"===d&&(a.internalType="datetime"),"object"===c&&(a.internalType="object"),"array"===c&&(a.internalType="array"),null!=a.internalType&&(delete a.type,delete a.format)}},{key:"_convertFromInternalType",value:function(a,b){if(null!=a.internalType){var c=a.internalType;"integer"===c?a.type="integer":"number"===c?a.type="number":"int"===c?(a.type="integer",a.format="int"):"int8"===c?(a.type="integer",a.format="int8"):"int16"===c?(a.type="integer",a.format="int16"):"int32"===c?(a.type="integer",a.format="int32"):"int64"===c?(a.type="integer",a.format="int64"):"float"===c?(a.type="number",a.format="float"):"double"===c?(a.type="number",a.format="double"):"boolean"===c?a.type="boolean":"string"===c?a.type="string":"byte"===c?(a.type="string",a.format="byte"):"binary"===c?(a.type="string",a.format="binary"):"password"===c?(a.type="string",a.format="password"):"file"===c?a.type="string":"dateonly"===c?(a.type="string",a.format="date"):"datetime"===c?(a.type="string",a.format="date-time"):"timeonly"===c?a.type="string":"datetimeonly"===c?a.type="string":"null"===c?"type"===b?a.type="object":"property"===b&&(a.type="string"):"timestamp"===c?a.type="string":"object"===c?a.type="object":"array"===c&&(a.type="array"),delete a.internalType}}},{key:"checkDefaultType",value:function(a){null==a.type&&(null!=a.properties?a.type="object":null!=a.items?a.type="array":null==a.$ref&&null!=!a.allOf&&null==a.oneOf&&(a.type="string"))}},{key:"escapeExampleAttributes",value:function(a){if(null!=a){var b=["string","object"];null==a.type||b.includes(i(a.type))||(a["x-type"]=a.type,delete a.type),null==a.$ref||b.includes(i(a.type))||(a["x-$ref"]=a.$ref,delete a.$ref)}}},{key:"exportExample",value:function(a){var c=a;if(b.escapeExampleAttributes(c),null!=c.annotations&&(k.isArray(c.annotations)||"object"===i(c.annotations))){var d=new q;k.assign(c,d._export(c)),delete c.annotations}for(var e in c)c.hasOwnProperty(e)&&("object"!==i(c[e])||k.isEmpty(c[e])||(c[e]=b.exportExample(c[e])));return c}}]),b}(m);b.exports=t},{"../converters/converter":78,"../utils/json":119,"../utils/strings":121,"./oas30AnnotationConverter":95,"./oas30Types":104,lodash:74,"oas-raml-converter-model":75}],98:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../converters/converter"),j=a("oas-raml-converter-model"),k=a("../oas20/oas20AnnotationConverter"),l=(j.Info,a("lodash")),m=a("./oas30Types"),n=m.Contact,o=m.License,p=a("./oas30Types").Info,q=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),h(b,[{key:"export",value:function(a){if(l.isEmpty(a))return new p;var b=new p(a.title,String(a.version));if(b.description=a.description,b.termsOfService=a.termsOfService,null!=a.contact){var c=new n;c.name=a.contact.name,c.url=a.contact.url,c.email=a.contact.email,b.contact=c}if(null!=a.license){var d=new o(a.license.name||"");d.url=a.license.url,b.license=d}if(null!=a.annotations){var e=new k;l.assign(b,e._export(a))}return b}}]),b}(i);b.exports=q},{"../converters/converter":78,"../oas20/oas20AnnotationConverter":86,"./oas30Types":104,lodash:74,"oas-raml-converter-model":75}],99:[function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":h(b))&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":h(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("lodash"),k=a("oas-raml-converter-model"),l=a("../converters/converter"),m=(k.Root,k.Method,k.Response,k.Body,k.Header,k.Definition,k.Parameter,k.SecurityRequirement,a("../common/parameterConverter")),n=a("../helpers/converter"),o=a("../utils/strings"),p=a("./oas30RootConverter"),q=a("./oas30DefinitionConverter"),r=a("./oas30Types"),s=r.Operation,t=r.Reference,u=r.RequestBody,v=a("./oas30Types").Response,w=a("./oas30Types").Parameter,x=a("./oas30Types").MediaType,y=(a("./oas30Types").Header,function(a){function b(a,c,d,g){e(this,b);var h=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,"",g));return h.dereferencedAPI=c,h.resourcePath=d,h}return g(b,a),i(b,[{key:"export",value:function(a){var b={};if(j.isEmpty(a))return b;for(var c=0;c<a.length;c++){var d=a[c];b[d.method]=this._export(d)}return b}},{key:"_export",value:function(a){var c=new s;c.description=a.description,c.tags=a.tags;var e=new q(this.model,this.annotationPrefix,this.def);if(c.operationId=a.name,null==c.operationId&&(c.operationId=o.computeOperationId(a.method,a.path)),null!=a.responses){var f=a.responses;if(Array.isArray(f)&&!j.isEmpty(f)){var g={};0===f.length&&(g.default=new v(""));for(var h=0;h<f.length;h++){var i=f[h];if(null!=i.httpStatusCode)if(null!=i.reference){var k=new t(i.reference);g[i.httpStatusCode]=k}else{var l=new v(i.description||"");if(null!=i.headers){var n=i.headers;if(Array.isArray(n)&&n.length>0){for(var r=new m(this.model,this.annotationPrefix,this.def,""),w=r.export(n,!1),y=0;y<n.length;y++){var z=n[y],A=w[z.name];if(A.schema=A.schema||{},null!=A.type&&"string"==typeof A.type&&(A.schema.type=A.type,delete A.type),null!=A.schema&&null!=A.schema.type){var B=z.definition;null!=B&&null!=A.schema&&(q._convertFromInternalType(e._export(B)),null!=B.type&&(A.schema.type=B.type),null!=B.format&&(A.schema.format=B.format)),"array"===A.schema.type&&null==A.schema.items&&(A.schema.items={type:"string"})}null!=A.example&&delete A.example,null!=A.schema.required&&delete A.required,null!=A.repeat&&delete A.repeat}j.isEmpty(w)||(l.headers=w)}}if(null!=i.bodies){var C=i.bodies;if(Array.isArray(C)&&C.length>0)for(var D=0;D<C.length;D++){var E=C[D],F=new x;l.description=null!=E.description&&j.isEmpty(l.description)?E.description:l.description;var G=E.definition,H={};null!=G&&(H=e._export(G),null!=G.internalType&&"file"===G.internalType&&(H.type="file"),null==G.internalType&&null==G.type&&null!=H.type&&delete H.type,null!=H.required&&!0===H.required&&delete H.required,null!=H.$ref&&(F.example=H.example,delete H.example,H={$ref:H.$ref})),p.exportAnnotations(E,H),F.schema=H,j.isEmpty(H)||(l.content={},l.content[E.mimeType||"*/*"]=F)}}p.exportAnnotations(i,l),null!=i.hasParams&&(l.hasParams=i.hasParams),g[i.httpStatusCode||"default"]=l}}c.responses=g}}else c.responses={default:new v("")};var I=b.exportHeaders(a,e);if(null!=a.bodies){var J=a.bodies;if(Array.isArray(J)){for(var K={},L=!1,M=0;M<J.length;M++){var N=J[M],O=new x,P=e._export(N.definition);null!=P.example&&(O.example=P.example,delete P.example),O.schema=P,K[N.mimeType||"*/*"]=O,N.required&&(L=!0)}var Q=new u(K);Q.required=L,c.requestBody=Q}}if(null!=a.formBodies){var R=a.formBodies;if(Array.isArray(R)&&R.length>0){for(var S={},T=!1,U=0;U<R.length;U++){var V=R[U],W=new x,X=e._export(V.definition);null!=X.example&&(W.example=X.example,delete X.example),W.schema=X,S[V.mimeType||"*/*"]=W,V.required&&(T=!0)}c.requestBody=null!=c.requestBody?Object.assign(c.requestBody,S):new u(S),c.requestBody.required=c.requestBody.required||T}}var Y=b.exportParameters(a,"parameters",e);j.isEmpty(Y)||(I=I.concat(Y));var Z=b.exportParameters(a,"queryStrings",e);if(j.isEmpty(Z)||(I=I.concat(Z)),j.isEmpty(I)||(c.parameters=I),null!=a.securedBy&&this.def&&this.def.components.securitySchemes){for(var $=a.securedBy,_=[],aa=0;aa<$.length;aa++){var ba=$[aa];null!==ba.name&&Object.keys(this.def.components.securitySchemes).includes(ba.name)&&_.push(d({},ba.name,ba.scopes))}j.isEmpty(_)||(c.security=_)}return p.exportAnnotations(a,c),c}}],[{key:"exportExamples",value:function(a,b,c,d){switch(d){case"example":null!=a.example&&(b.examples||(b.examples={}),b.examples[c]=a.example,delete a.example);break;case"examples":null!=a.examples&&(b.examples||(b.examples={}),b.examples[c]=a.examples,delete a.examples)}}},{key:"exportRequired",value:function(a,b){b.required=a.required,null==b.required||b.required||delete b.required}},{key:"exportHeaders",value:function(a,c){var d=[];if(null!=a.headers){var e=a.headers;if(j.isArray(e)&&!j.isEmpty(e))for(var f=0;f<e.length;f++){var g=e[f],h=g.definition,i=void 0;if(null!=g.reference)i=new t(g.reference);else{if(null!=g.reference){d.push(new t(g.reference));continue}i=new w(h.name,g._in||"header"),null!=h&&(i.description=h.description,delete h.description);var k=c._export(h);null==k.type&&(k.type="string"),null!=k.$ref&&delete k.$ref,"array"===k.type&&null==k.items&&(k.items={type:"string"}),delete k.required,i.schema=k,n.removePropertiesFromObject(i,["example"]),b.exportRequired(g,i),p.exportAnnotations(g,i)}d.push(i)}}return d}},{key:"exportParameters",value:function(a,c,d){var e=[];if(a.hasOwnProperty(c)){var f="parameters"===c?a.parameters:a.queryStrings;if(j.isArray(f)&&!j.isEmpty(f)&&null!=f)for(var g=0;g<f.length;g++){var h=f[g];if(null==h.reference){var i=h.definition,k=void 0;if("queryStrings"===c&&null!=i&&null!=i.properties){var l=b.exportMultipleQueryStrings(h,d);j.isEmpty(l)||(e=e.concat(l))}else if(null!=i){k=new w(i.name,h._in||"query");var m=d._export(i);null==m.type&&null==m.$ref&&(m.type="string"),"array"===m.type&&null==m.items&&(m.items={type:"string"}),null!=m.repeat&&delete m.repeat,null!=m.required&&(k.required=m.required,delete m.required),"path"===h._in&&(k.required=!0),null!=m.description&&(k.description=m.description,delete m.description),k.schema=m,b.exportRequired(h,k),n.removePropertiesFromObject(k,["example"]),p.exportAnnotations(h,k)}k&&e.push(k)}else e.push(new t(h.reference))}}return e}},{key:"exportMultipleQueryStrings",value:function(a,c){var d=a.definition,e=[];if(null!=d&&null!=d.properties)for(var f=d.properties,g=0;g<f.length;g++){var h=f[g],i=h.name,j=new w(i,a._in||"query"),k=c._export(h);d.hasOwnProperty("propsRequired")&&null!=d.propsRequired&&(h.required=d.propsRequired.indexOf(i)>-1),j.schema=k,b.exportRequired(h,j),e.push(j)}return e}}]),b}(l));b.exports=y},{"../common/parameterConverter":76,"../converters/converter":78,"../helpers/converter":81,"../utils/strings":121,"./oas30DefinitionConverter":97,"./oas30RootConverter":101,"./oas30Types":104,lodash:74,"oas-raml-converter-model":75}],100:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("lodash"),k=a("oas-raml-converter-model"),l=k.Resource,m=(k.Root,k.Method,k.Definition,k.Parameter,a("../converters/converter")),n=a("../helpers/converter"),o=a("./oas30DefinitionConverter"),p=a("./oas30MethodConverter"),q=a("./oas30RootConverter"),r=a("./oas30Types").Parameter,s=function(a){function b(a,c,f){d(this,b);var g=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,"",f));return g.dereferencedAPI=c,g}return f(b,a),i(b,[{key:"export",value:function(a){var c={};if(!a||j.isEmpty(a))return c;for(var d=0;d<a.length;d++){var e=a[d],f=b.getParents(e.path,a);if(!j.isEmpty(f)){var g=f[0],h=e.parameters?e.parameters:[],i=h.map(function(a){return a.name});if(null!=g.parameters)for(var k=g.parameters,l=0;l<k.length;l++){var m=k[l];i.includes(m.name)||(h.push(m),e.parameters=h)}}for(var n=this._export(e),o=!1,p=0;p<a.length;p++){var q=a[p];!o&&q.path&&e.path&&(o=q.path.startsWith(e.path)&&q.path!==e.path)}var r=null!=n.parameters&&0===n.parameters.filter(function(a){return"path"!==a.in}).length,s=o&&1===j.keys(n).length&&r;(j.isEmpty(n)||s)&&null==e.securedBy||null==e.path||(c[e.path]=n)}return c}},{key:"_export",value:function(a){var c={},d=["path","relativePath","resourceType","description","displayName","methods","resources","parameters","is","securedBy","annotations"],e=b.createOasDef(a,c,d),f=new o;if(null!=a.methods){var g=a.methods;if(j.isArray(g)&&!j.isEmpty(g)){var h=new p(this.model,null,a.path,this.def),i=h.export(g);for(var k in i)i.hasOwnProperty(k)&&(e[k]=i[k])}}if(null!=a.parameters){var l=a.parameters;if(j.isArray(l)&&!j.isEmpty(l)){for(var m=[],s=0;s<l.length;s++){var t=l[s];if((null==a.path||a.path.includes(t.name))&&null!=t.definition){var u=t.definition,v=new r(t.name,t._in||"query",t.required||!1);v.schema=Object.assign({},f._export(u)),null==v.description&&null!=t.displayName&&(v.description=t.displayName),null!=v.schema.required&&(v.required=v.schema.required,delete v.schema.required),"path"===t._in&&(v.required=!0),null!=v.schema.type||v.schema.$ref||(v.schema.type="string"),null!=v.$ref&&delete v.$ref,"array"===v.schema.type&&null==v.schema.items&&(v.schema.items={type:"string"}),v.schema.description&&(v.description=v.schema.description,delete v.schema.description),n.removePropertiesFromObject(v,["example"]),q.exportAnnotations(t,v),m.push(v)}}e.parameters=m}}return q.exportAnnotations(a,e),e}}],[{key:"getParents",value:function(a,c){var d=b.getParentAbsolutePath(a),e=c.filter(function(a){return a.path===d});return j.isEmpty(d)||(e=e.concat(b.getParents(d,c))),e}},{key:"createOasDef",value:function(a,b,c){var d={};return j.assign(d,a),c.map(function(a){delete d[a]}),j.keys(b).map(function(a){void 0!==d[a]&&(d[b[a]]=d[a],delete d[a])}),d}},{key:"createResource",value:function(a,b,c,d){var e={};j.entries(a).map(function(a){var f=h(a,2),g=f[0],i=f[1];c.indexOf(g)<0&&!g.startsWith("x-")&&!g.startsWith(d)&&(e[null!=b[g]?b[g]:g]=i)});var f=new l;return j.assign(f,e),f}},{key:"getParentPath",value:function(a){if(!a)return"";var c=a.substring(0,a.lastIndexOf("/"));return b.getRelativePath(c)}},{key:"getParentAbsolutePath",value:function(a){if(!a)return"";var c=b.getParentPath(a);return a.substring(0,a.indexOf(c))+c}},{key:"getRelativePath",value:function(a){return a.substring(a.lastIndexOf("/"))}}]),b}(m);b.exports=s},{"../converters/converter":78,"../helpers/converter":81,"./oas30DefinitionConverter":97,"./oas30MethodConverter":99,"./oas30RootConverter":101,"./oas30Types":104,lodash:74,"oas-raml-converter-model":75}],101:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("lodash"),j=a("oas-raml-converter-model"),k=a("../converters/converter"),l=(j.BaseUri,j.Root,j.Tag,a("./oas30InfoConverter")),m=a("./oas30AnnotationConverter"),n=a("./oas30Types"),o=n.ExternalDocumentation,p=n.Model,q=n.Server,r=n.ServerVariable,s=a("./oas30Types").Tag,t=a("./oas30Types").Info,u=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}
return f(b,a),h(b,[{key:"export",value:function(a){if(i.isEmpty(a))return new p;var c=new p(null!=a.info?(new l).export(a.info):new t);if(null!=a.externalDocs){var d=new o(a.externalDocs.url||"");d.description=a.externalDocs.description,c.externalDocs=d,b.exportAnnotations(a.externalDocs,c)}if(null!=a.baseUri){var e=a.baseUri,f=e.host,g=e.basePath,h=e.protocol,j=[],k={};if(null!=a.baseUriParameters){var m=a.baseUriParameters,n=!0,u=!1,v=void 0;try{for(var w,x=m[Symbol.iterator]();!(n=(w=x.next()).done);n=!0){var y=w.value,z=new r(y.name);z.description=y.description,null!=y.definition&&null!=y.definition._enum&&(z.enum=y.definition._enum),k[y.name]=z}}catch(K){u=!0,v=K}finally{try{!n&&x.return&&x.return()}finally{if(u)throw v}}}if(null!=f){var A=a.protocols||["http"];null==h||A.includes(h)||A.push(h);for(var B=0;B<A.length;B++){var C=A[B],D=C+"://"+f+(g||"/"),E=new q(D);i.isEmpty(k)||(E.variables=k),j.push(E)}}c.servers=j,b.exportAnnotations(e,c)}if(null!=a.tags){var F=a.tags;c.tags=[];for(var G=0;G<F.length;G++){var H=F[G],I=new s(H.name);if(I.description=H.description,null!=H.externalDocs){var J=new o(H.externalDocs.url||"");J.description=H.externalDocs.description,I.externalDocs=J}i.isEmpty(I)||null==c.tags||c.tags.push(I)}}return b.exportAnnotations(a,c),c}}],[{key:"exportAnnotations",value:function(a,b){if(null!=a.annotations&&i.isArray(a.annotations)&&!i.isEmpty(a.annotations)){var c=new m;i.assign(b,c._export(a))}}}]),b}(k);b.exports=u},{"../converters/converter":78,"./oas30AnnotationConverter":95,"./oas30InfoConverter":98,"./oas30Types":104,lodash:74,"oas-raml-converter-model":75}],102:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("lodash"),j=a("oas-raml-converter-model"),k=a("../converters/converter"),l=(j.SecurityDefinition,j.SecurityScope,j.Method,a("./oas30Types")),m=l.OAuthFlows,n=l.OAuthFlow,o=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),h(b,[{key:"export",value:function(a){var b={};if(i.isEmpty(a))return b;for(var c=0;c<a.length;c++){var d=a[c],e=this._export(d);null!=e&&(b[d.schemaName]=e)}return b}},{key:"_export",value:function(a){var c={},d=["type","schemaName","authorization","scopes","signatures","displayName","describedBy","requestTokenUri","tokenUrl","authorizationUrl","name","_in"],e=["oauth2","basic","apiKey"],f=b.createOasDef(a,c,d),g=a.type;if(-1!==e.indexOf(g))f.type=g;else{if("x-"!==g.substr(0,2))return;f.type="apiKey"}switch(f.type){case"basic":f.scheme="basic",f.type="http";break;case"oauth2":if(f.flows=new m,null==a||null==a.authorization||null==a.authorization[0])break;var h={implicit:"implicit",password:"password",application:"clientCredentials",accessCode:"authorizationCode"},j=["implicit","authorizationCode"],k=["clientCredentials","password","authorizationCode"],l=h[a.authorization[0]],o=new n;if(i.includes(j,l)&&(o.authorizationUrl=a.authorizationUrl),i.includes(k,l)&&(o.tokenUrl=a.tokenUrl),o.scopes={},null!=a.scopes)for(var p=a.scopes,q=0;q<p.length;q++){var r=p[q];o.scopes[r.value]=r.description}f.flows[l]=o;break;case"apiKey":var s=a.describedBy;null==s?(f.in="header",f.name=a.schemaName):null==s.headers||i.isEmpty(s.headers)||null==s.headers?null==s.parameters||i.isEmpty(s.parameters)||null==s.parameters||(f.in="query",f.name=s.parameters[0].name):(f.in="header",f.name=s.headers[0].name)}return f}}],[{key:"createOasDef",value:function(a,b,c){var d={};return i.assign(d,a),c.map(function(a){delete d[a]}),i.keys(b).map(function(a){d[b[a]]=d[a],delete d[a]}),d}}]),b}(k);b.exports=o},{"../converters/converter":78,"./oas30Types":104,lodash:74,"oas-raml-converter-model":75}],103:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("lodash"),j=a("oas-raml-converter-model"),k=a("../converters/converter"),l=(j.Trait,j.Method,a("./oas30MethodConverter")),m=a("./oas30Types"),n=(m.Operation,function(a){function b(a,c){d(this,b);var f=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return f.dereferencedAPI=c,f}return f(b,a),h(b,[{key:"export",value:function(a){if(i.isEmpty(a))return{};for(var b={},c=0;c<a.length;c++){var d=a[c];null!=d.method&&(b[d.name]=this._export(d.method))}var e={},f={};for(var g in b)if(b.hasOwnProperty(g)){var h=b[g];for(var j in h.parameters)if(h.parameters.hasOwnProperty(j)){var k=h.parameters[j],l="trait_"+g+"_"+j;e[l]=k}for(var m in h.responses)if(h.responses.hasOwnProperty(m)){var n=h.responses[m],o="trait_"+g+"_"+m;f[o]=n}}return{parameters:e,responses:f}}},{key:"_export",value:function(a){var b=new l(this.model,this.dereferencedAPI,"",this.def),c=b._export(a),d={};if(null!=c.parameters)for(var e=0;e<c.parameters.length;e++){var f=c.parameters[e];null!=f.example&&delete f.example,null==f.hasParams&&(d[f.name]=f)}var g={};if(null!=c.responses)for(var h in c.responses)if(c.responses.hasOwnProperty(h)){var j=c.responses[h];"default"===h||j.hasParams||"default"===h&&null==j.schema&&(null==j.headers||i.isEmpty(j.description))||(g[h]=c.responses[h])}return{parameters:d,responses:g}}}]),b}(k));b.exports=n},{"../converters/converter":78,"./oas30MethodConverter":99,"./oas30Types":104,lodash:74,"oas-raml-converter-model":75}],104:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new f;d(this,a),this.openapi="3.0.0",this.info=b,this.servers=[],this.paths={},this.components=new k};b.exports.Model=e;var f=function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";d(this,a),this.title=b,this.version=c};b.exports.Info=f;var g=function a(){d(this,a)};b.exports.Contact=g;var h=function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";d(this,a),this.name=b};b.exports.License=h;var i=function a(b){d(this,a),this.url=b};b.exports.Server=i;var j=function a(b){d(this,a),this.default=b};b.exports.ServerVariable=j;var k=function a(){d(this,a),this.schemas={},this.responses={},this.parameters={},this.examples={},this.requestBodies={},this.headers={},this.securitySchemes={},this.links={},this.callbacks={}};b.exports.Components=k;var l=function a(){d(this,a)};b.exports.PathItem=l;var m=function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{default:new s("")};d(this,a),this.responses=b};b.exports.Operation=m;var n=function a(b){d(this,a),this.url=b};b.exports.ExternalDocumentation=n;var o=function a(b,c){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];d(this,a),this.name=b,this.in=c,this.required=e};b.exports.Parameter=o;var p=function a(b){d(this,a),this.content=b};b.exports.RequestBody=p;var q=function a(){d(this,a)};b.exports.MediaType=q;var r=function a(){d(this,a)};b.exports.Encoding=r;var s=function a(b){d(this,a),this.description=b};b.exports.Response=s;var t=function a(){d(this,a)};b.exports.Example=t;var u=function a(){d(this,a)};b.exports.Link=u;var v=function a(b){d(this,a),this.required=b};b.exports.Header=v;var w=function a(b){d(this,a),this.name=b};b.exports.Tag=w;var x=function a(b){d(this,a),this.$ref=b};b.exports.Reference=x;var y=function a(b){d(this,a),this.propertyName=b};b.exports.Discriminator=y;var z=function a(){d(this,a)};b.exports.XML=z;var A=function a(b){d(this,a),this.type=b};b.exports.SecurityScheme=A;var B=function a(){d(this,a)};b.exports.OAuthFlows=B;var C=function a(){d(this,a)};b.exports.OAuthFlow=C},{}],105:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(a){return void 0===a?"undefined":g(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":g(a)},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("lodash"),k=a("oas-raml-converter-model"),l=(k.Root,k.Definition),m=k.Annotation,n=a("../converters/converter"),o=a("../raml/ramlCustomAnnotationConverter"),p=a("../helpers/raml"),q=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),i(b,[{key:"_export",value:function(a){for(var b={},c=a.annotations,d=0;d<c.length;d++){var e=c[d];this.exportAnnotation(b,e)}return b}},{key:"exportAnnotation",value:function(a,b){var c="("+b.name+")";if(a[c]=b.definition,b.hasOwnProperty("annotations")&&!j.isEmpty(b.annotations)&&null!=b.annotations)for(var d=b.annotations,e=0;e<d.length;e++){var f=d[e];this.exportAnnotation(a[c],f)}this.def&&o._createAnnotationType(this.def,this.annotationPrefix,b.name,b.definition)}},{key:"_import",value:function(a){var b=[],c=["oas-info","oas-tags-definition","oas-tags"];if("object"===h(a.annotations))for(var d in a.annotations)if(a.annotations.hasOwnProperty(d)&&!j.includes(c,d)){var e=j.isArray(a.annotations)?a.annotations[d].name.replace("(","").replace(")",""):d.replace("(","").replace(")",""),f=j.isArray(a.annotations)?a.annotations[d].definition:a.annotations[d].hasOwnProperty("structuredValue")?a.annotations[d].structuredValue:a.annotations[d];b.push(this.importAnnotation(e,f))}if("object"===h(a.scalarsAnnotations))for(var g in a.scalarsAnnotations)if(a.scalarsAnnotations.hasOwnProperty(g)){var i=a.scalarsAnnotations[g];if("baseUri"===g){var k=this.model.baseUri.annotations?this.model.baseUri.annotations:[];for(var l in i)if(i.hasOwnProperty(l)){var m=i[l];k.push(this.importAnnotation(m.name,i[l].structuredValue)),this.model.baseUri.annotations=k}}}if(!a.hasOwnProperty("annotations")&&!a.hasOwnProperty("scalarAnnotations")){var n=p.getAnnotationPrefix;for(var o in a)if(a.hasOwnProperty(o)){if("object"===h(a[o])&&!j.isEmpty(a[o])){var q=this._import(a[o]);j.isEmpty(q)||(a[o].annotations=q)}o.startsWith(n)&&(b.push(this.importAnnotation(o.substring(1,o.length-1),a[o])),delete a[o])}}return b}},{key:"importAnnotation",value:function(a,b){var c=p.getAnnotationPrefix,d=new m;if(d.name=a,"object"===(void 0===b?"undefined":h(b))){var e=[];for(var f in b)if(b.hasOwnProperty(f)){var g=b[f];f.startsWith(c)&&(e.push(this.importAnnotation(f.substring(1,f.length-1),g)),delete b[f])}j.isEmpty(e)||(d.annotations=e)}if("object"!==(void 0===b?"undefined":h(b))||j.isArray(b)||null==b)d.definition=b;else{var i=new l;j.assign(i,b),d.definition=i}return d}}],[{key:"exportAnnotations",value:function(a,c,d,e,f){if(e.hasOwnProperty("annotations")&&j.isArray(e.annotations)&&!j.isEmpty(e.annotations)){var g=new b(a,c,d);j.assign(f,g._export(e))}}},{key:"importAnnotations",value:function(a,c,d){if(a.hasOwnProperty("annotations")&&!j.isEmpty(a.annotations)||a.hasOwnProperty("scalarsAnnotations")&&!j.isEmpty(a.scalarsAnnotations)){var e=new b(d),f=e._import(a);if(j.isEmpty(f)||(c.annotations=f),c.definition){delete c.definition.annotations}}}}]),b}(n);b.exports=q},{"../converters/converter":78,"../helpers/raml":83,"../raml/ramlCustomAnnotationConverter":108,lodash:74,"oas-raml-converter-model":75}],106:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(a){return void 0===a?"undefined":g(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":g(a)},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("lodash"),k=a("../converters/converter"),l=a("oas-raml-converter-model"),m=(l.Definition,l.AnnotationType),n=a("../raml/ramlDefinitionConverter"),o=a("../helpers/converter"),p=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),i(b,[{key:"export",value:function(a){var b={};if(j.isEmpty(a))return b;for(var c=0;c<a.length;c++){var d=a[c];b[d.name]=this._export(d)}return b}},{key:"_export",value:function(a){var b=new n(this.model,this.annotationPrefix,this.def),c=void 0;if(a.hasOwnProperty("definition")&&"object"===h(a.definition)){var d=a.definition;c=b._export(d),a.hasOwnProperty("required")&&!a.required&&(c.required=a.required),a.hasOwnProperty("displayName")&&(c.displayName=a.displayName),c.hasOwnProperty("allowedTargets")&&j.isArray(c.allowedTargets)&&1===c.allowedTargets.length&&(c.allowedTargets=c.allowedTargets[0])}else"string"==typeof a.definition&&(c={type:a});return c}},{key:"import",value:function(a){var b=[];if(j.isEmpty(a))return b;o.removePropertiesFromObject(a,["typePropertyKind"]);for(var c in a)if(a.hasOwnProperty(c)){var d=a[c],e=Object.keys(d);if(!j.isEmpty(e)&&1===e.length){var f=e[0],g=this._import(d[f]);b.push(g)}}return b}},{key:"_import",value:function(a){var b=new n,c=new m,d=b._import(a);return c.definition=d,d.hasOwnProperty("name")&&(c.name=d.name),a.hasOwnProperty("displayName")&&(c.displayName=a.displayName),j.endsWith(a.type,"?")&&(c.required=!1),c.definition.hasOwnProperty("title")&&delete c.definition.title,c}}]),b}(k);b.exports=p},{"../converters/converter":78,"../helpers/converter":81,"../raml/ramlDefinitionConverter":109,lodash:74,"oas-raml-converter-model":75}],107:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(a){return void 0===a?"undefined":g(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":g(a)},i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("lodash"),k=a("../converters/converter"),l=a("oas-raml-converter-model"),m=l.Root,n=(l.Resource,l.ResourceType,l.Parameter,l.Trait,l.Method,l.Item,l.Body,l.Header,l.Response,window.RAML.Parser),o=a("../raml/ramlRootConverter"),p=a("../raml/ramlSecurityDefinitionConverter"),q=a("../raml/ramlResourceConverter"),r=a("../raml/ramlDefinitionConverter"),s=a("../raml/ramlResourceTypeConverter"),t=a("../raml/ramlTraitConverter"),u=a("../raml/ramlAnnotationTypeConverter"),v=a("../helpers/raml"),w=a("js-yaml"),x=a("fs"),y={serializeMetadata:!1,sourceMap:!0},z=a("../helpers/ramlErrorModel"),A=a("../utils/json"),B=a("path"),C=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),i(b,[{key:"_loadFile",value:function(a,c){var d=this;this.filePath=a;var e=x.readFileSync(a,"utf8");return this.format=b.detectFormat(e),new Promise(function(b,e){n.loadApi(a,k._options(c)).then(function(c){try{var f=c.errors();j.isEmpty(f)||(d.errors=A.parse(f)),d.data=c.expand(!0).toJSON(y),d._removeSourceMapLocalRef(d.data,B.basename(a)),b()}catch(g){e(g)}},function(a){e(a)})})}},{key:"_loadData",value:function(a,c){var d=this;return this.fileContent=a,this.format=b.detectFormat(a),!c||c.hasOwnProperty("attributeDefaults")&&!c.attributeDefaults||(c.attributeDefaults=!1),new Promise(function(b,e){var f=n.parseRAMLSync(a,c);if("Error"===f.name)e();else{var g=f.errors();j.isEmpty(g)||(d.errors=A.parse(g)),d.data=f.expand(!0).toJSON(y),d._removeSourceMapLocalRef(d.data,"#local.raml"),b()}})}},{key:"_removeSourceMapLocalRef",value:function(a,b){!j.isEmpty(a)&&"object"===(void 0===a?"undefined":h(a))&&a.hasOwnProperty("sourceMap")&&a.sourceMap.hasOwnProperty("path")&&("#local.raml"===a.sourceMap.path||a.sourceMap.path===b?delete a.sourceMap:(a.hasOwnProperty("properties")&&this._removeSourceMapRecursive(a.properties,a.sourceMap.path),a.hasOwnProperty("queryParameters")&&this._removeSourceMapRecursive(a.queryParameters,a.sourceMap.path),a.hasOwnProperty("headers")&&this._removeSourceMapRecursive(a.headers,a.sourceMap.path),a.hasOwnProperty("responses")&&this._removeSourceMapRecursive(a.responses,a.sourceMap.path)));for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];"object"===(void 0===d?"undefined":h(d))&&this._removeSourceMapLocalRef(d,b)}}},{key:"_removeSourceMapRecursive",value:function(a,b){for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];"sourceMap"===c&&"object"===(void 0===d?"undefined":h(d))&&d.hasOwnProperty("path")&&d.path===b?delete a[c]:"object"===(void 0===d?"undefined":h(d))&&this._removeSourceMapRecursive(d,b)}}},{key:"export",value:function(a){return new Promise(function(c,d){try{b.fixInheritedProperties(a);var e=new o(a),f={};j.assign(f,e.export(a));var g=new p(a,e.annotationPrefix,f);a.securityDefinitions&&(f.securitySchemes=g.export(a.securityDefinitions));var h=new r(a,e.annotationPrefix,f);a.types&&(f.types=h.export(a.types));var i=new s(a);a.resourceTypes&&(f.resourceTypes=i.export(a.resourceTypes));var k=new t(a,e.annotationPrefix,f);a.traits&&(f.traits=k.export(a)),f.traits&&j.isEmpty(f.traits)&&delete f.traits;var l=new u(a,e.annotationPrefix,f);a.annotationTypes&&(f.annotationTypes=l.export(a.annotationTypes));var m=new q(a,e.annotationPrefix,f);a.resources&&j.merge(f,m.export(a.resources)),c(b.getData(f))}catch(n){d(n)}})}},{key:"import",value:function(a,b){var c=new o(new m);c.version=this.format;var d=c.import(a),e=new p;a.securitySchemes&&(d.securityDefinitions=e.import(a.securitySchemes));var f=new r(d,null,a);f.version=this.format;var g=a.types?a.types:a.schemas;g&&(d.types=f.import(g));var h=new s;h.version=this.format,a.resourceTypes&&(d.resourceTypes=h.import(a.resourceTypes));var i=new t;i.version=this.format,a.traits&&(d.traits=i.import(a.traits));var k=new q(d,null,a);k.version=this.format,a.resources&&(d.resources=k.import(a.resources));var l=new u(d);if(a.annotationTypes&&(d.annotationTypes=l.import(a.annotationTypes)),b&&!j.isEmpty(this.errors))try{var n=new z;this.filePath?n.addErrorNodesFromPath(this.filePath,d,this.errors):n.addErrorNodesFromContent(this.fileContent,d,this.errors)}catch(v){console.log(v)}return d}}],[{key:"detectFormat",value:function(a){if(a)return a=j.trim(a),/#%RAML[\s]*1\.?0?/.test(a)?"RAML10":/#%RAML[\s]*0\.?8?/.test(a)?"RAML08":void 0}},{key:"fixInheritedProperties",value:function(a){var c=[],d=a.resourceTypes,e=a.traits;if(a.hasOwnProperty("resources")&&a.resources){for(var f=a.resources,g=0;g<f.length;g++){var h=f[g];if(h.hasOwnProperty("resourceType")&&h.resourceType&&d)for(var i=h.resourceType,j=function(a){var e=i[a],f=e.name,j=d.filter(function(a){return f===a.name})[0],k=j.resource;if(k&&k.hasOwnProperty("parameters")&&k.parameters)for(var l=k.parameters,m=0;g<l.length;g++){var n=l[m],o={type:"uriParameter",name:n.name,resource:h.path,params:null};c.push(o)}if(k&&k.hasOwnProperty("methods")&&k.methods)for(var p=k.methods,q=0;q<p.length;q++){var r=p[q];b.mapMethodProperties(c,r,null,h.path,r.method,e.value)}},k=0;k<i.length;k++)j(k);if(h.hasOwnProperty("is")&&h.is&&e)for(var l=h.is,m=function(a){var d=l[a],f=d.name,g=e.filter(function(a){return f===a.name})[0];g&&g.method&&b.mapMethodProperties(c,g.method,g.name,h.path,"all",d.value)},k=0;k<l.length;k++)m(k);if(h.hasOwnProperty("methods")&&h.methods)for(var n=h.methods,k=0;k<n.length;k++){var o=n[k];if(o.hasOwnProperty("is")&&o.is&&e)for(var p=o.is,q=function(a){var d=p[a],f=d.name,g=e.filter(function(a){return f===a.name})[0];g&&g.method&&b.mapMethodProperties(c,g.method,g.name,h.path,o.method,d.value)},r=0;r<p.length;r++)q(r)}}for(var s=function(a){var b=c[a],d=f.filter(function(a){return a.path===b.resource})[0];if(d.hasOwnProperty("methods")&&d.methods){var e=d.methods.filter(function(a){return"all"===b.method||a.method===b.method})[0];if("body"===b.type&&e.bodies){for(var g=[],h=0;h<e.bodies.length;h++)g.push(e.bodies[h].mimeType);if(b.name&&g.includes(b.name)&&e.hasOwnProperty("bodies")){e.bodies.splice(g.indexOf(b.name),1)}}else if("header"===b.type&&e.headers){var i=e.headers.map(function(a){return a.name});i.includes(b.name)&&e.headers&&e.headers.splice(i.indexOf(b.name),1)}else if("queryParameter"===b.type&&e.parameters){var j=e.parameters.map(function(a){return a.name});j.includes(b.name)&&e.parameters&&e.parameters.splice(j.indexOf(b.name),1)}else if("uriParameter"===b.type&&d.parameters){var k=d.parameters.map(function(a){return a.name});k.includes(b.name)&&d.parameters&&d.parameters.splice(k.indexOf(b.name),1)}else if("response"===b.type&&e.responses){var l=e.responses.map(function(a){return a.httpStatusCode});l.includes(b.name)&&e.responses&&e.responses.splice(l.indexOf(b.name),1)}}},t=0;t<c.length;t++)s(t)}}},{key:"getData",value:function(a){return"#%RAML 1.0\n"+v.unescapeYamlIncludes(w.dump(JSON.parse(JSON.stringify(a)),{lineWidth:-1}))}},{key:"mapMethodProperties",value:function(a,b,c,d,e,f){if(b.hasOwnProperty("bodies")&&null!=b.bodies)for(var g=b.bodies,h=0;h<g.length;h++){var i=g[h],j={type:"body",trait:c,name:i.mimeType,resource:d,method:e,params:f};a.push(j)}if(b.hasOwnProperty("headers")&&null!=b.headers)for(var k=b.headers,l=0;l<k.length;l++){var m=k[l],n={type:"header",trait:c,name:m.name,resource:d,method:e,params:f};a.push(n)}if(b.hasOwnProperty("parameters")&&null!=b.parameters)for(var o=b.parameters,p=0;p<o.length;p++){var q=o[p],r={type:"queryParameter",trait:c,name:q.name,resource:d,method:e,params:f};a.push(r)}if(b.hasOwnProperty("responses")&&null!=b.responses)for(var s=b.responses,t=0;t<s.length;t++){var u=s[t];if(u.bodies){var v=u.bodies.map(function(a){return a.mimeType}),w={type:"response",name:u.httpStatusCode,resource:d,method:e,mimeTypes:v,params:f};c&&(w.trait=c),a.push(w)}}}}]),b}(k);b.exports=C},{"../converters/converter":78,"../helpers/raml":83,"../helpers/ramlErrorModel":84,"../raml/ramlAnnotationTypeConverter":106,"../raml/ramlDefinitionConverter":109,"../raml/ramlResourceConverter":112,"../raml/ramlResourceTypeConverter":113,"../raml/ramlRootConverter":114,"../raml/ramlSecurityDefinitionConverter":115,"../raml/ramlTraitConverter":116,"../utils/json":119,fs:4,"js-yaml":124,lodash:74,"oas-raml-converter-model":75,path:159}],108:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,null,[{key:"_createAnnotationType",value:function(a,b,c,d){var e=void 0;switch(c){case b+"-allowEmptyValue":e={type:"boolean"};break;case b+"-tags":e={type:"string[]",allowedTargets:"Method"};break;case b+"-deprecated":e={type:"boolean",allowedTargets:"Method"};break;case b+"-summary":e={type:"string",allowedTargets:"Method"};break;case b+"-externalDocs":e={properties:{"description?":"string",url:"string"},allowedTargets:["API","Method","TypeDeclaration"]};break;case b+"-info":e={properties:{"termsOfService?":"string","contact?":{properties:{"name?":"string","url?":"string","email?":"string"}},"license?":{properties:{"name?":"string","url?":"string"}}},allowedTargets:"API"};break;case b+"-schema-title":case b+"-property-title":case b+"-body-name":case b+"-responses-example":e={type:"string",allowedTargets:"TypeDeclaration"};break;case b+"-responses-default":e={type:"any",allowedTargets:"Method"};break;case b+"-global-response-definition":e={type:"any",allowedTargets:"Response"};break;case b+"-definition-name":e={type:"string",allowedTargets:"TypeDeclaration"};break;case b+"-collectionFormat":e={type:"string"};break;case b+"-format":e={type:"string",allowedTargets:"TypeDeclaration"};break;case b+"-readOnly":e={type:"boolean",allowedTargets:"TypeDeclaration"};break;case b+"-responses":e="any";break;case b+"-exclusiveMaximum":case b+"-exclusiveMinimum":e={type:"boolean"};break;case b+"-maximum":case b+"-minimum":e={allowedTargets:"TypeDeclaration",type:"number"};break;case b+"-paths":e={allowedTargets:"API",type:"any"};break;case b+"-tags-definition":e={allowedTargets:"API",type:"array",items:{properties:{name:"string","description?":"string","externalDocs?":{properties:{url:"string","description?":"string"}}}}};break;default:e="any"}null===d&&(e="nil"),a.annotationTypes||(a.annotationTypes={}),a.annotationTypes.hasOwnProperty(c)||(a.annotationTypes[c]=e)}}]),a}();b.exports=f},{}],109:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(a){return void 0===a?"undefined":g(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":g(a)},j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=a("lodash"),l=a("oas-raml-converter-model"),m=l.Definition,n=(l.Root,l.Annotation,a("../converters/converter")),o=a("../helpers/converter"),p=a("../utils/json"),q=a("../utils/array"),r=a("../helpers/raml"),s=a("../utils/strings"),t=a("../utils/xml"),u=a("../raml/ramlAnnotationConverter"),v=a("../raml/ramlCustomAnnotationConverter"),w=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),j(b,[{key:"export",value:function(a){var b={};this.level="type";for(var c=0;c<a.length;c++){var d=a[c],e=d.name,f=s.checkAndReplaceInvalidChars(e,r.getValidCharacters,r.getReplacementCharacter);if(b[f]=this._export(d),e!==f){var g=this.annotationPrefix+"-definition-name";v._createAnnotationType(this.def,this.annotationPrefix,g),b[f]["("+g+")"]=e}}return b}},{key:"_export",value:function(a){if(a.hasOwnProperty("jsonValue"))return a.jsonValue;var c={_enum:"enum",_default:"default"
},d=["name","type","reference","properties","items","compositionType","oneOf","in","schema","additionalProperties","title","items","itemsList","exclusiveMaximum","exclusiveMinimum","readOnly","externalDocs","$schema","annotations","collectionFormat","allowEmptyValue","fileReference","_enum","error","warning","includePath","expanded"],e=b.createRamlDef(a,c,d);if(a.hasOwnProperty("type"))if("object"===i(a.type)&&a.type){var f=a.type;e.type=k.isArray(f)?f:this._export(f)}else if(e.type=a.type,a.hasOwnProperty("format")){var g=this.annotationPrefix+"-format";v._createAnnotationType(this.def,this.annotationPrefix,g),e["("+g+")"]=a.format,delete e.format}if(a.hasOwnProperty("fileReference")&&a.fileReference&&(e.type="!include "+a.fileReference.replace("#/","#")),e.hasOwnProperty("internalType")&&this._convertFromInternalType(e),"string"===e.type||"file"===e.type||a.reference||(e.hasOwnProperty("minLength")&&delete e.minLength,e.hasOwnProperty("maxLength")&&delete e.maxLength),a.hasOwnProperty("items")&&null!=a.items){var h=a.items,j=this._export(h);j&&"object"===(void 0===j?"undefined":i(j))&&j.hasOwnProperty("format")&&"string"===j.format&&(j.type=j.format,delete j.format),"array"!==e.type&&(e.type="array"),e.hasOwnProperty("enum")&&delete e.enum,e.items=j}if(a.hasOwnProperty("itemsList")&&null!=a.itemsList){for(var l=a.itemsList,m=[],n=0;n<l.length;n++){var o=l[n];m.push(this._export(o))}e.items=m}if(a.hasOwnProperty("reference")&&null!=a.reference){var q=a.reference;k.isArray(q)?e.type=q:(void 0===q||i(q),e.type=q),e.type=s.checkAndReplaceInvalidChars(a.reference,r.getValidCharacters,r.getReplacementCharacter)}if(a.hasOwnProperty("_enum")&&null!=a._enum){for(var t=a._enum,w="string"===e.type,y="integer"===e.type||"number"===e.type,z="date-only"===e.type,A=[],B=0;B<t.length;B++){var C=t[B];w?C=C.toString():y?C=Number(C):z&&(C=C.replace("_","-").replace("_","-")),A.push(C)}e.enum=A}if(a.hasOwnProperty("properties")&&null!=a.properties){for(var D=a.properties,E={},F=0;F<D.length;F++){var G=D[F],H=G.name;if(E[H]=this._export(G),a.hasOwnProperty("propsRequired")){if(a.hasOwnProperty("propsRequired")&&null!=a.propsRequired){var I=a.propsRequired;(k.isEmpty(I)||I.indexOf(H)<0)&&(E[H].required=!1)}}else E[H].required=!1}k.isEmpty(E)||(e.properties=E),delete e.propsRequired}if(a.hasOwnProperty("compositionType")&&null!=a.compositionType){for(var J={},K=0;K<a.compositionType.length;K++){var L=a.compositionType[K],M=this._export(L);if(M&&"object"===(void 0===M?"undefined":i(M)))if(M.hasOwnProperty("properties"))delete M.type,k.merge(J,M);else if(J.hasOwnProperty("type")&&M.hasOwnProperty("type")){var N=J.type;"string"==typeof N?J.type=[J.type,M.type]:k.isArray(N)&&(J.type=J.type.concat(M.type)),delete M.type,k.merge(J,M)}else k.assign(J,M)}k.assign(e,J),delete e.compositionType}if(a.hasOwnProperty("oneOf")){for(var O="",P=0;P<a.oneOf.length;P++){O.length>0&&(O=O.concat(" | "));var Q=a.oneOf[P],R=this._export(Q);O=O.concat(R.type)}e.type=O}if(a.hasOwnProperty("schema")&&null!=a.schema){var S=a.schema;e.schema=this._export(S)}if(a.hasOwnProperty("additionalProperties")&&null!=a.additionalProperties)if("object"===i(a.additionalProperties)){var T=a.additionalProperties;e.hasOwnProperty("properties")||(e.properties={}),e.properties["//"]=this._export(T),delete e.additionalProperties}else e.additionalProperties=a.additionalProperties;if(a.hasOwnProperty("example"))if(a.hasOwnProperty("type")&&x.indexOf(a.type)>=0)e.example=k.toNumber(a.example);else{var U=p.parse(a.example);"object"!==(void 0===U?"undefined":i(U))||k.isArray(U)?(k.isNumber(U)&&"string"===e.type&&(U=U.toString()),e.example=U):(e.example=b.exportExample(U,this.model,this.def),"type"!==this.level||e.hasOwnProperty("type")||e.hasOwnProperty("properties")||(e.type="object"))}if(a.hasOwnProperty("exclusiveMaximum")){var V=this.annotationPrefix+"-exclusiveMaximum";v._createAnnotationType(this.def,this.annotationPrefix,V),e["("+V+")"]=a.exclusiveMaximum}if(a.hasOwnProperty("exclusiveMinimum")){var W=this.annotationPrefix+"-exclusiveMinimum";v._createAnnotationType(this.def,this.annotationPrefix,W),e["("+W+")"]=a.exclusiveMinimum}if(a.hasOwnProperty("title")){var X=this.annotationPrefix+"-schema-title";v._createAnnotationType(this.def,this.annotationPrefix,X),e["("+X+")"]=a.title}if(a.hasOwnProperty("readOnly")){var Y=this.annotationPrefix+"-readOnly";v._createAnnotationType(this.def,this.annotationPrefix,Y),e["("+Y+")"]=a.readOnly}if(a.hasOwnProperty("collectionFormat")){var Z=this.annotationPrefix+"-collectionFormat";v._createAnnotationType(this.def,this.annotationPrefix,Z),e["("+Z+")"]=a.collectionFormat}if(a.hasOwnProperty("allowEmptyValue")){var $=this.annotationPrefix+"-allowEmptyValue";v._createAnnotationType(this.def,this.annotationPrefix,$),e["("+$+")"]=a.allowEmptyValue}if(a.hasOwnProperty("externalDocs")){var _=this.annotationPrefix+"-externalDocs";v._createAnnotationType(this.def,this.annotationPrefix,_),e["("+_+")"]=a.externalDocs}if(e.hasOwnProperty("maximum")&&e.maximum&&e.hasOwnProperty("type")&&x.indexOf(e.type)<0&&!a.reference){var aa=this.annotationPrefix+"-maximum";v._createAnnotationType(this.def,this.annotationPrefix,aa),e["("+aa+")"]=e.maximum,delete e.maximum}if(e.hasOwnProperty("minimum")&&e.minimum&&e.hasOwnProperty("type")&&x.indexOf(e.type)<0&&!a.reference){var ba=this.annotationPrefix+"-minimum";v._createAnnotationType(this.def,this.annotationPrefix,ba),e["("+ba+")"]=e.minimum,delete e.minimum}if(a.hasOwnProperty("annotations")&&k.isArray(a.annotations)&&!k.isEmpty(a.annotations)){var ca=new u(this.model,this.annotationPrefix,this.def);k.assign(e,ca._export(a))}return e}},{key:"import",value:function(a){var c=[];if(k.isEmpty(a))return c;if(r.isRaml08Version(this.version))return this.importRAML08(a);o.removePropertiesFromObject(a,["fixedFacets"]);for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];for(var f in e)if(e.hasOwnProperty(f)){var g=e[f];if(g.hasOwnProperty("typePropertyKind")&&"JSON"===g.typePropertyKind){var h=g.schema&&k.isArray(g.schema)?g.schema:g.type,i=b._readTypeAttribute(h),j=p.parse(i);if(j&&j.hasOwnProperty("definitions")){var l=this.import(b._convertMapToArray(j.definitions));c=c.concat(l),delete j.definitions,g.type[0]=p.stringify(j)}var m=this._import(j);m.name=f,m.jsonValue=i,c.push(m)}else{var n=this._import(g);n.name=f,c.push(n)}}}return c}},{key:"importRAML08",value:function(a){var c=[];if(k.isEmpty(a))return c;if(k.isArray(a)&&!k.isEmpty(a))for(var d in a)if(a.hasOwnProperty(d)){var e=a[d],f=k.keys(e)[0];if(!this.types||!this.types.includes(f)){var g=o.isJson(e[f])?JSON.parse(e[f]):e[f];if(g.hasOwnProperty("definitions")){var h=this.importRAML08(b._convertMapToArray(g.definitions));c=c.concat(h),delete g.definitions}t.isXml(g)&&(g={type:g});var i=this._import(g);i.name=f,c.push(i)}}var j=c.map(function(a){return a.name});return this.types=this.types?this.types.concat(j):j,c}},{key:"_import",value:function(a){var c=this,d={default:"_default"};b._convertAnnotations(a);var e=["title","format","maxLength","minLength","exclusiveMaximum","exclusiveMinimum","maximum","minimum","definitions","minProperties","maxProperties","minItems","maxItems","default","uniqueItems","fileTypes"],f=k.concat(e,["name","discriminator","multipleOf","pattern","displayName","default","schemaPath","required","xml","additionalProperties","minItems","maxItems","annotations","allowedTargets","$ref","minProperties","maxProperties"]),g=k.concat(e,["pattern","additionalProperties"]),h=!!a.hasOwnProperty("typePropertyKind")&&"JSON"===a.typePropertyKind,j=a.hasOwnProperty("typePropertyKind")?"INPLACE"===a.typePropertyKind:a.hasOwnProperty("type")&&"object"===i(a.type)&&!k.isArray(a.type),l=r.isRaml08Version(this.version);if(l&&"string"==typeof a&&(a={type:a}),j){var n=void 0;a.hasOwnProperty("type")?(n=p.parse(b._readTypeAttribute(a.type)),"object"===(void 0===n?"undefined":i(n))&&(l?(k.assign(a,n),delete a.type):(delete a.type,k.merge(a,n)))):a.hasOwnProperty("schema")&&(n=b._readTypeAttribute(a.schema),k.assign(a,p.parse(n)),delete a.schema)}var o=l?b.createDefinition(a,d,g):b.createDefinition(a,d,f);if(l&&a.hasOwnProperty("$ref")&&(o.reference=a.$ref.startsWith("http://")?a.$ref:a.$ref.replace("#/schemas/","").replace("#/definitions/","")),a.hasOwnProperty("oneOf")&&(a.oneOf.length>1?a.type="object":a=Object.assign(a,a.oneOf[0]),delete a.oneOf),h)o.jsonValue=b._readTypeAttribute(a.type);else{if(a.hasOwnProperty("schemaPath"))if(a.name.endsWith("/json")){var s=JSON.parse(a.type);k.assign(o,this._import(s))}else o.type="object";else if(a.hasOwnProperty("type")){r.isRaml08Version(this.version)&&k.isArray(a.type)&&k.isEmpty(a.type)&&(a.type="array",a.items={type:"string"});var t=b._readTypeAttribute(a.type);if(k.isArray(t)){var v=[];t.map(function(a){var b=new m;c._convertSimpleType(a,b),v.push(b)}),q.allEqual(v)?k.merge(o,v[0]):o.compositionType=v}else"object"===(void 0===t?"undefined":i(t))||(t.indexOf("|")>-1?this._convertOneOfType(t,o):this._convertSimpleType(t,o))}else a.hasOwnProperty("properties")||a.hasOwnProperty("$ref")||(o.type="string");b._convertToInternalType(o)}if(a.hasOwnProperty("properties")){var w=a.hasOwnProperty("required")&&k.isArray(a.required)?a.required.filter(function(b){return Object.keys(a.properties).includes(b)}):[],x=!k.isEmpty(w),y=[];for(var z in a.properties)if(a.properties.hasOwnProperty(z)){var A=a.properties[z];if(z.startsWith("/")&&z.endsWith("/"))o.additionalProperties=this._import(A);else{w.includes(z)||(x||l||A.hasOwnProperty("required"))&&(!A.hasOwnProperty("required")||!0!==A.required)||w.push(z),k.isBoolean(A.required)&&delete A.required,k.isArray(A)&&function(){var a={name:z,type:[]};A.map(function(c){a.type.push(b._readTypeAttribute(c.type))}),A=a}();var B=this._import(A);B.name=z,y.push(B)}}if("array"!==a.type||a.hasOwnProperty("items"))o.properties=y,k.isEmpty(w)||(o.propsRequired=w);else{var C=new m;C.type="object",C.properties=y,k.isEmpty(w)||(C.propsRequired=w),o.items=C}}if(a.hasOwnProperty("items")){var D=b._readTypeAttribute(a.items);if("string"==typeof D){var E=new m;if(D.endsWith("[]")){E.type="array";var F=new m;this._convertSimpleType(D.replace("[]",""),F),b._convertToInternalType(F),E.items=F}else this._convertSimpleType(D,E),b._convertToInternalType(E);o.items=E}else if(l&&k.isArray(a.items))if(k.isEmpty(a.items)){var G=new m;G.type="string",o.items=G}else if(1===a.items.length){var H=a.items[0];o.items=this._import(H)}else{for(var I=[],J=0;J<a.items.length;J++){var K=this._import(a.items[J]);I.push(K)}k.isEmpty(I)||(o.itemsList=I)}else{var L=b._readTypeAttribute(a.items);o.items=this._import(L)}}if(a.hasOwnProperty("schema"),o.hasOwnProperty("reference")&&o.hasOwnProperty("properties")){var M=[],N=new m;N.reference=o.reference,M.push(N);var O=new m;O.properties=o.properties,O.propsRequired=o.propsRequired?o.propsRequired:[],o.hasOwnProperty("additionalProperties")&&(O.additionalProperties=o.additionalProperties,delete o.additionalProperties),M.push(O),delete o.reference,delete o.properties,delete o.propsRequired,o.compositionType=M}if(a.hasOwnProperty("description")&&!k.isEmpty(a.description)&&"string"==typeof a.description&&(o.description=a.description),a.hasOwnProperty("examples")){for(var P=a.examples,Q=[],R=0;R<P.length;R++){var S=P[R],T=p.parse(S.value);S.hasOwnProperty("strict")&&!S.strict&&(T.strict=S.strict),Q[R]=T}k.isArray(Q)&&(o.examples=Q)}if(a.hasOwnProperty("example")){var U=void 0;if("object"!==i(a.example)||k.isArray(a.example)||k.isEmpty(a.example))U=a.example;else{var V=new u,W=V._import(a.example);k.isEmpty(W)||(a.example.annotations=W),U=a.example}a.hasOwnProperty("structuredExample")&&a.structuredExample.hasOwnProperty("strict")&&!a.structuredExample.strict&&("object"===(void 0===U?"undefined":i(U))?U.strict=a.structuredExample.strict:U={value:o.example,strict:a.structuredExample.strict}),o.example=U}return a.hasOwnProperty("enum")&&"boolean"!==a.type&&(o._enum=a.enum),o.hasOwnProperty("required")&&!o.hasOwnProperty("properties")&&k.isArray(o.required)&&delete o.required,a.hasOwnProperty("sourceMap")&&a.sourceMap.hasOwnProperty("path")&&(o.includePath=a.sourceMap.path,delete a.sourceMap),o}},{key:"_convertSimpleType",value:function(a,b){if("string"==typeof a&&void 0!==a){var c=void 0;if(a.indexOf("|")<0)c=a.replace("(","").replace(")","");else{var d=!0;a.split("|").map(function(a){""!==a&&y.indexOf(a)<0&&(d=!1)}),c=d?"string":"object"}if(c=c.endsWith("?")||t.isXml(c)?"object":c,c.endsWith("[]"))c=c.replace("[]",""),k.assign(b,{type:"array",items:{}}),this._convertSimpleType(c,b.items);else{var e=r.isRaml08Version(this.version);(e?C:B).indexOf(c)<0?e&&this.def&&this.def.schemas&&!this.def.schemas.map(function(a){return k.keys(a)[0]}).includes(c)?b.type="string":b.reference=c:b.type=c}}}},{key:"_convertOneOfType",value:function(a,b){for(var c=a.split("|"),d=[],e=0;e<c.length;e++){var f=c[e];d.push(this._import({type:f.split(" ").join("")}))}b.oneOf=d}},{key:"_convertFromInternalType",value:function(a){if(a.hasOwnProperty("internalType")){var b=a.internalType;if("integer"===b)a.type="integer";else if("number"===b)a.type="number";else if("null"===b)a.type="null";else if("int"===b)a.type="integer",a.format="int";else if("int8"===b)a.type="integer",a.format="int8";else if("int16"===b)a.type="integer",a.format="int16";else if("int32"===b)a.type="integer",a.format="int32";else if("int64"===b)a.type="integer",a.format="int64";else if("float"===b)a.type="number",a.format="float";else if("double"===b)a.type="number",a.format="double";else if("boolean"===b)a.type="boolean";else if("string"===b)a.type="string";else if("byte"===b){a.type="string";var c=this.annotationPrefix+"-format";v._createAnnotationType(this.def,this.annotationPrefix,c),a["("+c+")"]="byte"}else if("binary"===b){a.type="string";var d=this.annotationPrefix+"-format";v._createAnnotationType(this.def,this.annotationPrefix,d),a["("+d+")"]="binary"}else if("password"===b){a.type="string";var e=this.annotationPrefix+"-format";v._createAnnotationType(this.def,this.annotationPrefix,e),a["("+e+")"]="password"}else"file"===b?a.type="file":"dateonly"===b?a.type="date-only":"datetime"===b?a.type="datetime":"timeonly"===b?a.type="time-only":"datetimeonly"===b?a.type="datetime-only":"timestamp"===b?a.type="timestamp":"object"===b?a.type="object":"array"===b&&(a.type="array");delete a.internalType}}}],[{key:"_convertMapToArray",value:function(a){var b=[];for(var c in a)if(a.hasOwnProperty(c)){var d={};d[c]=a[c],b.push(d)}return b}},{key:"createRamlDef",value:function(a,b,c){var d={};return k.assign(d,a),c.map(function(a){delete d[a]}),k.keys(b).map(function(a){var c=d[a];null!=c&&(d[b[a]]=c,delete d[a])}),d}},{key:"createDefinition",value:function(a,b,c){var d={};k.entries(a).map(function(a){var e=h(a,2),f=e[0],g=e[1];(c.indexOf(f)>=0||f.startsWith("("))&&(d[b.hasOwnProperty(f)?b[f]:f]=g)});var e=new m;return k.assign(e,d),e}},{key:"_readTypeAttribute",value:function(a){return k.isArray(a)&&!k.isEmpty(a)&&1===k.size(a)?a[0]:a}},{key:"_convertAnnotations",value:function(a){var b=new u,c=b._import(a);k.isEmpty(c)||(a.annotations=c)}},{key:"_convertToInternalType",value:function(a){var b=a.hasOwnProperty("format"),c=a.type,d=b?a.format:null;"integer"===c&&(a.internalType="integer"),"number"===c&&(a.internalType="number"),"boolean"===c&&(a.internalType="boolean"),"string"!==c||b||(a.internalType="string"),"any"===c&&(a.internalType="string"),"date"===c&&(a.internalType="datetime"),"time-only"===c&&(a.internalType="timeonly"),"datetime"!==c||"rfc3339"!==d&&"rfc2616"!==d&&d?"datetime"===c&&d&&(a.internalType="string"):a.internalType="datetime","datetime-only"===c&&(a.internalType="datetimeonly"),"date-only"===c&&(a.internalType="dateonly"),"file"===c&&(a.internalType="file"),"null"===c&&(a.internalType="null"),"timestamp"===c&&(a.internalType="timestamp"),"object"===c&&(a.internalType="object"),"array"===c&&(a.internalType="array"),a.hasOwnProperty("internalType")&&(delete a.type,("integer"===a.internalType&&!z.includes(d)||"number"===a.internalType&&!A.includes(d))&&delete a.format)}},{key:"exportExample",value:function(a,c,d){var e=a;if(e.hasOwnProperty("annotations")){var f=new u(c,"",d);k.assign(e,f._export(e)),delete e.annotations}for(var g in e)e.hasOwnProperty(g)&&("object"!==i(e[g])||k.isEmpty(e[g])||(e[g]=b.exportExample(e[g],c,d)));return e}}]),b}(n),x=["number","integer"],y=k.concat(x,["string","boolean","datetime","date-only","file","time-only","datetime-only","nil","null","timestamp"]),z=["int","int8","int16","int32","int64"],A=k.concat(z,["long","float","double"]),B=k.concat(y,["any","array","object","union"]),C=k.concat(B,["date"]);b.exports=w},{"../converters/converter":78,"../helpers/converter":81,"../helpers/raml":83,"../raml/ramlAnnotationConverter":105,"../raml/ramlCustomAnnotationConverter":108,"../utils/array":117,"../utils/json":119,"../utils/strings":121,"../utils/xml":123,lodash:74,"oas-raml-converter-model":75}],110:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("lodash"),j=a("oas-raml-converter-model"),k=j.Info,l=j.InfoData,m=a("../converters/converter"),n=a("../helpers/raml"),o=a("../raml/ramlAnnotationConverter"),p=a("../raml/ramlCustomAnnotationConverter"),q=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),h(b,[{key:"export",value:function(a){return i.isEmpty(a)?{}:this._export(a)}},{key:"import",value:function(a){return i.isEmpty(a)?{}:this._import(a)}},{key:"_export",value:function(a){var c={},d=["description","contact","license","termsOfService","version","annotations"],e=b.createRamlDef(a,c,d);if(a.hasOwnProperty("description")&&!i.isEmpty(a.description)&&(e.description=a.description),a.hasOwnProperty("version")&&""!==a.version){var f=parseInt(a.version);e.version=a.version===f.toString()?f:a.version}var g={};if(a.hasOwnProperty("termsOfService")&&(g.termsOfService=a.termsOfService),a.hasOwnProperty("contact")&&null!=a.contact){var h={},j=a.contact;if(j.hasOwnProperty("name")&&(h.name=j.name),j.hasOwnProperty("url")&&(h.url=j.url),j.hasOwnProperty("email")&&(h.email=j.email),j.hasOwnProperty("annotations")&&i.isArray(j.annotations)&&!i.isEmpty(j.annotations)){var k=new o(this.model,this.annotationPrefix,this.def);i.assign(h,k._export(j))}i.isEmpty(h)||(g.contact=h)}if(a.hasOwnProperty("license")&&null!=a.license){var l={},m=a.license;if(m.hasOwnProperty("name")&&(l.name=m.name),m.hasOwnProperty("url")&&(l.url=m.url),m.hasOwnProperty("annotations")&&i.isArray(m.annotations)&&!i.isEmpty(m.annotations)){var n=new o(this.model,this.annotationPrefix,this.def);i.assign(l,n._export(m))}i.isEmpty(l)||(g.license=l)}if(a.hasOwnProperty("annotations")&&i.isArray(a.annotations)&&!i.isEmpty(a.annotations)){var q=new o(this.model,this.annotationPrefix,this.def);i.assign(g,q._export(a))}if(!i.isEmpty(g)){var r=this.annotationPrefix+"-info";e["("+r+")"]=g,this.model.annotationTypes&&this.model.annotationTypes.hasOwnProperty("oas-info")||p._createAnnotationType(e,this.annotationPrefix,r)}return e}},{key:"_import",value:function(a){var b=new k;if(a.hasOwnProperty("title")&&(b.title=a.title),a.hasOwnProperty("description")&&(b.description=a.description),a.hasOwnProperty("version")&&(b.version=a.version),n.isRaml08Version(this.version)&&a.hasOwnProperty("documentation")&&!i.isEmpty(a.documentation)&&!b.description){var c=a.documentation[0];c.hasOwnProperty("content")&&!i.isEmpty(c.content)&&(b.description=c.content)}if(a.hasOwnProperty("annotations")){var d=a.annotations;if(d.hasOwnProperty("oas-info")){var e=d["oas-info"].structuredValue;if(e.hasOwnProperty("termsOfService")&&(b.termsOfService=e.termsOfService,delete e.termsOfService),e.hasOwnProperty("contact")){var f=new l;i.assign(f,e.contact),i.isEmpty(f)||(b.contact=f),delete e.contact}if(e.hasOwnProperty("license")){var g=new l;i.assign(g,e.license),i.isEmpty(g)||(b.license=g),delete e.license}o.importAnnotations({annotations:e},b,this.model)}}return b}}],[{key:"createRamlDef",value:function(a,b,c){var d={};return i.assign(d,a),c.map(function(a){delete d[a]}),i.keys(b).map(function(a){d[b[a]]=d[a],delete d[a]}),d}}]),b}(m);b.exports=q},{"../converters/converter":78,"../helpers/raml":83,"../raml/ramlAnnotationConverter":105,"../raml/ramlCustomAnnotationConverter":108,lodash:74,"oas-raml-converter-model":75}],111:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(a){return void 0===a?"undefined":g(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":g(a)},j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=a("lodash"),l=a("oas-raml-converter-model"),m=(l.Root,l.Resource,l.Method),n=l.Response,o=l.Body,p=l.Parameter,q=l.Item,r=l.Header,s=l.Definition,t=(l.Annotation,l.SecurityRequirement),u=a("../converters/converter"),v=a("../raml/ramlDefinitionConverter"),w=a("../common/parameterConverter"),x=a("../raml/ramlAnnotationConverter"),y=a("../raml/ramlCustomAnnotationConverter"),z=a("../helpers/converter"),A=a("../helpers/raml"),B=a("../utils/json"),C=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),j(b,[{key:"export",value:function(a){var b={};if(k.isEmpty(a))return b;for(var c=0;c<a.length;c++){var d=a[c],e=this._export(d);b[d.method]=k.isEmpty(e)?{}:e}return b}},{key:"_export",value:function(a){var c={name:"displayName"},d=["responses","headers","bodies","formBodies","method","parameters","queryStrings","consumes","usage","path","produces","securedBy","annotations","tags","summary","externalDocs","deprecated","protocols","includePath"],e=b.createRamlDef(a,c,d),f=new v(this.model,this.annotationPrefix,this.def);if(a.hasOwnProperty("is")&&k.isArray(a.is)&&!k.isEmpty(a.is)&&null!=a.is){for(var g=[],h=a.is,i=0;i<h.length;i++){var j=h[i],l=void 0;j.value?(l={},l[j.name]=j.value):l=j.name,g.push(l)}e.is=g}if(a.hasOwnProperty("responses")&&k.isArray(a.responses)&&!k.isEmpty(a.responses)&&null!=a.responses){for(var m={},n=a.responses,o=0;o<n.length;o++){var p=n[o];if(p.hasOwnProperty("httpStatusCode")&&!p.hasOwnProperty("reference")){var q={};if(p.hasOwnProperty("description")&&!k.isEmpty(p.description)&&(q.description=p.description),p.hasOwnProperty("headers")&&p.headers){var r=p.headers;if(k.isArray(r)&&!k.isEmpty(r)){var s=new w(this.model,this.annotationPrefix,this.def,""),t=s.export(r,!0);k.isEmpty(t)||(q.headers=t)}}var u=a.hasOwnProperty("produces")?a.produces:[],z=this.model.hasOwnProperty("mediaType")&&this.model.mediaType.hasOwnProperty("produces")?this.model.mediaType.produces:[],A=k.isEmpty(u)?z:u,B=b.exportBodies(p,f,A,this.model,this.annotationPrefix,this.def),C=B[Object.keys(B)[0]];if(C&&C.hasOwnProperty("examples")){var D=C.examples;if(C.invalidJsonExample||C.type&&"string"!==C.type&&"string"==typeof D){var E=this.annotationPrefix+"-responses-example";y._createAnnotationType(this.def,this.annotationPrefix,E),C["("+E+")"]=C.hasOwnProperty("example")?k.concat(D,C.example):D,delete C.invalidJsonExample}else C.example=C.hasOwnProperty("example")?k.concat(D,C.example):D;delete C.examples}if(k.isEmpty(B)||(q.body=B),p.hasOwnProperty("globalResponseDefinition")){var F=p.globalResponseDefinition,G=this.annotationPrefix+"-global-response-definition";y._createAnnotationType(this.def,this.annotationPrefix,G),q["("+G+")"]=F}x.exportAnnotations(this.model,this.annotationPrefix,this.def,p,q);var H=p.httpStatusCode;if("default"===H){var I=this.annotationPrefix+"-responses-default";y._createAnnotationType(this.def,this.annotationPrefix,I),e["("+I+")"]=q}else H&&(m[H]=k.isEmpty(q)?{}:q)}}k.isEmpty(m)||(e.responses=m)}if(a.hasOwnProperty("headers")&&null!=a.headers){var J=a.headers;if(k.isArray(J)&&!k.isEmpty(J)){var K=new w(this.model,this.annotationPrefix,this.def,""),L=K.export(J,!0);k.isEmpty(L)||(e.headers=L)}}if(a.hasOwnProperty("parameters")&&null!=a.parameters){var M=a.parameters;if(k.isArray(M)&&!k.isEmpty(M)){var N=new w(this.model,this.annotationPrefix,this.def,"query"),O=N.export(M);k.isEmpty(O)||(e.queryParameters=O)}}if(a.hasOwnProperty("queryStrings")&&null!=a.queryStrings){var P=a.queryStrings;if(k.isArray(P)&&!k.isEmpty(P)){var Q=new w(this.model,this.annotationPrefix,this.def,"query"),R=Q.export(P);k.isEmpty(R)||(e.queryString=R.queryString)}}var S=a.hasOwnProperty("consumes")?a.consumes:[],T=this.model.hasOwnProperty("mediaType")&&this.model.mediaType.hasOwnProperty("consumes")?this.model.mediaType.consumes:[],U=k.isEmpty(S)?T:S,V=b.exportBodies(a,f,U,this.model,this.annotationPrefix,this.def);if(k.isEmpty(V)||(e.body=V),a.hasOwnProperty("securedBy")&&(e.securedBy=b.exportSecurityRequirements(a)),a.hasOwnProperty("protocols")&&null!=a.protocols){var W=a.protocols;e.protocols=W.map(function(a){return a.toUpperCase()})}if(a.hasOwnProperty("summary")){var X=this.annotationPrefix+"-summary";y._createAnnotationType(this.def,this.annotationPrefix,X),e["("+X+")"]=a.summary}if(a.hasOwnProperty("tags")){var Y=this.annotationPrefix+"-tags";y._createAnnotationType(this.def,this.annotationPrefix,Y),e["("+Y+")"]=a.tags}if(a.hasOwnProperty("deprecated")&&a.deprecated){var Z=this.annotationPrefix+"-deprecated";y._createAnnotationType(this.def,this.annotationPrefix,Z),e["("+Z+")"]=a.deprecated}if(a.hasOwnProperty("externalDocs")){var $=this.annotationPrefix+"-externalDocs";y._createAnnotationType(this.def,this.annotationPrefix,$),e["("+$+")"]=a.externalDocs}return x.exportAnnotations(this.model,this.annotationPrefix,this.def,a,e),e}},{key:"import",value:function(a){var b=[];if(k.isEmpty(a))return b;for(var c in a)if(a.hasOwnProperty(c)){var d=a[c],e=this._import(d);b.push(e)}return b}},{key:"_import",value:function(a){var c={displayName:"name"},d=["responses","description","headers","body","queryParameters","queryString","name","usage","is","securedBy","baseUriParameters","annotations","protocols","sourceMap"],e=b.createMethod(a,c,d),f=new v(null,null,this.def);f.version=this.version;var g=A.isRaml08Version(this.version);if(a.hasOwnProperty("is")&&k.isArray(a.is)){var h=[];for(var j in a.is)if(a.is.hasOwnProperty(j)){var l=a.is[j];if("string"==typeof l){var m=new q;m.name=l,h.push(m)}else if("object"===(void 0===l?"undefined":i(l))&&null!=l){var o=Object.keys(l)[0],r=new q;r.name=o,r.value=l[o],h.push(r)}}e.is=h}if(a.hasOwnProperty("description")&&!k.isEmpty(a.description)&&(e.description=a.description),a.hasOwnProperty("responses")){var s=[];if(k.isArray(a.responses)){var t={code:"httpStatusCode"};for(var u in a.responses)if(a.responses.hasOwnProperty(u)){var y=a.responses[u],B=b.hasParams(y),C=b.createResponse(a.responses[u],t,[]);B&&(C.hasParams=!0),s.push(C)}}else for(var D in a.responses)if(a.responses.hasOwnProperty(D)){var E=a.responses[D],F=b.hasParams(E),G=new n;G.httpStatusCode=D,E.hasOwnProperty("description")&&(G.description=E.description);var H=b.importHeaders(E);k.isEmpty(H)||(G.headers=H);var I=b.importBodies(E,f,this.model,g);k.isEmpty(I)||(G.bodies=I),x.importAnnotations(E,G,this.model),F&&(G.hasParams=!0),s.push(G)}e.responses=s}var J=b.importHeaders(a);if(k.isEmpty(J)||(e.headers=J),a.hasOwnProperty("queryParameters")){var K=new w(this.model,this.annotationPrefix,this.def,""),L=[];for(var M in a.queryParameters)if(a.queryParameters.hasOwnProperty(M)){var N=a.queryParameters[M];if(!k.isArray(N)){var O=b.hasParams(N),P=K._import(N);P._in="query",O&&(P.hasParams=!0),L.push(P)}}e.parameters=L}if(a.hasOwnProperty("queryString")){var Q=[],R=new p,S=f._import(a.queryString);R.definition=S,b.importRequired(a.queryString,R,g),R._in="query",R.name="queryString",Q.push(R),e.queryStrings=Q}var T=b.importBodies(a,f,this.model,g);if(k.isEmpty(T)||(e.bodies=T),a.hasOwnProperty("body")&&k.isEmpty(e.bodies)){var U=[];for(var V in a.body)if(a.body.hasOwnProperty(V)&&z.getValidFormDataMimeTypes.includes(V)){var W=a.body[V];if(g&&W.hasOwnProperty("formParameters")){for(var X in W.formParameters)if(W.hasOwnProperty("formParameters")){var Y=W.formParameters[X],Z=b.importFormBodies(Y,V,X,f,g);U.push(Z)}}else{var $=b.importFormBodies(W,V,"formData",f,g);U.push($)}}k.isEmpty(U)||(e.formBodies=U)}if(g&&a.hasOwnProperty("baseUriParameters")){var _=new w(this.model,this.annotationPrefix,this.def,"");for(var aa in a.baseUriParameters)if(a.baseUriParameters.hasOwnProperty(aa)){var ba=_._import(a.baseUriParameters[aa]);this.model.baseUriParameters&&this.model.baseUriParameters.push(ba)}}if(a.hasOwnProperty("annotations")&&!k.isEmpty(a.annotations)){if(a.annotations.hasOwnProperty("oas-tags")){var ca=a.annotations["oas-tags"].structuredValue;e.tags=ca,delete a.annotations["oas-tags"]}var da=new x,ea=da._import(a);k.isEmpty(ea)||(e.annotations=ea)}if(a.hasOwnProperty("securedBy")){var fa=b.importSecurityRequirements(a);e.securedBy=fa}if(a.hasOwnProperty("protocols"))if(k.isArray(a.protocols)){var ga=a.protocols.map(function(a){return a.toLowerCase()});e.protocols=ga}else{var ha=[a.protocols.toLowerCase()];e.protocols=ha}return a.hasOwnProperty("sourceMap")&&a.sourceMap.hasOwnProperty("path")&&(e.includePath=a.sourceMap.path),e}}],[{key:"exportSecurityRequirements",value:function(a){var b=[],c=a.securedBy;if(null!=c)for(var d=0;d<c.length;d++){var e=c[d];if(e.hasOwnProperty("scopes")&&!k.isEmpty(e.scopes)){var f=e.scopes,g={};g[e.name]={scopes:f},b.push(g)}else b.push(e.name)}return b}},{key:"exportBodies",value:function(a,c,d,e,f,g){var h={};if(a.hasOwnProperty("bodies")){var i=a.bodies
;if(k.isArray(i)&&!k.isEmpty(i))for(var j=0;j<i.length;j++){var l=i[j],m=l.definition,n={},o=c._export(m);if(l.hasOwnProperty("description")?(n.description=l.description,null!=m&&m.hasOwnProperty("description")?n.schema=o:k.assign(n,o)):k.assign(n,o),n.hasOwnProperty("schema")&&(k.assign(n,n.schema),delete n.schema),b.exportRequired(l,n),l.hasOwnProperty("name")){var p=f+"-body-name";y._createAnnotationType(g,f,p),n["("+p+")"]=l.name}if(x.exportAnnotations(e,f,g,l,n),l.mimeType){var q=l.mimeType;h[q]=n}else if(null!=d){k.isEmpty(d)&&d.push("application/json");for(var r=0;r<d.length;r++)h[d[r]]=n}}}if(a.hasOwnProperty("formBodies")){var s=a.formBodies;if(k.isArray(s)&&!k.isEmpty(s)&&null!=d)for(var t=0;t<s.length;t++){var u=s[t],v=u.definition,w=u.mimeType?u.mimeType:!k.isEmpty(d)&&z.getValidFormDataMimeTypes.includes(d[0])?d[0]:"multipart/form-data",A=c._export(v);u.hasOwnProperty("description")&&(A.description=u.description),b.exportRequired(u,A),x.exportAnnotations(e,f,g,u,A),h[w]||(h[w]={},h[w].properties={}),null!=v&&(h[w].properties[v.name]=A)}}return h}},{key:"exportRequired",value:function(a,b){a.hasOwnProperty("required")&&(b.required=a.required),b.hasOwnProperty("required")&&b.required&&delete b.required}},{key:"createRamlDef",value:function(a,b,c){var d={};return k.assign(d,a),c.map(function(a){delete d[a]}),k.keys(b).map(function(a){var c=d[a];null!=c&&(d[b[a]]=c,delete d[a])}),d}},{key:"createMethod",value:function(a,b,c){var d={};k.entries(a).map(function(a){var e=h(a,2),f=e[0],g=e[1];c.indexOf(f)<0&&!f.startsWith("x-")&&(d[b.hasOwnProperty(f)?b[f]:f]=g)});var e=new m;return k.assign(e,d),e}},{key:"createResponse",value:function(a,b,c){var d={};k.entries(a).map(function(a){var e=h(a,2),f=e[0],g=e[1];c.indexOf(f)<0&&!f.startsWith("x-")&&(d[b.hasOwnProperty(f)?b[f]:f]=g)});var e=new n;return k.assign(e,d),e}},{key:"importSecurityRequirements",value:function(a){var b=[];return a.securedBy.map(function(a){var c=new t;if("object"===(void 0===a?"undefined":i(a))&&null!==a){if(c.name=Object.keys(a)[0],a[c.name].hasOwnProperty("scopes")){var d=a[c.name].scopes;c.scopes=d}}else c.name=a,c.scopes=[];b.push(c)}),b}},{key:"importFormBodies",value:function(a,c,d,e,f){var g=new o;g.mimeType=c;var h=e._import(a);return h.name=d,a.hasOwnProperty("description")&&(g.description=a.description),b.importRequired(a,g,f),a.hasOwnProperty("examples")&&b.importExamples(a,h),g.definition=h,x.importAnnotations(a,g,this.model),g}},{key:"importBodies",value:function(a,c,d,e){var f=[];if(a.hasOwnProperty("body"))for(var g in a.body)if(a.body.hasOwnProperty(g)&&!z.getValidFormDataMimeTypes.includes(g)){var h=a.body[g],j=b.hasParams(h),l=new o;l.mimeType=g,h.hasOwnProperty("description")&&(l.description=h.description,delete h.description),h.hasOwnProperty("type")&&"object"===i(h.type)&&!k.isArray(h.type)&&(h.schema=h.type,delete h.type),null==h.schema&&delete h.schema;var m=h.hasOwnProperty("schema")?h.schema:h;if(e)b.importRaml08Schema(h,l,c,d);else{k.isArray(m)&&(m=z.isJson(m[0])?{type:m,typePropertyKind:"INPLACE"}:{type:m}),m.hasOwnProperty("example")&&!m.example&&m.hasOwnProperty("structuredExample")&&(m.example="string"==typeof m.structuredExample.value?B.parse(m.structuredExample.value):m.structuredExample.value,delete m.structuredExample);var n=c._import(m);l.definition=n}var p=l.definition;if(d&&null!=p&&p.hasOwnProperty("definitions")){var q=d.types?d.types:[],r=q.map(function(a){return a.name}),s=p.definitions;for(var t in s)if(s.hasOwnProperty(t)&&r.indexOf(t)<0){var u=c._import(s[t]);u.name=t,q.push(u)}k.isEmpty(q)||(d.types=q),delete p.definitions}null!=p&&(m.hasOwnProperty("type")||B.parse(m).hasOwnProperty("type")||delete p.internalType,b.importRequired(h,l,e),b.importExamples(h,p)),x.importAnnotations(h,l,this.model),j&&(l.hasParams=!0),f.push(l)}return f}},{key:"importRaml08Schema",value:function(a,b,c,d){var e=new s;if(a.hasOwnProperty("example")&&(e.example=a.example,delete e.examples),a.hasOwnProperty("schema")){var f=B.parse(a.schema),g="string"==typeof f;if(g&&(f={type:f}),z.isJson(f.type)&&(f.typePropertyKind="INPLACE"),e=c._import(f),g){var h=e.type,i=e.internalType,j=d&&d.types?d.types.map(function(a){return a.name}):[];h?(e=new s,e.reference=h):i&&j.includes(i)&&(e=new s,e.reference=i)}a.hasOwnProperty("example")&&(e.example=B.isJson(a.example)?JSON.parse(a.example):a.example)}b.definition=e}},{key:"importHeaders",value:function(a){var c=[];if(a.hasOwnProperty("headers")){var d=new w(this.model,this.annotationPrefix,this.def,"");for(var e in a.headers)if(a.headers.hasOwnProperty(e)){var f=a.headers[e],g=b.hasParams(f),h=d._import(f),i=new r;k.assign(i,h),i._in="header",g&&(i.hasParams=!0),c.push(i)}}return c}},{key:"importRequired",value:function(a,b,c){b.required=a.hasOwnProperty("required")?a.required:!c}},{key:"importExamples",value:function(a,b){var c={};if(a.hasOwnProperty("examples")){for(var d in a.examples)if(a.examples.hasOwnProperty(d)){var e=a.examples[d];c[e.name]=e.structuredValue}delete b.examples}else a.hasOwnProperty("example")&&(c=B.parse(a.example));k.isEmpty(c)||(b.example=c)}},{key:"hasParams",value:function(a){var c=!1,d=/\<<([^)]+)\>>/;for(var e in a){var f=a[e];if("string"==typeof f&&f.match(d)||"number"==typeof f&&isNaN(f))return!0;"object"===(void 0===f?"undefined":i(f))&&(c=b.hasParams(f))}return c}}]),b}(u);b.exports=C},{"../common/parameterConverter":76,"../converters/converter":78,"../helpers/converter":81,"../helpers/raml":83,"../raml/ramlAnnotationConverter":105,"../raml/ramlCustomAnnotationConverter":108,"../raml/ramlDefinitionConverter":109,"../utils/json":119,lodash:74,"oas-raml-converter-model":75}],112:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(a){return void 0===a?"undefined":g(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":g(a)},j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=a("lodash"),l=a("oas-raml-converter-model"),m=(l.Root,l.Resource),n=(l.Method,l.Body,l.Header,l.SecurityRequirement,l.Parameter,l.Item),o=a("../converters/converter"),p=a("../raml/ramlMethodConverter"),q=a("../raml/ramlAnnotationConverter"),r=a("../common/parameterConverter"),s=a("../helpers/converter"),t=a("../helpers/raml"),u=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),j(b,[{key:"export",value:function(a){var c={};if(k.isEmpty(a))return c;for(var d=0;d<a.length;d++){var e=a[d],f=e.path;if(f&&f.startsWith("/")){var g=f.split("/");g.shift();var h=f.substring(f.lastIndexOf("/")),i=this.mapResource(e,c,g,h).result;i&&(c=i)}}return b.reduceResources(c)}},{key:"mapResource",value:function(a,c,d,e){var f=d.shift();if(f="/"+f,k.includes(Object.keys(c),f)){if(d.length>0){var g=this.mapResource(a,c[f],d,e);if(!k.isEmpty(g.uriParameters)){var h=c[f].uriParameters?c[f].uriParameters:{};b.mapUriParameters(g.uriParameters,f,h,c[f])}return{result:c,uriParameters:g.uriParameters}}return{result:void 0}}if(f!==e){var i=this.mapResource(a,{},d,e);if(c[f]=i.result,!k.isEmpty(i.uriParameters)){var j=c[f].uriParameters?c[f].uriParameters:{};b.mapUriParameters(i.uriParameters,f,j,c[f])}return{result:c,uriParameters:i.uriParameters}}var l=this._export(a);return c[f]=l.result,{result:c,uriParameters:l.uriParameters}}},{key:"_export",value:function(a){var c={},d=["path","relativePath","methods","resources","parameters","securedBy","annotations","resourceType","error","warning"],e=b.createRamlDef(a,c,d),f=new p(this.model,this.annotationPrefix,this.def);if(a.hasOwnProperty("is")&&a.is){var g=a.is;if(k.isArray(g)&&!k.isEmpty(g)){for(var h=[],i=0;i<g.length;i++){var j=g[i],l=void 0;j.value?(l={},l[j.name]=j.value):l=j.name,h.push(l)}e.is=h}}if(a.hasOwnProperty("resourceType")&&a.resourceType){var m=a.resourceType;if(k.isArray(m)&&!k.isEmpty(m)){for(var n=[],o=0;o<m.length;o++){var r=m[o],s=void 0;r.value?(s={},s[r.name]=r.value):s=r.name,n.push(s)}e.type=1===n.length?n[0]:n}}var t=a.parameters?a.parameters:[],u=b.exportInheritedParameters(t),v={};if(b.exportUriParameters(a,v,this.model,this.annotationPrefix,this.def),a.hasOwnProperty("methods")&&a.methods){var w=a.methods;if(k.isArray(w)&&!k.isEmpty(w)){for(var x=0;x<w.length;x++){var y=w[x];for(var z in u)if(u.hasOwnProperty(z)){var A=u[z];if(!k.isEmpty(A))switch(z){case"bodies":var B=y.bodies?y.bodies:[];y.bodies=k.concat(B,A);break;case"formBodies":var C=y.formBodies?y.formBodies:[];y.formBodies=k.concat(C,A);break;case"parameters":var D=y.parameters?y.parameters:[];y.parameters=k.concat(D,A);break;case"headers":var E=y.headers?y.headers:[];y.headers=k.concat(E,A)}}b.exportUriParameters(y,v,this.model,this.annotationPrefix,this.def)}var F=f.export(w);for(var G in F)F.hasOwnProperty(G)&&(e[G]=F[G])}}if(k.isEmpty(v)||(b.mapUnusedUriParameters(v,a.path,e),b.mapUriParameters(v,a.relativePath,{},e)),a.hasOwnProperty("resources")&&a.resources){var H=a.resources;if(k.isArray(H)&&!k.isEmpty(H))for(var I=0;I<H.length;I++){var J=H[I],K=J.relativePath;null!=K&&(e[K]=this._export(J).result)}}return q.exportAnnotations(this.model,this.annotationPrefix,this.def,a,e),a.hasOwnProperty("securedBy")&&(e.securedBy=p.exportSecurityRequirements(a)),{result:e,uriParameters:v}}},{key:"import",value:function(a){var b=[];if(k.isEmpty(a))return b;s.removePropertiesFromObject(a,["typePropertyKind","fixedFacets"]);for(var c in a)if(a.hasOwnProperty(c)){var d=a[c],e=this._import(d);if(b.push(e),d.hasOwnProperty("resources")&&k.isArray(d.resources)){var f=this.import(d.resources);b=b.concat(f)}}return b}},{key:"_import",value:function(a){var c={relativeUri:"relativePath"},d=["type","methods","resources","relativeUriPathSegments","uriParameters","baseUriParameters","annotations","absoluteUri","is","securedBy","sourceMap"],e=b.createResource(a,c,d),f=t.isRaml08Version(this.version);if(a.hasOwnProperty("is")&&k.isArray(a.is)){var g=[];for(var h in a.is)if(a.is.hasOwnProperty(h)){var j=a.is[h];if("string"==typeof j){var l=new n;l.name=j,g.push(l)}else if("object"===(void 0===j?"undefined":i(j))){var m=Object.keys(j)[0],o=new n;o.name=m,o.value=j[m],g.push(o)}}e.is=g}if(a.hasOwnProperty("absoluteUri"))if(this.model.baseUri){var s=this.model.baseUri.uri;s.endsWith("/")&&(s=s.substring(0,s.lastIndexOf("/"))),e.path=a.absoluteUri.replace(s,"")}else e.path=a.absoluteUri;if(a.hasOwnProperty("uriParameters")&&!k.isEmpty(a.uriParameters)){var u=new r(this.model,this.annotationPrefix,this.def,""),v=[];for(var w in a.uriParameters)if(a.uriParameters.hasOwnProperty(w)){var x=a.uriParameters[w],y=u._import(x);x.hasOwnProperty("type")||null==y.definition||delete y.definition.internalType,y._in="path",v.push(y)}e.parameters=v}if(f&&a.hasOwnProperty("baseUriParameters")){var z=new r(this.model,this.annotationPrefix,this.def,"");for(var A in a.baseUriParameters)if(a.baseUriParameters.hasOwnProperty(A)){var B=z._import(a.baseUriParameters[A]);this.model.baseUriParameters.push(B)}}if(a.hasOwnProperty("type")){var C=[];if("string"==typeof a.type){var D=new n;D.name=a.type,C.push(D)}else if("object"===i(a.type))for(var E in a.type){var F=new n;F.name=E,F.value=a.type[E],C.push(F)}e.resourceType=C}if(a.hasOwnProperty("methods")&&k.isArray(a.methods)&&!k.isEmpty(a.methods)){var G=new p(this.model,null,this.def);G.version=this.version;for(var H=G.import(a.methods),I=0;I<H.length;I++){H[I].path=e.path}e.methods=H}if(q.importAnnotations(a,e,this.model),a.hasOwnProperty("securedBy")){b.addInheritedSecuredBy(a,a.securedBy);var J=p.importSecurityRequirements(a);e.securedBy=J}return e}}],[{key:"mapUriParameters",value:function(a,b,c,d){var e=b?b.substring(b.lastIndexOf("/")):"";for(var f in a)if(a.hasOwnProperty(f)){var g=a[f];(!b||e.includes(f)&&!Object.keys(c).includes(f))&&(c[f]=g,delete a[f])}k.isEmpty(c)||(d.uriParameters?k.merge(d.uriParameters,c):d.uriParameters=c)}},{key:"mapUnusedUriParameters",value:function(a,b,c){var d={};for(var e in a)a.hasOwnProperty(e)&&(b&&b.includes(e)||(d[e]=a[e],delete a[e]));k.isEmpty(d)||(c.uriParameters?k.merge(c.uriParameters,d):c.uriParameters=d)}},{key:"exportInheritedParameters",value:function(a){for(var b=[],c=[],d=[],e=[],f={bodies:b,formBodies:c,parameters:d,headers:e},g=0;g<a.length;g++){var h=a[g]._in;if("path"!==h){if("body"===h){var i=a[g];f.bodies.push(i)}else if("formData"===h){var j=a[g];f.formBodies.push(j)}else if("query"===h){var k=a[g];f.parameters.push(k)}else if("header"===h){var l=a[g];f.headers.push(l)}delete a[g]}}return f}},{key:"exportUriParameters",value:function(a,b,c,d,e){if(a.hasOwnProperty("parameters")&&k.isArray(a.parameters)&&!k.isEmpty(a.parameters)){var f=new r(c,d,e,"path"),g=f.export(a.parameters);k.isEmpty(g)||k.assign(b,g)}}},{key:"reduceResources",value:function(a){for(var c in a)if(a.hasOwnProperty(c)&&c.startsWith("/")){a[c]=b.reduceResources(a[c]);var d=Object.keys(a[c]);1===d.length&&d[0].startsWith("/")&&(a[c+d[0]]=a[c][d[0]],delete a[c])}return a}},{key:"createRamlDef",value:function(a,b,c){var d={};return k.assign(d,a),c.map(function(a){delete d[a]}),k.keys(b).map(function(a){null!=d[a]&&(d[b[a]]=d[a],delete d[a])}),d}},{key:"createResource",value:function(a,b,c){var d={};k.entries(a).map(function(a){var e=h(a,2),f=e[0],g=e[1];c.indexOf(f)<0&&!f.startsWith("x-")&&(d[b.hasOwnProperty(f)?b[f]:f]=g)});var e=new m;return k.assign(e,d),e}},{key:"addInheritedSecuredBy",value:function(a,c){a.hasOwnProperty("resources")&&a.resources.map(function(a){a.hasOwnProperty("methods")&&a.methods.map(function(a){if(a.hasOwnProperty("securedBy")){var b=a.securedBy;c.map(function(a){k.includes(b,a)||b.push(a)}),a.securedBy=b}else a.securedBy=c}),b.addInheritedSecuredBy(a,c)})}}]),b}(o);b.exports=u},{"../common/parameterConverter":76,"../converters/converter":78,"../helpers/converter":81,"../helpers/raml":83,"../raml/ramlAnnotationConverter":105,"../raml/ramlMethodConverter":111,lodash:74,"oas-raml-converter-model":75}],113:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("lodash"),k=a("oas-raml-converter-model"),l=k.ResourceType,m=k.Resource,n=(k.Method,k.Parameter),o=a("../converters/converter"),p=a("../raml/ramlDefinitionConverter"),q=a("../raml/ramlResourceConverter"),r=a("../raml/ramlMethodConverter"),s=a("../helpers/converter"),t=a("../helpers/raml"),u=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),i(b,[{key:"export",value:function(a){var b={};if(j.isEmpty(a))return b;for(var c=0;c<a.length;c++){var d=a[c];b[d.name]=this._export(d)}return b}},{key:"_export",value:function(a){var c={},d=["name","parameters","methods","resource","includePath"],e=b.createRamlDef(a,c,d),f=new q(this.model);if(a.hasOwnProperty("resource")&&!j.isEmpty(a.resource)){var g=a.resource,h=f._export(g).result;for(var i in h)if(h.hasOwnProperty(i)){var k=h[i];for(var l in k)k.hasOwnProperty(l)&&delete k.displayName;e[i]=k}}return e}},{key:"import",value:function(a){var b=[];if(j.isEmpty(a))return b;s.removePropertiesFromObject(a,["typePropertyKind","structuredExample"]);for(var c in a)if(a.hasOwnProperty(c)){var d=a[c],e=this._import(d);b.push(e)}return b}},{key:"_import",value:function(a){var c={},d=["description","displayName","uriParameters","sourceMap"],e=s.getValidMethods,f=new p,g=new r,h=a[Object.keys(a)[0]],i=b.createResourceType(h,c,d.concat(e));h.hasOwnProperty("sourceMap")&&h.sourceMap.hasOwnProperty("path")&&(i.includePath=h.sourceMap.path);var k=t.isRaml08Version(this.version),l=new m;if(!j.isEmpty(a)){var o=[];for(var q in h)if(h.hasOwnProperty(q)&&e.includes(q)){var u=h[q],v=g._import(u);o.push(v)}if(j.isEmpty(o)||(l.methods=o),h.hasOwnProperty("description")&&(l.description=h.description),h.hasOwnProperty("displayName")&&(l.displayName=h.displayName),h.hasOwnProperty("uriParameters")&&!j.isEmpty(h.uriParameters)){var w=[];for(var x in h.uriParameters)if(h.uriParameters.hasOwnProperty(x)){var y=h.uriParameters[x],z=new n;z._in="path",z.name=k?y.name:x,z.definition=f._import(y),null==z.definition||z.definition.hasOwnProperty("required")||(z.definition.required=!0),w.push(z)}l.parameters=w}j.isEmpty(l)||(i.resource=l)}return i}}],[{key:"createRamlDef",value:function(a,b,c){var d={};return j.assign(d,a),c.map(function(a){delete d[a]}),j.keys(b).map(function(a){d[b[a]]=d[a],delete d[a]}),d}},{key:"createResourceType",value:function(a,b,c){var d={};j.entries(a).map(function(a){var e=h(a,2),f=e[0],g=e[1];c.indexOf(f)<0&&!f.startsWith("x-")&&(d[b.hasOwnProperty(f)?b[f]:f]=g)});var e=new l;return j.assign(e,d),e}}]),b}(o);b.exports=u},{"../converters/converter":78,"../helpers/converter":81,"../helpers/raml":83,"../raml/ramlDefinitionConverter":109,"../raml/ramlMethodConverter":111,"../raml/ramlResourceConverter":112,lodash:74,"oas-raml-converter-model":75}],114:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("lodash"),j=a("oas-raml-converter-model"),k=a("../converters/converter"),l=(j.Info,j.MediaType),m=j.BaseUri,n=j.Root,o=(j.Resource,j.Parameter,j.Header,j.Body,j.Definition,j.Tag),p=j.Item,q=(j.Annotation,j.Response,j.ExternalDocumentation),r=a("../raml/ramlInfoConverter"),s=a("../raml/ramlDefinitionConverter"),t=a("../common/parameterConverter"),u=a("../raml/ramlAnnotationConverter"),v=a("../raml/ramlCustomAnnotationConverter"),w=a("../utils/url"),x=function(a){function b(a){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,"oas"))}return f(b,a),h(b,[{key:"export",value:function(a){return i.isEmpty(a)?{}:this._export(a)}},{key:"_export",value:function(a){var c={},d=["info","baseUri","baseUriParameters","mediaType","protocols","securityDefinitions","resources","types","resourceTypes","annotations","resourceAnnotations","tags","externalDocs","responses","documentation","error","warning"],e=b.createRamlDef(a,c,d);if(a.hasOwnProperty("info")){var f=new r(this.model,this.annotationPrefix,e),g=a.info;i.merge(e,f.export(g))}if(a.hasOwnProperty("tags")&&a.tags){for(var h=a.tags,j=[],k=0;k<h.length;k++){var l=h[k],m={};if(l.hasOwnProperty("name")&&(m.name=l.name),l.hasOwnProperty("description")&&(m.description=l.description),l.hasOwnProperty("externalDocs")){var n=l.externalDocs;m.externalDocs=n}i.isEmpty(m)||j.push(m)}if(!i.isEmpty(j)){var o=this.annotationPrefix+"-tags-definition";v._createAnnotationType(e,this.annotationPrefix,o),e["("+o+")"]=j}}if(a.hasOwnProperty("mediaType")&&a.mediaType){var p=a.mediaType;p.mimeTypes.length>1?e.mediaType=p.mimeTypes:e.mediaType=p.mimeTypes[0]}if(a.hasOwnProperty("protocols")&&a.protocols){for(var q=a.protocols,w=[],x=0;x<q.length;x++){var y=q[x];w.push(y.toUpperCase())}e.protocols=w}if(a.hasOwnProperty("baseUriParameters")&&a.baseUriParameters){var z=a.baseUriParameters;if(i.isArray(z)&&!i.isEmpty(z)){var A=new t(this.model,this.annotationPrefix,this.def,"");e.baseUriParameters=A.export(z)}}if(a.hasOwnProperty("baseUri")&&a.baseUri){var B=a.baseUri;if(B.hasOwnProperty("annotations")){var C=new u(this.model,this.annotationPrefix,e);e.baseUri={value:B.uri},i.assign(e.baseUri,C._export(B))}else e.baseUri=B.uri}if(a.hasOwnProperty("documentation")&&a.documentation){for(var D=a.documentation,E=[],F=0;F<D.length;F++){var G=D[F],H={title:G.name,content:G.value};E.push(H)}e.documentation=E}if(a.hasOwnProperty("responses")&&a.responses){for(var I=a.responses,J={},K=0;K<I.length;K++){var L=I[K],M={};L.hasOwnProperty("description")&&(M.description=L.description);var N={},O=new s;if(L.hasOwnProperty("headers")&&L.headers){for(var P=L.headers,Q=0;Q<P.length;Q++){var R=P[Q],S=R.definition;N[R.name]=O._export(S)}i.isEmpty(N)||(M.headers=N)}if(L.hasOwnProperty("bodies")&&L.bodies)for(var T=L.bodies,U=0;U<T.length;U++){var V=T[U],W=V.definition;M.body=O._export(W)}var X=L.name;X&&(J[X]=M)}if(!i.isEmpty(J)){var Y=this.annotationPrefix+"-responses";v._createAnnotationType(e,this.annotationPrefix,Y),e["("+Y+")"]=J}}if(a.hasOwnProperty("externalDocs")&&a.externalDocs){var Z=a.externalDocs,$=this.annotationPrefix+"-externalDocs";v._createAnnotationType(e,this.annotationPrefix,$);var _={};Z.hasOwnProperty("url")&&(_.url=Z.url),Z.hasOwnProperty("description")&&(_.description=Z.description),u.exportAnnotations(this.model,this.annotationPrefix,e,Z,_),e["("+$+")"]=_}if(a.hasOwnProperty("resourceAnnotations")&&a.resourceAnnotations){var aa=a.resourceAnnotations,ba=this.annotationPrefix+"-paths";v._createAnnotationType(e,this.annotationPrefix,ba);var ca={};u.exportAnnotations(this.model,this.annotationPrefix,e,aa,ca),e["("+ba+")"]=ca}return u.exportAnnotations(this.model,this.annotationPrefix,e,a,e),e}},{key:"import",value:function(a){return i.isEmpty(a)?new n:this._import(a)}},{key:"_import",value:function(a){var b=new n,c=new r(b);if(c.version=this.version,b.info=c.import(a),a.hasOwnProperty("protocols")&&(i.isArray(a.protocols)?b.protocols=a.protocols.map(function(a){return a.toLowerCase()}):b.protocols=[a.protocols.toLowerCase()]),null!=a.baseUri){var d=new m,e=a.baseUri;d.uri=e;var f=w.parseURL(e);if(null!=f.host&&null!=d.uri){var g=f.host,h=d.uri.indexOf(g);null!=d.uri&&"{"!==d.uri.charAt(h+g.length)&&(d.host=g)}if(null!=f.pathname&&"/"!==f.pathname){var j=f.pathname.replace(/%7B/g,"{").replace(/%7D/g,"}");j.startsWith("{")||(d.basePath=j)}null!=f.protocol&&(d.protocol=f.protocol.toLowerCase(),null==b.protocols||null==d.protocol||i.includes(b.protocols,d.protocol)?null==b.protocols&&null!=d.protocol&&(b.protocols=[d.protocol]):b.protocols.push(d.protocol)),b.baseUri=d,u.importAnnotations(a.baseUri,b,b)}if(a.hasOwnProperty("baseUriParameters")&&!i.isEmpty(a.baseUriParameters)){var k=new t(this.model,this.annotationPrefix,this.def,""),s=[];for(var v in a.baseUriParameters)if(a.baseUriParameters.hasOwnProperty(v)){var x=k._import(a.baseUriParameters[v]);s.push(x)}b.baseUriParameters=s}if(a.hasOwnProperty("mediaType")){for(var y=new l,z=i.isArray(a.mediaType)?a.mediaType:[a.mediaType],A=[],B=0;B<z.length;B++){var C=z[B];i.includes(A,C)||A.push(C)}y.mimeTypes=z,i.isEmpty(A)||(y.consumes=A,y.produces=A),b.mediaType=y}if(a.hasOwnProperty("documentation")){for(var D=[],E=0;E<a.documentation.length;E++){var F=a.documentation[E],G=new p;G.name=F.title,G.value=F.content,D.push(G)}b.documentation=D}if(a.hasOwnProperty("annotations")||a.hasOwnProperty("scalarsAnnotations")){var H=a.annotations;if(H.hasOwnProperty("oas-tags-definition")){var I=H["oas-tags-definition"];delete a.annotations["oas-tags-definition"];var J=b.tags?b.tags:[];if(I.hasOwnProperty("structuredValue")){I.structuredValue.map(function(a){var b=new o;if(b.name=a.name,a.hasOwnProperty("description")&&(b.description=a.description),a.hasOwnProperty("externalDocs")){var c=a.externalDocs,d=new q;c.hasOwnProperty("description")&&(d.description=c.description),c.hasOwnProperty("url")&&(d.url=c.url),i.isEmpty(d)||(b.externalDocs=d)}i.isEmpty(b)||J.push(b)})}i.isEmpty(J)||(b.tags=J)}if(H.hasOwnProperty("oas-externalDocs")){var K=H["oas-externalDocs"].structuredValue;delete a.annotations["oas-externalDocs"];var L=new q;K.hasOwnProperty("url")&&(L.url=K.url),K.hasOwnProperty("description")&&(L.description=K.description),i.isEmpty(L)||(b.externalDocs=L)}var M=new u(b),N=M._import(a);i.isEmpty(N)||(b.annotations=N)}return b}}],[{key:"exportAnnotations",value:function(a,b,c,d,e){if(d.hasOwnProperty("annotations")&&i.isArray(d.annotations)&&!i.isEmpty(d.annotations)){var f=new u(a,b,c);i.assign(e,f._export(d))}}},{key:"createRamlDef",value:function(a,b,c){var d={};return i.assign(d,a),c.map(function(a){delete d[a]}),i.keys(b).map(function(a){d[b[a]]=d[a],delete d[a]}),d}}]),b}(k);b.exports=x},{"../common/parameterConverter":76,"../converters/converter":78,"../raml/ramlAnnotationConverter":105,"../raml/ramlCustomAnnotationConverter":108,"../raml/ramlDefinitionConverter":109,"../raml/ramlInfoConverter":110,"../utils/url":122,lodash:74,"oas-raml-converter-model":75}],115:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=a("lodash"),k=a("oas-raml-converter-model"),l=a("../converters/converter"),m=k.SecurityScope,n=(k.Method,k.SecurityDefinition),o=a("../raml/ramlMethodConverter"),p=a("../raml/ramlAnnotationConverter"),q=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),i(b,[{key:"export",value:function(a){var b={};if(j.isEmpty(a))return b;for(var c=0;c<a.length;c++){var d=a[c];b[d.schemaName]=this._export(d)}return b}},{key:"_export",value:function(a){var c={},d=["type","signatures","authorization","authorizationUrl","tokenUrl","scopes","name","_in","requestTokenUri","schemaName","describedBy","annotations"],e=b.createRamlDef(a,c,d),f={};if(a.hasOwnProperty("type")){var g=a.type;switch(g){case"oauth1":e.type="OAuth 1.0",a.hasOwnProperty("requestTokenUri")&&(f.requestTokenUri=a.requestTokenUri),a.hasOwnProperty("authorizationUrl")&&(f.authorizationUri=a.authorizationUrl),a.hasOwnProperty("tokenUrl")&&(f.tokenCredentialsUri=a.tokenUrl),a.hasOwnProperty("signatures")&&(f.signatures=a.signatures);break;case"oauth2":if(e.type="OAuth 2.0",a.hasOwnProperty("authorizationUrl")&&(f.authorizationUri=a.authorizationUrl),a.hasOwnProperty("tokenUrl")&&(f.accessTokenUri=a.tokenUrl),a.hasOwnProperty("authorization")&&a.authorization){for(var h=a.authorization,i=0;i<h.length;i++)switch(h[i]){case"accessCode":h[i]="authorization_code";break;case"application":h[i]="client_credentials"}j.includes(h,"implicit")&&!f.hasOwnProperty("accessTokenUri")&&(f.accessTokenUri=""),f.authorizationGrants=h}if(a.hasOwnProperty("scopes")){f.scopes=[];var k=a.scopes;if(k)for(var l=0;l<k.length;l++){var m=k[l];f.scopes.push(m.value)}j.isEmpty(f.scopes)&&delete f.scopes}break;case"basic":e.type="Basic Authentication";break;case"apiKey":e.type="Pass Through";break;case"digest":e.type="Digest Authentication";break;default:e.type=g}}if(j.isEmpty(f)||(e.settings=f),a.describedBy){var n=new o(this.model),q=a.describedBy,r=n._export(q);delete r.displayName,e.describedBy=r}return p.exportAnnotations(this.model,this.annotationPrefix,this.def,a,e),e}},{key:"import",value:function(a){var b=[];if(j.isEmpty(a))return b;for(var c in a)if(a.hasOwnProperty(c)){var d=Object.keys(a[c])[0],e=a[c][d];e.name=d;var f=this._import(e);b.push(f)}return b}},{key:"_import",value:function(a){var c={name:"schemaName"},d=["type","settings","describedBy","authorizationGrants","sourceMap"],e=b.createSecurityDefinition(a,c,d);if(a.hasOwnProperty("type")){var f=a.type;switch(f){case"OAuth 1.0":e.type="oauth1";break;case"OAuth 2.0":e.type="oauth2";break;case"Pass Through":e.type="apiKey";break;case"Basic Authentication":e.type="basic";break
;case"Digest Authentication":case"DigestSecurityScheme Authentication":e.type="digest";break;default:"x-"===f.substr(0,2)?e.type=f:e.type="x-"+f}}if(a.hasOwnProperty("settings")){var g=a.settings,h={accessTokenUri:"tokenUrl",tokenCredentialsUri:"tokenUrl",authorizationUri:"authorizationUrl",authorizationGrants:"authorization"},i=["scopes","authorizationGrants","sourceMap"],k=b.createSecurityDefinition(g,h,i);if(j.merge(e,k),g.hasOwnProperty("scopes")){var l=[];for(var n in g.scopes)if(g.scopes.hasOwnProperty(n)){var p=new m;p.value=g.scopes[n],p.description="",l.push(p)}e.scopes=l}if(g.hasOwnProperty("authorizationGrants")){for(var q=g.authorizationGrants,r=0;r<q.length;r++)switch(q[r]){case"credentials":case"client_credentials":q[r]="application";break;case"code":case"authorization_code":q[r]="accessCode";break;case"token":q[r]="implicit";break;case"owner":q[r]="password"}e.authorization=q}}if(a.hasOwnProperty("describedBy")){var s=new o,t=s._import(a.describedBy);if(e.describedBy=t,e._in="header",t.hasOwnProperty("headers")&&null!=t.headers){var u=t.headers[0];if(u.hasOwnProperty("definition")&&u.definition){var v=u.definition.name;e.name=v}}else if(t.hasOwnProperty("parameters")&&null!=t.parameters){var w=t.parameters[0];if(w.hasOwnProperty("definition")&&w.definition){var x=w.name;e.name=x}}}return e}}],[{key:"createRamlDef",value:function(a,b,c){var d={};return j.assign(d,a),c.map(function(a){delete d[a]}),j.keys(b).map(function(a){d[b[a]]=d[a],delete d[a]}),d}},{key:"createSecurityDefinition",value:function(a,b,c){var d={};j.entries(a).map(function(a){var e=h(a,2),f=e[0],g=e[1];c.indexOf(f)<0&&!f.startsWith("x-")&&(d[b.hasOwnProperty(f)?b[f]:f]=g)});var e=new n;return j.assign(e,d),e}}]),b}(l);b.exports=q},{"../converters/converter":78,"../raml/ramlAnnotationConverter":105,"../raml/ramlMethodConverter":111,lodash:74,"oas-raml-converter-model":75}],116:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==(void 0===b?"undefined":g(b))&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+(void 0===b?"undefined":g(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("lodash"),j=a("oas-raml-converter-model"),k=j.Trait,l=(j.Method,a("../converters/converter")),m=a("../raml/ramlMethodConverter"),n=a("../helpers/converter"),o=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),h(b,[{key:"export",value:function(a){var b=a.traits,c={};if(i.isEmpty(b))return c;for(var d=0;d<b.length;d++){var e=b[d];c[e.name]=this._export(e)}return c}},{key:"_export",value:function(a){var c={},d=["name","method"],e=b.createRamlDef(a,c,d),f=new m(this.model,this.annotationPrefix,this.def);if(a.hasOwnProperty("method")&&!i.isEmpty(a.method)){var g=a.method,h=f._export(g);delete h.displayName;for(var j in h)h.hasOwnProperty(j)&&(e[j]=h[j])}return e}},{key:"import",value:function(a){var b=[];if(i.isEmpty(a))return b;n.removePropertiesFromObject(a,["typePropertyKind","structuredExample","fixedFacets"]);for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];b.push(this._import(d))}return b}},{key:"_import",value:function(a){var b=new k,c=new m;if(c.version=this.version,!i.isEmpty(a)){var d=Object.keys(a)[0];b.name=d;var e=a[d];e.hasOwnProperty("usage")&&(b.usage=e.usage);var f=c._import(e);i.isEmpty(f)||(b.method=f)}return b}}],[{key:"createRamlDef",value:function(a,b,c){var d={};return i.assign(d,a),c.map(function(a){delete d[a]}),i.keys(b).map(function(a){d[b[a]]=d[a],delete d[a]}),d}}]),b}(l);b.exports=o},{"../converters/converter":78,"../helpers/converter":81,"../raml/ramlMethodConverter":111,lodash:74,"oas-raml-converter-model":75}],117:[function(a,b,c){"use strict";var d=a("lodash");b.exports={allEqual:function(a){return!!a.reduce(function(a,b){return d.isEqual(a,b)?a:NaN})}}},{lodash:74}],118:[function(a,b,c){"use strict";var d=a("lodash");b.exports={isFilePath:function(a){if(d.isEmpty(a))return!1;var b=a.split("/");if(0===b.length)return!1;var c=!1;return b.forEach(function(a){2===a.split(".").length&&(c=!0)}),c}}},{lodash:74}],119:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e="function"==typeof Symbol&&"symbol"===d(Symbol.iterator)?function(a){return void 0===a?"undefined":d(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":d(a)},f=a("lodash"),g=a("json-schema-compatibility");b.exports={parse:function(a){if("string"!=typeof a)return a;try{var b=JSON.parse(a);return"string"==typeof b?this.parse(b):b}catch(c){return a}},stringify:function(a,b){return"string"==typeof a?a:(b||(b=0),JSON.stringify(a,null,b))},format:function(a){if("string"!=typeof a)return"object"===(void 0===a?"undefined":e(a))?this.stringify(a,4):a;var b=this.parse(a);return"string"==typeof b?a:this.stringify(b,4)},toJSON:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=e(a[c]);"function"!==d&&"undefined"!==d&&(b[c]=a[c])}return b},orderByKeys:function(a,b){if(Array.isArray(a)){var c=this;return a.map(function(a){return c.orderByKeys(a,b)})}var d={};for(var e in b)if(b.hasOwnProperty(e)){var f=b[e];a.hasOwnProperty(f)&&(d[f]=a[f])}for(var g in a)a.hasOwnProperty(g)&&(d.hasOwnProperty(g)||(d[g]=a[g]));return d},isEmptySchema:function(a){if(f.isEmpty(a))return!0;var b=a;if("string"==typeof b)try{b=JSON.parse(b)}catch(c){return!0}return!(b&&Object.keys(b).length&&(!b.properties||Object.keys(b.properties).length))||"array"===b.type&&f.isEmpty(b.items)},cleanSchema:function(a){var b=this.parse(a);try{g.v4(b)}catch(c){}return this.stringify(b,4)},isJson:function(a){try{if(!f.startsWith(a,"{")||!f.endsWith(a,"}"))return!1;JSON.parse(a)}catch(b){return!1}return!0}}},{"json-schema-compatibility":18,lodash:74}],120:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.count=0,this.storage={}}return e(a,[{key:"push",value:function(a){this.storage[this.count]=a,this.count++}},{key:"pop",value:function(){if(0!==this.count){this.count--;var a=this.storage[this.count];return delete this.storage[this.count],a}}},{key:"size",value:function(){return this.count}},{key:"isEmpty",value:function(){return 0===this.size()}}],[{key:"create",value:function(b,c){var d=b.split(c).reverse(),e=new a;return d.forEach(function(a){return e.push(a)}),e}}]),a}();b.exports=f},{}],121:[function(a,b,c){"use strict";var d=a("lodash");b.exports={computeOperationId:function(a,b){return a=d.trim(a).toUpperCase(),b=d.trim(b),"/"===b||""===b?a+"_root":a+"_"+d.trim(b,"/").replace(/[{}]/g,"").replace(/[\/.]/g,"-")},computeTraitName:function(a,b){var c="trait:"+d.camelCase(a);return b&&(c+=":"+b),c},computeTraitNameOas30:function(a,b){var c="trait_"+d.camelCase(a);return b&&(c+="_"+b),c},computeResourceDisplayName:function(a){return a.substring(a.lastIndexOf("/")+1)},checkAndReplaceInvalidChars:function(a,b,c){for(var e in a)a.hasOwnProperty(e)&&(b.includes(a[e])||(a=d.replace(a,a[e],c)));return a},sanitise:function(a){var b=a.split("/");return b[0]=b[0].replace(/[^A-Za-z0-9_\-.]+|\s+/gm,"_"),b.join("/")},getIndent:function(a){var b=d.trimStart(a);return a.length-b.length}}},{lodash:74}],122:[function(a,b,c){"use strict";var d=a("request"),e=a("lodash");b.exports={parseURL:function(a){var b=a.indexOf("://"),c=-1!==b?a.substr(0,b):"",d=-1!==b?c.length+3:0,f=a.indexOf("/",d),g=-1!==f?f-d:a.length-d,h=a.substr(d,g),i=-1!==f?a.substr(f):"",j={};if((!e.isEmpty(c)&&c.startsWith("http")||c.startsWith("ws"))&&(j.protocol=c),e.isEmpty(h)||(j.host=h),!e.isEmpty(i)){var k=i.indexOf("?"),l=-1!==k?i.substr(0,k):i,m=l.indexOf("#"),n=-1!==m?l.substr(0,m):l;e.isEmpty(n)||"/"===n||(j.pathname=n)}return j},isURL:function(a){if(!a)throw new Error("Invalid path/url string given.");var b=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%_+.~#?&\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_+.~#?&\/=]*)?/gi,c=new RegExp(b);return a.match(c)},get:function(a){return new Promise(function(b,c){d(a,function(a,d,e){a||200!==d.statusCode?c(a||new Error("Could not fetch remote URL.")):b(e)})})},join:function(a,b){return e.trimEnd(a,"/")+"/"+e.trimStart(b,"/")},isTemplateUri:function(a){var b=decodeURI(a);return-1!==b.indexOf("{")&&-1!==b.indexOf("}")}}},{lodash:74,request:2}],123:[function(a,b,c){"use strict";var d=a("xml2js").parseString;b.exports={isXml:function(a){var b=!1;return d(a,function(a,c){c&&(b=!0)}),b}}},{xml2js:357}],124:[function(a,b,c){arguments[4][41][0].apply(c,arguments)},{"./lib/js-yaml.js":125,dup:41}],125:[function(a,b,c){arguments[4][42][0].apply(c,arguments)},{"./js-yaml/dumper":127,"./js-yaml/exception":128,"./js-yaml/loader":129,"./js-yaml/schema":131,"./js-yaml/schema/core":132,"./js-yaml/schema/default_full":133,"./js-yaml/schema/default_safe":134,"./js-yaml/schema/failsafe":135,"./js-yaml/schema/json":136,"./js-yaml/type":137,dup:42}],126:[function(a,b,c){arguments[4][43][0].apply(c,arguments)},{dup:43}],127:[function(a,b,c){arguments[4][44][0].apply(c,arguments)},{"./common":126,"./exception":128,"./schema/default_full":133,"./schema/default_safe":134,dup:44}],128:[function(a,b,c){arguments[4][45][0].apply(c,arguments)},{dup:45}],129:[function(a,b,c){arguments[4][46][0].apply(c,arguments)},{"./common":126,"./exception":128,"./mark":130,"./schema/default_full":133,"./schema/default_safe":134,dup:46}],130:[function(a,b,c){arguments[4][47][0].apply(c,arguments)},{"./common":126,dup:47}],131:[function(a,b,c){arguments[4][48][0].apply(c,arguments)},{"./common":126,"./exception":128,"./type":137,dup:48}],132:[function(a,b,c){arguments[4][49][0].apply(c,arguments)},{"../schema":131,"./json":136,dup:49}],133:[function(a,b,c){arguments[4][50][0].apply(c,arguments)},{"../schema":131,"../type/js/function":142,"../type/js/regexp":143,"../type/js/undefined":144,"./default_safe":134,dup:50}],134:[function(a,b,c){arguments[4][51][0].apply(c,arguments)},{"../schema":131,"../type/binary":138,"../type/merge":146,"../type/omap":148,"../type/pairs":149,"../type/set":151,"../type/timestamp":153,"./core":132,dup:51}],135:[function(a,b,c){arguments[4][52][0].apply(c,arguments)},{"../schema":131,"../type/map":145,"../type/seq":150,"../type/str":152,dup:52}],136:[function(a,b,c){arguments[4][53][0].apply(c,arguments)},{"../schema":131,"../type/bool":139,"../type/float":140,"../type/int":141,"../type/null":147,"./failsafe":135,dup:53}],137:[function(a,b,c){arguments[4][54][0].apply(c,arguments)},{"./exception":128,dup:54}],138:[function(a,b,c){arguments[4][55][0].apply(c,arguments)},{"../type":137,dup:55}],139:[function(a,b,c){arguments[4][56][0].apply(c,arguments)},{"../type":137,dup:56}],140:[function(a,b,c){arguments[4][57][0].apply(c,arguments)},{"../common":126,"../type":137,dup:57}],141:[function(a,b,c){arguments[4][58][0].apply(c,arguments)},{"../common":126,"../type":137,dup:58}],142:[function(a,b,c){arguments[4][59][0].apply(c,arguments)},{"../../type":137,dup:59}],143:[function(a,b,c){arguments[4][60][0].apply(c,arguments)},{"../../type":137,dup:60}],144:[function(a,b,c){arguments[4][61][0].apply(c,arguments)},{"../../type":137,dup:61}],145:[function(a,b,c){arguments[4][62][0].apply(c,arguments)},{"../type":137,dup:62}],146:[function(a,b,c){arguments[4][63][0].apply(c,arguments)},{"../type":137,dup:63}],147:[function(a,b,c){arguments[4][64][0].apply(c,arguments)},{"../type":137,dup:64}],148:[function(a,b,c){arguments[4][65][0].apply(c,arguments)},{"../type":137,dup:65}],149:[function(a,b,c){arguments[4][66][0].apply(c,arguments)},{"../type":137,dup:66}],150:[function(a,b,c){arguments[4][67][0].apply(c,arguments)},{"../type":137,dup:67}],151:[function(a,b,c){arguments[4][68][0].apply(c,arguments)},{"../type":137,dup:68}],152:[function(a,b,c){arguments[4][69][0].apply(c,arguments)},{"../type":137,dup:69}],153:[function(a,b,c){arguments[4][70][0].apply(c,arguments)},{"../type":137,dup:70}],154:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=Object.prototype.hasOwnProperty,f=Object.prototype.toString,g=Array.prototype.slice,h=a("./isArguments"),i=Object.prototype.propertyIsEnumerable,j=!i.call({toString:null},"toString"),k=i.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],m=function(a){var b=a.constructor;return b&&b.prototype===a},n={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},o=function(){if("undefined"==typeof window)return!1;for(var a in window)try{if(!n["$"+a]&&e.call(window,a)&&null!==window[a]&&"object"===d(window[a]))try{m(window[a])}catch(b){return!0}}catch(b){return!0}return!1}(),p=function(a){if("undefined"==typeof window||!o)return m(a);try{return m(a)}catch(b){return!1}},q=function(a){var b=null!==a&&"object"===(void 0===a?"undefined":d(a)),c="[object Function]"===f.call(a),g=h(a),i=b&&"[object String]"===f.call(a),m=[];if(!b&&!c&&!g)throw new TypeError("Object.keys called on a non-object");var n=k&&c;if(i&&a.length>0&&!e.call(a,0))for(var o=0;o<a.length;++o)m.push(String(o));if(g&&a.length>0)for(var q=0;q<a.length;++q)m.push(String(q));else for(var r in a)n&&"prototype"===r||!e.call(a,r)||m.push(String(r));if(j)for(var s=p(a),t=0;t<l.length;++t)s&&"constructor"===l[t]||!e.call(a,l[t])||m.push(l[t]);return m};q.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var a=Object.keys;Object.keys=function(b){return a(h(b)?g.call(b):b)}}}else Object.keys=q;return Object.keys||q},b.exports=q},{"./isArguments":155}],155:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=Object.prototype.toString;b.exports=function(a){var b=e.call(a),c="[object Arguments]"===b;return c||(c="[object Array]"!==b&&null!==a&&"object"===(void 0===a?"undefined":d(a))&&"number"==typeof a.length&&a.length>=0&&"[object Function]"===e.call(a.callee)),c}},{}],156:[function(a,b,c){"use strict";function d(a){return function(c,d,h,i){var j=[],k="";"string"==typeof c?(j=r.call(arguments),c=d=void 0):"string"==typeof d?(j=r.call(arguments,1),d=void 0):"string"==typeof h&&(j=r.call(arguments,2)),j.length>0&&(k=b.exports.formatter.apply(null,j)),c&&c.message&&(k+=(k?" \n":"")+c.message);var l=new a(k);return e(l,c),f(l),g(l,d),l}}function e(a,b){j(a,b),g(a,b)}function f(a){a.toJSON=h,a.inspect=i}function g(a,b){if(b&&"object"===(void 0===b?"undefined":p(b)))for(var c=Object.keys(b),d=0;d<c.length;d++){var e=c[d];if(!(s.indexOf(e)>=0))try{a[e]=b[e]}catch(f){}}}function h(){var a={},b=Object.keys(this);b=b.concat(t);for(var c=0;c<b.length;c++){var d=b[c],e=this[d],f=void 0===e?"undefined":p(e);"undefined"!==f&&"function"!==f&&(a[d]=e)}return a}function i(){return JSON.stringify(this,null,2).replace(/\\n/g,"\n")}function j(a,b){m(a)?b?n(a,b):o(a):a.stack=b?k(a.stack,b.stack):l(a.stack)}function k(a,b){return a=l(a),a&&b?a+"\n\n"+b:a||b}function l(a){if(a){var b=a.split("\n");if(b.length<2)return a;for(var c=0;c<b.length;c++){if(b[c].indexOf("onoFactory")>=0)return b.splice(c,1),b.join("\n")}return a}}function m(a){if(!u)return!1;var b=Object.getOwnPropertyDescriptor(a,"stack");return!!b&&"function"==typeof b.get}function n(a,b){var c=Object.getOwnPropertyDescriptor(a,"stack");Object.defineProperty(a,"stack",{get:function(){return k(c.get.apply(a),b.stack)},enumerable:!1,configurable:!0})}function o(a){var b=Object.getOwnPropertyDescriptor(a,"stack");Object.defineProperty(a,"stack",{get:function(){return l(b.get.apply(a))},enumerable:!1,configurable:!0})}var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},q=a("format-util"),r=Array.prototype.slice,s=["name","message","stack"],t=["name","message","description","number","code","fileName","lineNumber","columnNumber","sourceURL","line","column","stack"];b.exports=d(Error),b.exports.error=d(Error),b.exports.eval=d(EvalError),b.exports.range=d(RangeError),b.exports.reference=d(ReferenceError),b.exports.syntax=d(SyntaxError),b.exports.type=d(TypeError),b.exports.uri=d(URIError),b.exports.formatter=q;var u=function(){return!(!Object.getOwnPropertyDescriptor||!Object.defineProperty||"undefined"!=typeof navigator&&/Android/.test(navigator.userAgent))}()},{"format-util":12}],157:[function(a,b,c){b.exports={title:"A JSON Schema for OpenAPI 3.0.",id:"http://openapis.org/v3/schema.json#",$schema:"http://json-schema.org/draft-04/schema#",type:"object",description:"This is the root document object of the OpenAPI document.",required:["openapi","info","paths"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{openapi:{type:"string"},info:{$ref:"#/definitions/info"},servers:{type:"array",items:{$ref:"#/definitions/server"},uniqueItems:!0},paths:{$ref:"#/definitions/paths"},components:{$ref:"#/definitions/components"},security:{type:"array",items:{$ref:"#/definitions/securityRequirement"},uniqueItems:!0},tags:{type:"array",items:{$ref:"#/definitions/tag"},uniqueItems:!0},externalDocs:{$ref:"#/definitions/externalDocs"}},definitions:{info:{type:"object",description:"The object provides metadata about the API. The metadata MAY be used by the clients if needed, and MAY be presented in editing or documentation generation tools for convenience.",required:["title","version"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{title:{type:"string"},description:{type:"string"},termsOfService:{type:"string"},contact:{$ref:"#/definitions/contact"},license:{$ref:"#/definitions/license"},version:{type:"string"}}},contact:{type:"object",description:"Contact information for the exposed API.",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{name:{type:"string"},url:{type:"string"},email:{type:"string"}}},license:{type:"object",description:"License information for the exposed API.",required:["name"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{name:{type:"string"},url:{type:"string"}}},server:{type:"object",description:"An object representing a Server.",required:["url"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{url:{type:"string"},description:{type:"string"},variables:{$ref:"#/definitions/serverVariables"}}},serverVariable:{type:"object",description:"An object representing a Server Variable for server URL template substitution.",required:["default"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{enum:{type:"array",items:{type:"string"},uniqueItems:!0},default:{type:"string"},description:{type:"string"}}},components:{type:"object",description:"Holds a set of reusable objects for different aspects of the OAS. All objects defined within the components object will have no effect on the API unless they are explicitly referenced from properties outside the components object.",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{schemas:{$ref:"#/definitions/schemasOrReferences"},responses:{$ref:"#/definitions/responsesOrReferences"},parameters:{$ref:"#/definitions/parametersOrReferences"},examples:{$ref:"#/definitions/examplesOrReferences"},requestBodies:{$ref:"#/definitions/requestBodiesOrReferences"},headers:{$ref:"#/definitions/headersOrReferences"},securitySchemes:{$ref:"#/definitions/securitySchemesOrReferences"},links:{$ref:"#/definitions/linksOrReferences"},callbacks:{$ref:"#/definitions/callbacksOrReferences"}}},paths:{type:"object",description:"Holds the relative paths to the individual endpoints and their operations. The path is appended to the URL from the `Server Object` in order to construct the full URL.  The Paths MAY be empty, due to ACL constraints.",additionalProperties:!1,patternProperties:{"^/":{$ref:"#/definitions/pathItem"},"^x-":{$ref:"#/definitions/specificationExtension"}}},pathItem:{type:"object",description:"Describes the operations available on a single path. A Path Item MAY be empty, due to ACL constraints. The path itself is still exposed to the documentation viewer but they will not know which operations and parameters are available.",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{$ref:{type:"string"},summary:{type:"string"},description:{type:"string"},get:{$ref:"#/definitions/operation"},put:{$ref:"#/definitions/operation"},post:{$ref:"#/definitions/operation"},delete:{$ref:"#/definitions/operation"},options:{$ref:"#/definitions/operation"},head:{$ref:"#/definitions/operation"},patch:{$ref:"#/definitions/operation"},trace:{$ref:"#/definitions/operation"},servers:{type:"array",items:{$ref:"#/definitions/server"},uniqueItems:!0},parameters:{type:"array",items:{$ref:"#/definitions/parameterOrReference"},uniqueItems:!0}}},operation:{type:"object",description:"Describes a single API operation on a path.",required:["responses"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{tags:{type:"array",items:{type:"string"},uniqueItems:!0},summary:{type:"string"},description:{type:"string"},externalDocs:{$ref:"#/definitions/externalDocs"},operationId:{type:"string"},parameters:{type:"array",items:{$ref:"#/definitions/parameterOrReference"},uniqueItems:!0},requestBody:{$ref:"#/definitions/requestBodyOrReference"},responses:{$ref:"#/definitions/responses"},callbacks:{$ref:"#/definitions/callbacksOrReferences"},deprecated:{type:"boolean"},security:{type:"array",items:{$ref:"#/definitions/securityRequirement"},uniqueItems:!0},servers:{type:"array",items:{$ref:"#/definitions/server"},uniqueItems:!0}}},externalDocs:{type:"object",description:"Allows referencing an external resource for extended documentation.",required:["url"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{description:{type:"string"},url:{type:"string"}}},parameter:{type:"object",description:"Describes a single operation parameter.  A unique parameter is defined by a combination of a name and location.",required:["name","in"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{name:{type:"string"},in:{type:"string"},description:{type:"string"},required:{type:"boolean"},deprecated:{type:"boolean"},allowEmptyValue:{type:"boolean"},style:{type:"string"},explode:{type:"boolean"},allowReserved:{type:"boolean"},schema:{$ref:"#/definitions/schemaOrReference"},example:{$ref:"#/definitions/any"},examples:{$ref:"#/definitions/examplesOrReferences"},content:{$ref:"#/definitions/mediaTypes"}}},requestBody:{type:"object",description:"Describes a single request body.",required:["content"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{description:{type:"string"},content:{$ref:"#/definitions/mediaTypes"},required:{type:"boolean"}}},mediaType:{type:"object",description:"Each Media Type Object provides schema and examples for the media type identified by its key.",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{schema:{$ref:"#/definitions/schemaOrReference"},example:{$ref:"#/definitions/any"},examples:{$ref:"#/definitions/examplesOrReferences"},encoding:{$ref:"#/definitions/encodings"}}},encoding:{type:"object",description:"A single encoding definition applied to a single schema property.",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{contentType:{type:"string"},headers:{$ref:"#/definitions/headersOrReferences"},style:{type:"string"},explode:{type:"boolean"},allowReserved:{type:"boolean"}}},responses:{type:"object",description:"A container for the expected responses of an operation. The container maps a HTTP response code to the expected response.  The documentation is not necessarily expected to cover all possible HTTP response codes because they may not be known in advance. However, documentation is expected to cover a successful operation response and any known errors.  The `default` MAY be used as a default response object for all HTTP codes  that are not covered individually by the specification.  The `Responses Object` MUST contain at least one response code, and it  SHOULD be the response for a successful operation call.",additionalProperties:!1,patternProperties:{"^([0-9X]{3})$":{$ref:"#/definitions/responseOrReference"},"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{default:{$ref:"#/definitions/responseOrReference"}}},response:{type:"object",description:"Describes a single response from an API Operation, including design-time, static  `links` to operations based on the response.",required:["description"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{description:{type:"string"},headers:{$ref:"#/definitions/headersOrReferences"},content:{$ref:"#/definitions/mediaTypes"},links:{$ref:"#/definitions/linksOrReferences"}}},callback:{type:"object",description:"A map of possible out-of band callbacks related to the parent operation. Each value in the map is a Path Item Object that describes a set of requests that may be initiated by the API provider and the expected responses. The key value used to identify the callback object is an expression, evaluated at runtime, that identifies a URL to use for the callback operation.",additionalProperties:!1,patternProperties:{"^":{$ref:"#/definitions/pathItem"},"^x-":{$ref:"#/definitions/specificationExtension"}}},example:{type:"object",description:"",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{summary:{type:"string"},description:{type:"string"},value:{$ref:"#/definitions/any"},externalValue:{type:"string"}}},link:{type:"object",description:"The `Link object` represents a possible design-time link for a response. The presence of a link does not guarantee the caller's ability to successfully invoke it, rather it provides a known relationship and traversal mechanism between responses and other operations.  Unlike _dynamic_ links (i.e. links provided **in** the response payload), the OAS linking mechanism does not require link information in the runtime response.  For computing links, and providing instructions to execute them, a runtime expression is used for accessing values in an operation and using them as parameters while invoking the linked operation.",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{operationRef:{type:"string"},operationId:{type:"string"},parameters:{$ref:"#/definitions/anysOrExpressions"},requestBody:{$ref:"#/definitions/anyOrExpression"},description:{type:"string"},server:{$ref:"#/definitions/server"}}},header:{type:"object",description:"The Header Object follows the structure of the Parameter Object with the following changes:  1. `name` MUST NOT be specified, it is given in the corresponding `headers` map. 1. `in` MUST NOT be specified, it is implicitly in `header`. 1. All traits that are affected by the location MUST be applicable to a location of `header` (for example, `style`).",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{description:{type:"string"},required:{type:"boolean"},deprecated:{type:"boolean"},allowEmptyValue:{type:"boolean"},style:{type:"string"},explode:{type:"boolean"},allowReserved:{type:"boolean"},schema:{$ref:"#/definitions/schemaOrReference"},example:{$ref:"#/definitions/any"},examples:{$ref:"#/definitions/examplesOrReferences"},content:{$ref:"#/definitions/mediaTypes"}}},tag:{type:"object",description:"Adds metadata to a single tag that is used by the Operation Object. It is not mandatory to have a Tag Object per tag defined in the Operation Object instances.",required:["name"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{name:{type:"string"},description:{type:"string"},externalDocs:{$ref:"#/definitions/externalDocs"}}},examples:{type:"object",description:"",additionalProperties:!1},reference:{type:"object",description:"A simple object to allow referencing other components in the specification, internally and externally.  The Reference Object is defined by JSON Reference and follows the same structure, behavior and rules.   For this specification, reference resolution is accomplished as defined by the JSON Reference specification and not by the JSON Schema specification.",required:["$ref"],additionalProperties:!1,properties:{$ref:{type:"string"}}},schema:{type:"object",description:"The Schema Object allows the definition of input and output data types. These types can be objects, but also primitives and arrays. This object is an extended subset of the JSON Schema Specification Wright Draft 00.  For more information about the properties, see JSON Schema Core and JSON Schema Validation. Unless stated otherwise, the property definitions follow the JSON Schema.",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{nullable:{type:"boolean"},discriminator:{$ref:"#/definitions/discriminator"},readOnly:{type:"boolean"},writeOnly:{type:"boolean"},xml:{$ref:"#/definitions/xml"},externalDocs:{$ref:"#/definitions/externalDocs"},example:{$ref:"#/definitions/any"},deprecated:{type:"boolean"},title:{$ref:"http://json-schema.org/draft-04/schema#/properties/title"},multipleOf:{$ref:"http://json-schema.org/draft-04/schema#/properties/multipleOf"},maximum:{$ref:"http://json-schema.org/draft-04/schema#/properties/maximum"},exclusiveMaximum:{$ref:"http://json-schema.org/draft-04/schema#/properties/exclusiveMaximum"},minimum:{$ref:"http://json-schema.org/draft-04/schema#/properties/minimum"},exclusiveMinimum:{
$ref:"http://json-schema.org/draft-04/schema#/properties/exclusiveMinimum"},maxLength:{$ref:"http://json-schema.org/draft-04/schema#/properties/maxLength"},minLength:{$ref:"http://json-schema.org/draft-04/schema#/properties/minLength"},pattern:{$ref:"http://json-schema.org/draft-04/schema#/properties/pattern"},maxItems:{$ref:"http://json-schema.org/draft-04/schema#/properties/maxItems"},minItems:{$ref:"http://json-schema.org/draft-04/schema#/properties/minItems"},uniqueItems:{$ref:"http://json-schema.org/draft-04/schema#/properties/uniqueItems"},maxProperties:{$ref:"http://json-schema.org/draft-04/schema#/properties/maxProperties"},minProperties:{$ref:"http://json-schema.org/draft-04/schema#/properties/minProperties"},required:{$ref:"http://json-schema.org/draft-04/schema#/properties/required"},enum:{$ref:"http://json-schema.org/draft-04/schema#/properties/enum"},type:{type:"string"},allOf:{type:"array",items:{$ref:"#/definitions/schemaOrReference"},minItems:1},oneOf:{type:"array",items:{$ref:"#/definitions/schemaOrReference"},minItems:1},anyOf:{type:"array",items:{$ref:"#/definitions/schemaOrReference"},minItems:1},not:{$ref:"#/definitions/schema"},items:{anyOf:[{$ref:"#/definitions/schemaOrReference"},{type:"array",items:{$ref:"#/definitions/schemaOrReference"},minItems:1}]},properties:{type:"object",additionalProperties:{$ref:"#/definitions/schemaOrReference"}},additionalProperties:{oneOf:[{$ref:"#/definitions/schemaOrReference"},{type:"boolean"}]},default:{$ref:"#/definitions/defaultType"},description:{type:"string"},format:{type:"string"}}},discriminator:{type:"object",description:"When request bodies or response payloads may be one of a number of different schemas, a `discriminator` object can be used to aid in serialization, deserialization, and validation.  The discriminator is a specific object in a schema which is used to inform the consumer of the specification of an alternative schema based on the value associated with it.  When using the discriminator, _inline_ schemas will not be considered.",required:["propertyName"],additionalProperties:!1,properties:{propertyName:{type:"string"},mapping:{$ref:"#/definitions/strings"}}},xml:{type:"object",description:"A metadata object that allows for more fine-tuned XML model definitions.  When using arrays, XML element names are *not* inferred (for singular/plural forms) and the `name` property SHOULD be used to add that information. See examples for expected behavior.",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{name:{type:"string"},namespace:{type:"string"},prefix:{type:"string"},attribute:{type:"boolean"},wrapped:{type:"boolean"}}},securityScheme:{type:"object",description:"Defines a security scheme that can be used by the operations. Supported schemes are HTTP authentication, an API key (either as a header or as a query parameter), OAuth2's common flows (implicit, password, application and access code) as defined in RFC6749, and OpenID Connect Discovery.",required:["type"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{type:{type:"string"},description:{type:"string"},name:{type:"string"},in:{type:"string"},scheme:{type:"string"},bearerFormat:{type:"string"},flows:{$ref:"#/definitions/oauthFlows"},openIdConnectUrl:{type:"string"}}},oauthFlows:{type:"object",description:"Allows configuration of the supported OAuth Flows.",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{implicit:{$ref:"#/definitions/oauthFlow"},password:{$ref:"#/definitions/oauthFlow"},clientCredentials:{$ref:"#/definitions/oauthFlow"},authorizationCode:{$ref:"#/definitions/oauthFlow"}}},oauthFlow:{type:"object",description:"Configuration details for a supported OAuth Flow",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/specificationExtension"}},properties:{authorizationUrl:{type:"string"},tokenUrl:{type:"string"},refreshUrl:{type:"string"},scopes:{$ref:"#/definitions/strings"}}},securityRequirement:{type:"object",description:"Lists the required security schemes to execute this operation. The name used for each property MUST correspond to a security scheme declared in the Security Schemes under the Components Object.  Security Requirement Objects that contain multiple schemes require that all schemes MUST be satisfied for a request to be authorized. This enables support for scenarios where multiple query parameters or HTTP headers are required to convey security information.  When a list of Security Requirement Objects is defined on the Open API object or Operation Object, only one of Security Requirement Objects in the list needs to be satisfied to authorize the request.",additionalProperties:!1,patternProperties:{"^[a-zA-Z0-9\\.\\-_]+$":{type:"array",items:{type:"string"},uniqueItems:!0}}},anyOrExpression:{oneOf:[{$ref:"#/definitions/any"},{$ref:"#/definitions/expression"}]},callbackOrReference:{oneOf:[{$ref:"#/definitions/callback"},{$ref:"#/definitions/reference"}]},exampleOrReference:{oneOf:[{$ref:"#/definitions/example"},{$ref:"#/definitions/reference"}]},headerOrReference:{oneOf:[{$ref:"#/definitions/header"},{$ref:"#/definitions/reference"}]},linkOrReference:{oneOf:[{$ref:"#/definitions/link"},{$ref:"#/definitions/reference"}]},parameterOrReference:{oneOf:[{$ref:"#/definitions/parameter"},{$ref:"#/definitions/reference"}]},requestBodyOrReference:{oneOf:[{$ref:"#/definitions/requestBody"},{$ref:"#/definitions/reference"}]},responseOrReference:{oneOf:[{$ref:"#/definitions/response"},{$ref:"#/definitions/reference"}]},schemaOrReference:{oneOf:[{$ref:"#/definitions/schema"},{$ref:"#/definitions/reference"}]},securitySchemeOrReference:{oneOf:[{$ref:"#/definitions/securityScheme"},{$ref:"#/definitions/reference"}]},anysOrExpressions:{type:"object",additionalProperties:{$ref:"#/definitions/anyOrExpression"}},callbacksOrReferences:{type:"object",additionalProperties:{$ref:"#/definitions/callbackOrReference"}},encodings:{type:"object",additionalProperties:{$ref:"#/definitions/encoding"}},examplesOrReferences:{type:"object",additionalProperties:{$ref:"#/definitions/exampleOrReference"}},headersOrReferences:{type:"object",additionalProperties:{$ref:"#/definitions/headerOrReference"}},linksOrReferences:{type:"object",additionalProperties:{$ref:"#/definitions/linkOrReference"}},mediaTypes:{type:"object",additionalProperties:{$ref:"#/definitions/mediaType"}},parametersOrReferences:{type:"object",additionalProperties:{$ref:"#/definitions/parameterOrReference"}},requestBodiesOrReferences:{type:"object",additionalProperties:{$ref:"#/definitions/requestBodyOrReference"}},responsesOrReferences:{type:"object",additionalProperties:{$ref:"#/definitions/responseOrReference"}},schemasOrReferences:{type:"object",additionalProperties:{$ref:"#/definitions/schemaOrReference"}},securitySchemesOrReferences:{type:"object",additionalProperties:{$ref:"#/definitions/securitySchemeOrReference"}},serverVariables:{type:"object",additionalProperties:{$ref:"#/definitions/serverVariable"}},strings:{type:"object",additionalProperties:{type:"string"}},object:{type:"object",additionalProperties:!0},any:{additionalProperties:!0},expression:{type:"object",additionalProperties:!0},specificationExtension:{description:"Any property starting with x- is valid.",oneOf:[{type:"null"},{type:"number"},{type:"boolean"},{type:"string"},{type:"object"},{type:"array"}]},defaultType:{oneOf:[{type:"null"},{type:"array"},{type:"object"},{type:"number"},{type:"boolean"},{type:"string"}]}}}},{}],158:[function(a,b,c){c.endianness=function(){return"LE"},c.hostname=function(){return"undefined"!=typeof location?location.hostname:""},c.loadavg=function(){return[]},c.uptime=function(){return 0},c.freemem=function(){return Number.MAX_VALUE},c.totalmem=function(){return Number.MAX_VALUE},c.cpus=function(){return[]},c.type=function(){return"Browser"},c.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},c.networkInterfaces=c.getNetworkInterfaces=function(){return{}},c.arch=function(){return"javascript"},c.platform=function(){return"browser"},c.tmpdir=c.tmpDir=function(){return"/tmp"},c.EOL="\n"},{}],159:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;i<g;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return b<0&&(b=a.length+b),a.substr(b,c)}}).call(this,a("_process"))},{_process:161}],160:[function(a,b,c){(function(a){"use strict";function c(b,c,d,e){if("function"!=typeof b)throw new TypeError('"callback" argument must be a function');var f,g,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(b);case 2:return a.nextTick(function(){b.call(null,c)});case 3:return a.nextTick(function(){b.call(null,c,d)});case 4:return a.nextTick(function(){b.call(null,c,d,e)});default:for(f=new Array(h-1),g=0;g<f.length;)f[g++]=arguments[g];return a.nextTick(function(){b.apply(null,f)})}}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?b.exports=c:b.exports=a.nextTick}).call(this,a("_process"))},{_process:161}],161:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],162:[function(b,c,d){(function(b){!function(e){function f(a){throw new RangeError(I[a])}function g(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function h(a,b){var c=a.split("@"),d="";return c.length>1&&(d=c[0]+"@",a=c[1]),a=a.replace(H,"."),d+g(a.split("."),b).join(".")}function i(a){for(var b,c,d=[],e=0,f=a.length;e<f;)b=a.charCodeAt(e++),b>=55296&&b<=56319&&e<f?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function j(a){return g(a,function(a){var b="";return a>65535&&(a-=65536,b+=L(a>>>10&1023|55296),a=56320|1023&a),b+=L(a)}).join("")}function k(a){return a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:x}function l(a,b){return a+22+75*(a<26)-((0!=b)<<5)}function m(a,b,c){var d=0;for(a=c?K(a/B):a>>1,a+=K(a/b);a>J*z>>1;d+=x)a=K(a/J);return K(d+(J+1)*a/(a+A))}function n(a){var b,c,d,e,g,h,i,l,n,o,p=[],q=a.length,r=0,s=D,t=C;for(c=a.lastIndexOf(E),c<0&&(c=0),d=0;d<c;++d)a.charCodeAt(d)>=128&&f("not-basic"),p.push(a.charCodeAt(d));for(e=c>0?c+1:0;e<q;){for(g=r,h=1,i=x;e>=q&&f("invalid-input"),l=k(a.charCodeAt(e++)),(l>=x||l>K((w-r)/h))&&f("overflow"),r+=l*h,n=i<=t?y:i>=t+z?z:i-t,!(l<n);i+=x)o=x-n,h>K(w/o)&&f("overflow"),h*=o;b=p.length+1,t=m(r-g,b,0==g),K(r/b)>w-s&&f("overflow"),s+=K(r/b),r%=b,p.splice(r++,0,s)}return j(p)}function o(a){var b,c,d,e,g,h,j,k,n,o,p,q,r,s,t,u=[];for(a=i(a),q=a.length,b=D,c=0,g=C,h=0;h<q;++h)(p=a[h])<128&&u.push(L(p));for(d=e=u.length,e&&u.push(E);d<q;){for(j=w,h=0;h<q;++h)(p=a[h])>=b&&p<j&&(j=p);for(r=d+1,j-b>K((w-c)/r)&&f("overflow"),c+=(j-b)*r,b=j,h=0;h<q;++h)if(p=a[h],p<b&&++c>w&&f("overflow"),p==b){for(k=c,n=x;o=n<=g?y:n>=g+z?z:n-g,!(k<o);n+=x)t=k-o,s=x-o,u.push(L(l(o+t%s,0))),k=K(t/s);u.push(L(l(k,0))),g=m(c,r,d==e),c=0,++d}++c,++b}return u.join("")}function p(a){return h(a,function(a){return F.test(a)?n(a.slice(4).toLowerCase()):a})}function q(a){return h(a,function(a){return G.test(a)?"xn--"+o(a):a})}var r="object"==typeof d&&d&&!d.nodeType&&d,s="object"==typeof c&&c&&!c.nodeType&&c,t="object"==typeof b&&b;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var u,v,w=2147483647,x=36,y=1,z=26,A=38,B=700,C=72,D=128,E="-",F=/^xn--/,G=/[^\x20-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=x-y,K=Math.floor,L=String.fromCharCode;if(u={version:"1.4.1",ucs2:{decode:i,encode:j},decode:n,encode:o,toASCII:q,toUnicode:p},"function"==typeof a&&"object"==typeof a.amd&&a.amd)a("punycode",function(){return u});else if(r&&s)if(c.exports==r)s.exports=u;else for(v in u)u.hasOwnProperty(v)&&(r[v]=u[v]);else e.punycode=u}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],163:[function(a,b,c){"use strict";function d(a,b){return Object.prototype.hasOwnProperty.call(a,b)}b.exports=function(a,b,c,f){b=b||"&",c=c||"=";var g={};if("string"!=typeof a||0===a.length)return g;var h=/\+/g;a=a.split(b);var i=1e3;f&&"number"==typeof f.maxKeys&&(i=f.maxKeys);var j=a.length;i>0&&j>i&&(j=i);for(var k=0;k<j;++k){var l,m,n,o,p=a[k].replace(h,"%20"),q=p.indexOf(c);q>=0?(l=p.substr(0,q),m=p.substr(q+1)):(l=p,m=""),n=decodeURIComponent(l),o=decodeURIComponent(m),d(g,n)?e(g[n])?g[n].push(o):g[n]=[g[n],o]:g[n]=o}return g};var e=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],164:[function(a,b,c){"use strict";function d(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=function(a){switch(void 0===a?"undefined":e(a)){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};b.exports=function(a,b,c,i){return b=b||"&",c=c||"=",null===a&&(a=void 0),"object"===(void 0===a?"undefined":e(a))?d(h(a),function(e){var h=encodeURIComponent(f(e))+c;return g(a[e])?d(a[e],function(a){return h+encodeURIComponent(f(a))}).join(b):h+encodeURIComponent(f(a[e]))}).join(b):i?encodeURIComponent(f(i))+c+encodeURIComponent(f(a)):""};var g=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},h=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],165:[function(a,b,c){"use strict";c.decode=c.parse=a("./decode"),c.encode=c.stringify=a("./encode")},{"./decode":163,"./encode":164}],166:[function(a,b,c){(function(a,b){"use strict";var c,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(c){!function(a){function e(a,b){return function(c,d){"function"!=typeof a[c]&&Object.defineProperty(a,c,{configurable:!0,writable:!0,value:d}),b&&b(c,d)}}var f="object"===(void 0===b?"undefined":d(b))?b:"object"===("undefined"==typeof self?"undefined":d(self))?self:"object"===d(this)?this:Function("return this;")(),g=e(c);void 0===f.Reflect?f.Reflect=c:g=e(f.Reflect,g),a(g)}(function(b){function c(a,b,c,d){if(y(c)){if(!H(a))throw new TypeError;if(!J(b))throw new TypeError;return n(a,b)}if(!H(a))throw new TypeError;if(!B(b))throw new TypeError;if(!B(d)&&!y(d)&&!z(d))throw new TypeError;return z(d)&&(d=void 0),c=G(c),o(a,b,c,d)}function e(a,b){function c(c,d){if(!B(c))throw new TypeError;if(!y(d)&&!K(d))throw new TypeError;u(a,b,c,d)}return c}function f(a,b,c,d){if(!B(c))throw new TypeError;return y(d)||(d=G(d)),u(a,b,c,d)}function g(a,b,c){if(!B(b))throw new TypeError;return y(c)||(c=G(c)),q(a,b,c)}function h(a,b,c){if(!B(b))throw new TypeError;return y(c)||(c=G(c)),r(a,b,c)}function i(a,b,c){if(!B(b))throw new TypeError;return y(c)||(c=G(c)),s(a,b,c)}function j(a,b,c){if(!B(b))throw new TypeError;return y(c)||(c=G(c)),t(a,b,c)}function k(a,b){if(!B(a))throw new TypeError;return y(b)||(b=G(b)),v(a,b)}function l(a,b){if(!B(a))throw new TypeError;return y(b)||(b=G(b)),w(a,b)}function m(a,b,c){if(!B(b))throw new TypeError;y(c)||(c=G(c));var d=p(b,c,!1);if(y(d))return!1;if(!d.delete(a))return!1;if(d.size>0)return!0;var e=ga.get(b);return e.delete(c),e.size>0||(ga.delete(b),!0)}function n(a,b){for(var c=a.length-1;c>=0;--c){var d=a[c],e=d(b);if(!y(e)&&!z(e)){if(!J(e))throw new TypeError;b=e}}return b}function o(a,b,c,d){for(var e=a.length-1;e>=0;--e){var f=a[e],g=f(b,c,d);if(!y(g)&&!z(g)){if(!B(g))throw new TypeError;d=g}}return d}function p(a,b,c){var d=ga.get(a);if(y(d)){if(!c)return;d=new da,ga.set(a,d)}var e=d.get(b);if(y(e)){if(!c)return;e=new da,d.set(b,e)}return e}function q(a,b,c){if(r(a,b,c))return!0;var d=Q(b);return!z(d)&&q(a,d,c)}function r(a,b,c){var d=p(b,c,!1);return!y(d)&&E(d.has(a))}function s(a,b,c){if(r(a,b,c))return t(a,b,c);var d=Q(b);return z(d)?void 0:s(a,d,c)}function t(a,b,c){var d=p(b,c,!1);if(!y(d))return d.get(a)}function u(a,b,c,d){p(c,d,!0).set(a,b)}function v(a,b){var c=w(a,b),d=Q(a);if(null===d)return c;var e=v(d,b);if(e.length<=0)return c;if(c.length<=0)return e;for(var f=new ea,g=[],h=0,i=c;h<i.length;h++){var j=i[h],k=f.has(j);k||(f.add(j),g.push(j))}for(var l=0,m=e;l<m.length;l++){var j=m[l],k=f.has(j);k||(f.add(j),g.push(j))}return g}function w(a,b){var c=[],d=p(a,b,!1);if(y(d))return c;for(var e=d.keys(),f=M(e),g=0;;){var h=O(f);if(!h)return c.length=g,c;var i=N(h);try{c[g]=i}catch(j){try{P(f)}finally{throw j}}g++}}function x(a){if(null===a)return 1;switch(void 0===a?"undefined":d(a)){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===a?1:6;default:return 6}}function y(a){return void 0===a}function z(a){return null===a}function A(a){return"symbol"===(void 0===a?"undefined":d(a))}function B(a){return"object"===(void 0===a?"undefined":d(a))?null!==a:"function"==typeof a}function C(a,b){switch(x(a)){case 0:case 1:case 2:case 3:case 4:case 5:return a}var c=3===b?"string":5===b?"number":"default",d=L(a,X);if(void 0!==d){var e=d.call(a,c);if(B(e))throw new TypeError;return e}return D(a,"default"===c?"number":c)}function D(a,b){if("string"===b){var c=a.toString;if(I(c)){var d=c.call(a);if(!B(d))return d}var e=a.valueOf;if(I(e)){var d=e.call(a);if(!B(d))return d}}else{var e=a.valueOf;if(I(e)){var d=e.call(a);if(!B(d))return d}var f=a.toString;if(I(f)){var d=f.call(a);if(!B(d))return d}}throw new TypeError}function E(a){return!!a}function F(a){return""+a}function G(a){var b=C(a,3);return A(b)?b:F(b)}function H(a){return Array.isArray?Array.isArray(a):a instanceof Object?a instanceof Array:"[object Array]"===Object.prototype.toString.call(a)}function I(a){return"function"==typeof a}function J(a){return"function"==typeof a}function K(a){switch(x(a)){case 3:case 4:return!0;default:return!1}}function L(a,b){var c=a[b];if(void 0!==c&&null!==c){if(!I(c))throw new TypeError;return c}}function M(a){var b=L(a,Y);if(!I(b))throw new TypeError;var c=b.call(a);if(!B(c))throw new TypeError;return c}function N(a){return a.value}function O(a){var b=a.next();return!b.done&&b}function P(a){var b=a.return;b&&b.call(a)}function Q(a){var b=Object.getPrototypeOf(a);if("function"!=typeof a||a===ba)return b;if(b!==ba)return b;var c=a.prototype,d=c&&Object.getPrototypeOf(c);if(null==d||d===Object.prototype)return b;var e=d.constructor;return"function"!=typeof e?b:e===a?b:e}function R(){function a(a,b){return a}function b(a,b){return b}function c(a,b){return[a,b]}var d={},e=[],f=function(){function a(a,b,c){this._index=0,this._keys=a,this._values=b,this._selector=c}return a.prototype["@@iterator"]=function(){return this},a.prototype[Y]=function(){return this},a.prototype.next=function(){var a=this._index;if(a>=0&&a<this._keys.length){var b=this._selector(this._keys[a],this._values[a]);return a+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:b,done:!1}}return{value:void 0,done:!0}},a.prototype.throw=function(a){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),a},a.prototype.return=function(a){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:a,done:!0}},a}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=d,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(a){return this._find(a,!1)>=0},e.prototype.get=function(a){var b=this._find(a,!1);return b>=0?this._values[b]:void 0},e.prototype.set=function(a,b){var c=this._find(a,!0);return this._values[c]=b,this},e.prototype.delete=function(a){var b=this._find(a,!1);if(b>=0){for(var c=this._keys.length,e=b+1;e<c;e++)this._keys[e-1]=this._keys[e],this._values[e-1]=this._values[e];return this._keys.length--,this._values.length--,a===this._cacheKey&&(this._cacheKey=d,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=d,this._cacheIndex=-2},e.prototype.keys=function(){return new f(this._keys,this._values,a)},e.prototype.values=function(){return new f(this._keys,this._values,b)},e.prototype.entries=function(){return new f(this._keys,this._values,c)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[Y]=function(){return this.entries()},e.prototype._find=function(a,b){return this._cacheKey!==a&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=a)),this._cacheIndex<0&&b&&(this._cacheIndex=this._keys.length,this._keys.push(a),this._values.push(void 0)),this._cacheIndex},e}()}function S(){return function(){function a(){this._map=new da}return Object.defineProperty(a.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),a.prototype.has=function(a){return this._map.has(a)},a.prototype.add=function(a){return this._map.set(a,a),this},a.prototype.delete=function(a){return this._map.delete(a)},a.prototype.clear=function(){this._map.clear()},a.prototype.keys=function(){return this._map.keys()},a.prototype.values=function(){return this._map.values()},a.prototype.entries=function(){return this._map.entries()},a.prototype["@@iterator"]=function(){return this.keys()},a.prototype[Y]=function(){return this.keys()},a}()}function T(){function a(){var a;do{a="@@WeakMap@@"+e()}while(aa.has(g,a));return g[a]=!0,a}function b(a,b){if(!V.call(a,h)){if(!b)return;Object.defineProperty(a,h,{value:aa.create()})}return a[h]}function c(a,b){for(var c=0;c<b;++c)a[c]=255*Math.random()|0;return a}function d(a){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(a)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(a)):c(new Uint8Array(a),a):c(new Array(a),a)}function e(){var a=d(f);a[6]=79&a[6]|64,a[8]=191&a[8]|128;for(var b="",c=0;c<f;++c){var e=a[c];4!==c&&6!==c&&8!==c||(b+="-"),e<16&&(b+="0"),b+=e.toString(16).toLowerCase()}return b}var f=16,g=aa.create(),h=a();return function(){function c(){this._key=a()}return c.prototype.has=function(a){var c=b(a,!1);return void 0!==c&&aa.has(c,this._key)},c.prototype.get=function(a){var c=b(a,!1);return void 0!==c?aa.get(c,this._key):void 0},c.prototype.set=function(a,c){return b(a,!0)[this._key]=c,this},c.prototype.delete=function(a){var c=b(a,!1);return void 0!==c&&delete c[this._key]},c.prototype.clear=function(){this._key=a()},c}()}function U(a){return a.__=void 0,delete a.__,a}var V=Object.prototype.hasOwnProperty,W="function"==typeof Symbol,X=W&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",Y=W&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",Z="function"==typeof Object.create,$={__proto__:[]}instanceof Array,_=!Z&&!$,aa={create:Z?function(){return U(Object.create(null))}:$?function(){return U({__proto__:null})}:function(){return U({})},has:_?function(a,b){return V.call(a,b)}:function(a,b){return b in a},get:_?function(a,b){return V.call(a,b)?a[b]:void 0}:function(a,b){return a[b]}},ba=Object.getPrototypeOf(Function),ca="object"===(void 0===a?"undefined":d(a))&&a.env&&"true"===a.env.REFLECT_METADATA_USE_MAP_POLYFILL,da=ca||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?R():Map,ea=ca||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?S():Set,fa=ca||"function"!=typeof WeakMap?T():WeakMap,ga=new fa;b("decorate",c),b("metadata",e),b("defineMetadata",f),b("hasMetadata",g),b("hasOwnMetadata",h),b("getMetadata",i),b("getOwnMetadata",j),b("getMetadataKeys",k),b("getOwnMetadataKeys",l),b("deleteMetadata",m)})}(c||(c={}))}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:161}],167:[function(a,b,c){"use strict";function d(a,b){for(var c in a)b[c]=a[c]}function e(a,b,c){return g(a,b,c)}var f=a("buffer"),g=f.Buffer;g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?b.exports=f:(d(f,c),c.Buffer=e),d(g,e),e.from=function(a,b,c){if("number"==typeof a)throw new TypeError("Argument must not be a number");return g(a,b,c)},e.alloc=function(a,b,c){if("number"!=typeof a)throw new TypeError("Argument must be a number");var d=g(a);return void 0!==b?"string"==typeof c?d.fill(b,c):d.fill(b):d.fill(0),d},e.allocUnsafe=function(a){if("number"!=typeof a)throw new TypeError("Argument must be a number");return g(a)},e.allocUnsafeSlow=function(a){if("number"!=typeof a)throw new TypeError("Argument must be a number");return f.SlowBuffer(a)}},{buffer:5}],168:[function(a,b,c){(function(b){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(c){function e(a,b){if(!(this instanceof e))return new e(a,b);var d=this;g(d),d.q=d.c="",d.bufferCheckPosition=c.MAX_BUFFER_LENGTH,d.opt=b||{},d.opt.lowercase=d.opt.lowercase||d.opt.lowercasetags,d.looseCase=d.opt.lowercase?"toLowerCase":"toUpperCase",d.tags=[],d.closed=d.closedRoot=d.sawRoot=!1,d.tag=d.error=null,d.strict=!!a,d.noscript=!(!a&&!d.opt.noscript),d.state=R.BEGIN,d.strictEntities=d.opt.strictEntities,d.ENTITIES=d.strictEntities?Object.create(c.XML_ENTITIES):Object.create(c.ENTITIES),d.attribList=[],d.opt.xmlns&&(d.ns=Object.create(M)),d.trackPosition=!1!==d.opt.position,d.trackPosition&&(d.position=d.line=d.column=0),p(d,"onready")}function f(a){for(var b=Math.max(c.MAX_BUFFER_LENGTH,10),d=0,e=0,f=F.length;e<f;e++){var g=a[F[e]].length;if(g>b)switch(F[e]){case"textNode":r(a);break;case"cdata":q(a,"oncdata",a.cdata),a.cdata="";break;case"script":q(a,"onscript",a.script),a.script="";break;default:t(a,"Max buffer length exceeded: "+F[e])}d=Math.max(d,g)}var h=c.MAX_BUFFER_LENGTH-d;a.bufferCheckPosition=h+a.position}function g(a){for(var b=0,c=F.length;b<c;b++)a[F[b]]=""}function h(a){r(a),""!==a.cdata&&(q(a,"oncdata",a.cdata),a.cdata=""),""!==a.script&&(q(a,"onscript",a.script),a.script="")}function i(a,b){return new j(a,b)}function j(a,b){if(!(this instanceof j))return new j(a,b);G.apply(this),this._parser=new e(a,b),this.writable=!0,this.readable=!0;var c=this;this._parser.onend=function(){c.emit("end")},this._parser.onerror=function(a){c.emit("error",a),c._parser.error=null},this._decoder=null,H.forEach(function(a){Object.defineProperty(c,"on"+a,{get:function(){return c._parser["on"+a]},set:function(b){if(!b)return c.removeAllListeners(a),c._parser["on"+a]=b,b;c.on(a,b)},enumerable:!0,configurable:!1})})}function k(a){return" "===a||"\n"===a||"\r"===a||"\t"===a}function l(a){return'"'===a||"'"===a}function m(a){return">"===a||k(a)}function n(a,b){return a.test(b)}function o(a,b){return!n(a,b)}function p(a,b,c){a[b]&&a[b](c)}function q(a,b,c){a.textNode&&r(a),p(a,b,c)}function r(a){a.textNode=s(a.opt,a.textNode),a.textNode&&p(a,"ontext",a.textNode),a.textNode=""}function s(a,b){return a.trim&&(b=b.trim()),a.normalize&&(b=b.replace(/\s+/g," ")),b}function t(a,b){return r(a),a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c),b=new Error(b),a.error=b,p(a,"onerror",b),a}function u(a){return a.sawRoot&&!a.closedRoot&&v(a,"Unclosed root tag"),a.state!==R.BEGIN&&a.state!==R.BEGIN_WHITESPACE&&a.state!==R.TEXT&&t(a,"Unexpected end"),r(a),a.c="",a.closed=!0,p(a,"onend"),e.call(a,a.strict,a.opt),a}function v(a,b){if("object"!==(void 0===a?"undefined":d(a))||!(a instanceof e))throw new Error("bad call to strictFail");a.strict&&t(a,b)}function w(a){a.strict||(a.tagName=a.tagName[a.looseCase]());var b=a.tags[a.tags.length-1]||a,c=a.tag={name:a.tagName,attributes:{}};a.opt.xmlns&&(c.ns=b.ns),a.attribList.length=0,q(a,"onopentagstart",c)}function x(a,b){var c=a.indexOf(":"),d=c<0?["",a]:a.split(":"),e=d[0],f=d[1];return b&&"xmlns"===a&&(e="xmlns",f=""),{prefix:e,local:f}}function y(a){if(a.strict||(a.attribName=a.attribName[a.looseCase]()),-1!==a.attribList.indexOf(a.attribName)||a.tag.attributes.hasOwnProperty(a.attribName))return void(a.attribName=a.attribValue="");if(a.opt.xmlns){var b=x(a.attribName,!0),c=b.prefix,d=b.local
;if("xmlns"===c)if("xml"===d&&a.attribValue!==K)v(a,"xml: prefix must be bound to "+K+"\nActual: "+a.attribValue);else if("xmlns"===d&&a.attribValue!==L)v(a,"xmlns: prefix must be bound to "+L+"\nActual: "+a.attribValue);else{var e=a.tag,f=a.tags[a.tags.length-1]||a;e.ns===f.ns&&(e.ns=Object.create(f.ns)),e.ns[d]=a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,q(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function z(a,b){if(a.opt.xmlns){var c=a.tag,d=x(a.tagName);c.prefix=d.prefix,c.local=d.local,c.uri=c.ns[d.prefix]||"",c.prefix&&!c.uri&&(v(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);var e=a.tags[a.tags.length-1]||a;c.ns&&e.ns!==c.ns&&Object.keys(c.ns).forEach(function(b){q(a,"onopennamespace",{prefix:b,uri:c.ns[b]})});for(var f=0,g=a.attribList.length;f<g;f++){var h=a.attribList[f],i=h[0],j=h[1],k=x(i,!0),l=k.prefix,m=k.local,n=""===l?"":c.ns[l]||"",o={name:i,value:j,prefix:l,local:m,uri:n};l&&"xmlns"!==l&&!n&&(v(a,"Unbound namespace prefix: "+JSON.stringify(l)),o.uri=l),a.tag.attributes[i]=o,q(a,"onattribute",o)}a.attribList.length=0}a.tag.isSelfClosing=!!b,a.sawRoot=!0,a.tags.push(a.tag),q(a,"onopentag",a.tag),b||(a.noscript||"script"!==a.tagName.toLowerCase()?a.state=R.TEXT:a.state=R.SCRIPT,a.tag=null,a.tagName=""),a.attribName=a.attribValue="",a.attribList.length=0}function A(a){if(!a.tagName)return v(a,"Weird empty close tag."),a.textNode+="</>",void(a.state=R.TEXT);if(a.script){if("script"!==a.tagName)return a.script+="</"+a.tagName+">",a.tagName="",void(a.state=R.SCRIPT);q(a,"onscript",a.script),a.script=""}var b=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());for(var d=c;b--;){if(a.tags[b].name===d)break;v(a,"Unexpected close tag")}if(b<0)return v(a,"Unmatched closing tag: "+a.tagName),a.textNode+="</"+a.tagName+">",void(a.state=R.TEXT);a.tagName=c;for(var e=a.tags.length;e-- >b;){var f=a.tag=a.tags.pop();a.tagName=a.tag.name,q(a,"onclosetag",a.tagName);var g={};for(var h in f.ns)g[h]=f.ns[h];var i=a.tags[a.tags.length-1]||a;a.opt.xmlns&&f.ns!==i.ns&&Object.keys(f.ns).forEach(function(b){var c=f.ns[b];q(a,"onclosenamespace",{prefix:b,uri:c})})}0===b&&(a.closedRoot=!0),a.tagName=a.attribValue=a.attribName="",a.attribList.length=0,a.state=R.TEXT}function B(a){var b,c=a.entity,d=c.toLowerCase(),e="";return a.ENTITIES[c]?a.ENTITIES[c]:a.ENTITIES[d]?a.ENTITIES[d]:(c=d,"#"===c.charAt(0)&&("x"===c.charAt(1)?(c=c.slice(2),b=parseInt(c,16),e=b.toString(16)):(c=c.slice(1),b=parseInt(c,10),e=b.toString(10))),c=c.replace(/^0+/,""),isNaN(b)||e.toLowerCase()!==c?(v(a,"Invalid character entity"),"&"+a.entity+";"):String.fromCodePoint(b))}function C(a,b){"<"===b?(a.state=R.OPEN_WAKA,a.startTagPosition=a.position):k(b)||(v(a,"Non-whitespace before first tag."),a.textNode=b,a.state=R.TEXT)}function D(a,b){var c="";return b<a.length&&(c=a.charAt(b)),c}function E(a){var b=this;if(this.error)throw this.error;if(b.closed)return t(b,"Cannot write after close. Assign an onready handler.");if(null===a)return u(b);"object"===(void 0===a?"undefined":d(a))&&(a=a.toString());for(var c=0,e="";;){if(e=D(a,c++),b.c=e,!e)break;switch(b.trackPosition&&(b.position++,"\n"===e?(b.line++,b.column=0):b.column++),b.state){case R.BEGIN:if(b.state=R.BEGIN_WHITESPACE,"\ufeff"===e)continue;C(b,e);continue;case R.BEGIN_WHITESPACE:C(b,e);continue;case R.TEXT:if(b.sawRoot&&!b.closedRoot){for(var g=c-1;e&&"<"!==e&&"&"!==e;)(e=D(a,c++))&&b.trackPosition&&(b.position++,"\n"===e?(b.line++,b.column=0):b.column++);b.textNode+=a.substring(g,c-1)}"<"!==e||b.sawRoot&&b.closedRoot&&!b.strict?(k(e)||b.sawRoot&&!b.closedRoot||v(b,"Text data outside of root node."),"&"===e?b.state=R.TEXT_ENTITY:b.textNode+=e):(b.state=R.OPEN_WAKA,b.startTagPosition=b.position);continue;case R.SCRIPT:"<"===e?b.state=R.SCRIPT_ENDING:b.script+=e;continue;case R.SCRIPT_ENDING:"/"===e?b.state=R.CLOSE_TAG:(b.script+="<"+e,b.state=R.SCRIPT);continue;case R.OPEN_WAKA:if("!"===e)b.state=R.SGML_DECL,b.sgmlDecl="";else if(k(e));else if(n(N,e))b.state=R.OPEN_TAG,b.tagName=e;else if("/"===e)b.state=R.CLOSE_TAG,b.tagName="";else if("?"===e)b.state=R.PROC_INST,b.procInstName=b.procInstBody="";else{if(v(b,"Unencoded <"),b.startTagPosition+1<b.position){var h=b.position-b.startTagPosition;e=new Array(h).join(" ")+e}b.textNode+="<"+e,b.state=R.TEXT}continue;case R.SGML_DECL:(b.sgmlDecl+e).toUpperCase()===I?(q(b,"onopencdata"),b.state=R.CDATA,b.sgmlDecl="",b.cdata=""):b.sgmlDecl+e==="--"?(b.state=R.COMMENT,b.comment="",b.sgmlDecl=""):(b.sgmlDecl+e).toUpperCase()===J?(b.state=R.DOCTYPE,(b.doctype||b.sawRoot)&&v(b,"Inappropriately located doctype declaration"),b.doctype="",b.sgmlDecl=""):">"===e?(q(b,"onsgmldeclaration",b.sgmlDecl),b.sgmlDecl="",b.state=R.TEXT):l(e)?(b.state=R.SGML_DECL_QUOTED,b.sgmlDecl+=e):b.sgmlDecl+=e;continue;case R.SGML_DECL_QUOTED:e===b.q&&(b.state=R.SGML_DECL,b.q=""),b.sgmlDecl+=e;continue;case R.DOCTYPE:">"===e?(b.state=R.TEXT,q(b,"ondoctype",b.doctype),b.doctype=!0):(b.doctype+=e,"["===e?b.state=R.DOCTYPE_DTD:l(e)&&(b.state=R.DOCTYPE_QUOTED,b.q=e));continue;case R.DOCTYPE_QUOTED:b.doctype+=e,e===b.q&&(b.q="",b.state=R.DOCTYPE);continue;case R.DOCTYPE_DTD:b.doctype+=e,"]"===e?b.state=R.DOCTYPE:l(e)&&(b.state=R.DOCTYPE_DTD_QUOTED,b.q=e);continue;case R.DOCTYPE_DTD_QUOTED:b.doctype+=e,e===b.q&&(b.state=R.DOCTYPE_DTD,b.q="");continue;case R.COMMENT:"-"===e?b.state=R.COMMENT_ENDING:b.comment+=e;continue;case R.COMMENT_ENDING:"-"===e?(b.state=R.COMMENT_ENDED,b.comment=s(b.opt,b.comment),b.comment&&q(b,"oncomment",b.comment),b.comment=""):(b.comment+="-"+e,b.state=R.COMMENT);continue;case R.COMMENT_ENDED:">"!==e?(v(b,"Malformed comment"),b.comment+="--"+e,b.state=R.COMMENT):b.state=R.TEXT;continue;case R.CDATA:"]"===e?b.state=R.CDATA_ENDING:b.cdata+=e;continue;case R.CDATA_ENDING:"]"===e?b.state=R.CDATA_ENDING_2:(b.cdata+="]"+e,b.state=R.CDATA);continue;case R.CDATA_ENDING_2:">"===e?(b.cdata&&q(b,"oncdata",b.cdata),q(b,"onclosecdata"),b.cdata="",b.state=R.TEXT):"]"===e?b.cdata+="]":(b.cdata+="]]"+e,b.state=R.CDATA);continue;case R.PROC_INST:"?"===e?b.state=R.PROC_INST_ENDING:k(e)?b.state=R.PROC_INST_BODY:b.procInstName+=e;continue;case R.PROC_INST_BODY:if(!b.procInstBody&&k(e))continue;"?"===e?b.state=R.PROC_INST_ENDING:b.procInstBody+=e;continue;case R.PROC_INST_ENDING:">"===e?(q(b,"onprocessinginstruction",{name:b.procInstName,body:b.procInstBody}),b.procInstName=b.procInstBody="",b.state=R.TEXT):(b.procInstBody+="?"+e,b.state=R.PROC_INST_BODY);continue;case R.OPEN_TAG:n(O,e)?b.tagName+=e:(w(b),">"===e?z(b):"/"===e?b.state=R.OPEN_TAG_SLASH:(k(e)||v(b,"Invalid character in tag name"),b.state=R.ATTRIB));continue;case R.OPEN_TAG_SLASH:">"===e?(z(b,!0),A(b)):(v(b,"Forward-slash in opening tag not followed by >"),b.state=R.ATTRIB);continue;case R.ATTRIB:if(k(e))continue;">"===e?z(b):"/"===e?b.state=R.OPEN_TAG_SLASH:n(N,e)?(b.attribName=e,b.attribValue="",b.state=R.ATTRIB_NAME):v(b,"Invalid attribute name");continue;case R.ATTRIB_NAME:"="===e?b.state=R.ATTRIB_VALUE:">"===e?(v(b,"Attribute without value"),b.attribValue=b.attribName,y(b),z(b)):k(e)?b.state=R.ATTRIB_NAME_SAW_WHITE:n(O,e)?b.attribName+=e:v(b,"Invalid attribute name");continue;case R.ATTRIB_NAME_SAW_WHITE:if("="===e)b.state=R.ATTRIB_VALUE;else{if(k(e))continue;v(b,"Attribute without value"),b.tag.attributes[b.attribName]="",b.attribValue="",q(b,"onattribute",{name:b.attribName,value:""}),b.attribName="",">"===e?z(b):n(N,e)?(b.attribName=e,b.state=R.ATTRIB_NAME):(v(b,"Invalid attribute name"),b.state=R.ATTRIB)}continue;case R.ATTRIB_VALUE:if(k(e))continue;l(e)?(b.q=e,b.state=R.ATTRIB_VALUE_QUOTED):(v(b,"Unquoted attribute value"),b.state=R.ATTRIB_VALUE_UNQUOTED,b.attribValue=e);continue;case R.ATTRIB_VALUE_QUOTED:if(e!==b.q){"&"===e?b.state=R.ATTRIB_VALUE_ENTITY_Q:b.attribValue+=e;continue}y(b),b.q="",b.state=R.ATTRIB_VALUE_CLOSED;continue;case R.ATTRIB_VALUE_CLOSED:k(e)?b.state=R.ATTRIB:">"===e?z(b):"/"===e?b.state=R.OPEN_TAG_SLASH:n(N,e)?(v(b,"No whitespace between attributes"),b.attribName=e,b.attribValue="",b.state=R.ATTRIB_NAME):v(b,"Invalid attribute name");continue;case R.ATTRIB_VALUE_UNQUOTED:if(!m(e)){"&"===e?b.state=R.ATTRIB_VALUE_ENTITY_U:b.attribValue+=e;continue}y(b),">"===e?z(b):b.state=R.ATTRIB;continue;case R.CLOSE_TAG:if(b.tagName)">"===e?A(b):n(O,e)?b.tagName+=e:b.script?(b.script+="</"+b.tagName,b.tagName="",b.state=R.SCRIPT):(k(e)||v(b,"Invalid tagname in closing tag"),b.state=R.CLOSE_TAG_SAW_WHITE);else{if(k(e))continue;o(N,e)?b.script?(b.script+="</"+e,b.state=R.SCRIPT):v(b,"Invalid tagname in closing tag."):b.tagName=e}continue;case R.CLOSE_TAG_SAW_WHITE:if(k(e))continue;">"===e?A(b):v(b,"Invalid characters in closing tag");continue;case R.TEXT_ENTITY:case R.ATTRIB_VALUE_ENTITY_Q:case R.ATTRIB_VALUE_ENTITY_U:var i,j;switch(b.state){case R.TEXT_ENTITY:i=R.TEXT,j="textNode";break;case R.ATTRIB_VALUE_ENTITY_Q:i=R.ATTRIB_VALUE_QUOTED,j="attribValue";break;case R.ATTRIB_VALUE_ENTITY_U:i=R.ATTRIB_VALUE_UNQUOTED,j="attribValue"}";"===e?(b[j]+=B(b),b.entity="",b.state=i):n(b.entity.length?Q:P,e)?b.entity+=e:(v(b,"Invalid character in entity name"),b[j]+="&"+b.entity+e,b.entity="",b.state=i);continue;default:throw new Error(b,"Unknown state: "+b.state)}}return b.position>=b.bufferCheckPosition&&f(b),b}c.parser=function(a,b){return new e(a,b)},c.SAXParser=e,c.SAXStream=j,c.createStream=i,c.MAX_BUFFER_LENGTH=65536;var F=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];c.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(a){function b(){}return b.prototype=a,new b}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),e.prototype={end:function(){u(this)},write:E,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){h(this)}};var G;try{G=a("stream").Stream}catch(T){G=function(){}}var H=c.EVENTS.filter(function(a){return"error"!==a&&"end"!==a});j.prototype=Object.create(G.prototype,{constructor:{value:j}}),j.prototype.write=function(c){if("function"==typeof b&&"function"==typeof b.isBuffer&&b.isBuffer(c)){if(!this._decoder){var d=a("string_decoder").StringDecoder;this._decoder=new d("utf8")}c=this._decoder.write(c)}return this._parser.write(c.toString()),this.emit("data",c),!0},j.prototype.end=function(a){return a&&a.length&&this.write(a),this._parser.end(),!0},j.prototype.on=function(a,b){var c=this;return c._parser["on"+a]||-1===H.indexOf(a)||(c._parser["on"+a]=function(){var b=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);b.splice(0,0,a),c.emit.apply(c,b)}),G.prototype.on.call(c,a,b)};var I="[CDATA[",J="DOCTYPE",K="http://www.w3.org/XML/1998/namespace",L="http://www.w3.org/2000/xmlns/",M={xml:K,xmlns:L},N=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,O=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,P=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Q=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,R=0;c.STATE={BEGIN:R++,BEGIN_WHITESPACE:R++,TEXT:R++,TEXT_ENTITY:R++,OPEN_WAKA:R++,SGML_DECL:R++,SGML_DECL_QUOTED:R++,DOCTYPE:R++,DOCTYPE_QUOTED:R++,DOCTYPE_DTD:R++,DOCTYPE_DTD_QUOTED:R++,COMMENT_STARTING:R++,COMMENT:R++,COMMENT_ENDING:R++,COMMENT_ENDED:R++,CDATA:R++,CDATA_ENDING:R++,CDATA_ENDING_2:R++,PROC_INST:R++,PROC_INST_BODY:R++,PROC_INST_ENDING:R++,OPEN_TAG:R++,OPEN_TAG_SLASH:R++,ATTRIB:R++,ATTRIB_NAME:R++,ATTRIB_NAME_SAW_WHITE:R++,ATTRIB_VALUE:R++,ATTRIB_VALUE_QUOTED:R++,ATTRIB_VALUE_CLOSED:R++,ATTRIB_VALUE_UNQUOTED:R++,ATTRIB_VALUE_ENTITY_Q:R++,ATTRIB_VALUE_ENTITY_U:R++,CLOSE_TAG:R++,CLOSE_TAG_SAW_WHITE:R++,SCRIPT:R++,SCRIPT_ENDING:R++},c.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},c.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(c.ENTITIES).forEach(function(a){var b=c.ENTITIES[a],d="number"==typeof b?String.fromCharCode(b):b;c.ENTITIES[a]=d});for(var S in c.STATE)c.STATE[c.STATE[S]]=S;R=c.STATE,String.fromCodePoint||function(){var a=String.fromCharCode,b=Math.floor,c=function(){var c,d,e=16384,f=[],g=-1,h=arguments.length;if(!h)return"";for(var i="";++g<h;){var j=Number(arguments[g]);if(!isFinite(j)||j<0||j>1114111||b(j)!==j)throw RangeError("Invalid code point: "+j);j<=65535?f.push(j):(j-=65536,c=55296+(j>>10),d=j%1024+56320,f.push(c,d)),(g+1===h||f.length>e)&&(i+=a.apply(null,f),f.length=0)}return i};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c}()}(void 0===c?(void 0).sax={}:c)}).call(this,a("buffer").Buffer)},{buffer:5,stream:174,string_decoder:194}],169:[function(a,b,c){"use strict";function d(a){return function(b,c){var d=Reflect.getMetadata("design:type",b,c),e=!(!d||"string"!=typeof d)&&"array"===d.toLowerCase(),h=new g.TypeMetadata(b.constructor,c,a,e);f.defaultMetadataStorage.addTypeMetadata(h)}}function e(a){return function(b,c){var d=new h.SkipMetadata(b.constructor,c,a);f.defaultMetadataStorage.addSkipMetadata(d)}}a("reflect-metadata");var f=a("./metadata/MetadataStorage"),g=a("./metadata/TypeMetadata"),h=a("./metadata/SkipMetadata");c.Type=d,c.Skip=e},{"./metadata/MetadataStorage":170,"./metadata/SkipMetadata":172,"./metadata/TypeMetadata":173,"reflect-metadata":166}],170:[function(a,b,c){"use strict";var d=function(){function a(){this._typeMetadatas=[],this._skipMetadatas=[]}return a.prototype.addTypeMetadata=function(a){this._typeMetadatas.push(a)},a.prototype.addSkipMetadata=function(a){this._skipMetadatas.push(a)},a.prototype.findSkipMetadata=function(a,b){var c=this._skipMetadatas.find(function(c){return c.target===a&&c.key===b}),d=this._skipMetadatas.find(function(c){return a.prototype instanceof c.target&&c.key===b});return c||d},a.prototype.findTypeMetadata=function(a,b){var c=this._typeMetadatas.find(function(c){return c.target===a&&c.key===b}),d=this._typeMetadatas.find(function(c){return a.prototype instanceof c.target&&c.key===b});return c||d},a}();c.MetadataStorage=d,c.defaultMetadataStorage=new d},{}],171:[function(a,b,c){"use strict";var d=function(){function a(a,b){this._target=a,this._key=b}return Object.defineProperty(a.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"key",{get:function(){return this._key},enumerable:!0,configurable:!0}),a}();c.PropertyMetadata=d},{}],172:[function(a,b,c){"use strict";var d=function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("./PropertyMetadata"),f=function(a){function b(b,c,d){a.call(this,b,c),this._options=d}return d(b,a),Object.defineProperty(b.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isOnSerialize",{get:function(){return!this._options||this._options&&this._options.onSerialize},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isOnDeserialize",{get:function(){return!this._options||this._options&&this._options.onDeserialize},enumerable:!0,configurable:!0}),b}(e.PropertyMetadata);c.SkipMetadata=f},{"./PropertyMetadata":171}],173:[function(a,b,c){"use strict";var d=function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("./PropertyMetadata"),f=function(a){function b(b,c,d,e){a.call(this,b,c),this._typeFunction=d,this._isArray=e}return d(b,a),Object.defineProperty(b.prototype,"typeFunction",{get:function(){return this._typeFunction},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isArray",{get:function(){return this._isArray},enumerable:!0,configurable:!0}),b}(e.PropertyMetadata);c.TypeMetadata=f},{"./PropertyMetadata":171}],174:[function(a,b,c){function d(){e.call(this)}b.exports=d;var e=a("events").EventEmitter;a("inherits")(d,e),d.Readable=a("readable-stream/readable.js"),d.Writable=a("readable-stream/writable.js"),d.Duplex=a("readable-stream/duplex.js"),d.Transform=a("readable-stream/transform.js"),d.PassThrough=a("readable-stream/passthrough.js"),d.Stream=d,d.prototype.pipe=function(a,b){function c(b){a.writable&&!1===a.write(b)&&j.pause&&j.pause()}function d(){j.readable&&j.resume&&j.resume()}function f(){k||(k=!0,a.end())}function g(){k||(k=!0,"function"==typeof a.destroy&&a.destroy())}function h(a){if(i(),0===e.listenerCount(this,"error"))throw a}function i(){j.removeListener("data",c),a.removeListener("drain",d),j.removeListener("end",f),j.removeListener("close",g),j.removeListener("error",h),a.removeListener("error",h),j.removeListener("end",i),j.removeListener("close",i),a.removeListener("close",i)}var j=this;j.on("data",c),a.on("drain",d),a._isStdio||b&&!1===b.end||(j.on("end",f),j.on("close",g));var k=!1;return j.on("error",h),a.on("error",h),j.on("end",i),j.on("close",i),a.on("close",i),a.emit("pipe",j),a}},{events:10,inherits:16,"readable-stream/duplex.js":176,"readable-stream/passthrough.js":185,"readable-stream/readable.js":186,"readable-stream/transform.js":187,"readable-stream/writable.js":188}],175:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{dup:6}],176:[function(a,b,c){b.exports=a("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":177}],177:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);j.call(this,a),k.call(this,a),a&&!1===a.readable&&(this.readable=!1),a&&!1===a.writable&&(this.writable=!1),this.allowHalfOpen=!0,a&&!1===a.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",e)}function e(){this.allowHalfOpen||this._writableState.ended||g(f,this)}function f(a){a.end()}var g=a("process-nextick-args"),h=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};b.exports=d;var i=a("core-util-is");i.inherits=a("inherits");var j=a("./_stream_readable"),k=a("./_stream_writable");i.inherits(d,j);for(var l=h(k.prototype),m=0;m<l.length;m++){var n=l[m];d.prototype[n]||(d.prototype[n]=k.prototype[n])}Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(a){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}}),d.prototype._destroy=function(a,b){this.push(null),this.end(),g(b,a)}},{"./_stream_readable":179,"./_stream_writable":181,"core-util-is":9,inherits:16,"process-nextick-args":160}],178:[function(a,b,c){"use strict";function d(a){if(!(this instanceof d))return new d(a);e.call(this,a)}b.exports=d;var e=a("./_stream_transform"),f=a("core-util-is");f.inherits=a("inherits"),f.inherits(d,e),d.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":180,"core-util-is":9,inherits:16}],179:[function(a,b,c){(function(c,d){"use strict";function e(a){return L.from(a)}function f(a){return L.isBuffer(a)||a instanceof M}function g(a,b,c){if("function"==typeof a.prependListener)return a.prependListener(b,c);a._events&&a._events[b]?I(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c)}function h(b,c){H=H||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof H&&(this.objectMode=this.objectMode||!!b.readableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new R,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=b.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(Q||(Q=a("string_decoder/").StringDecoder),this.decoder=new Q(b.encoding),this.encoding=b.encoding)}function i(b){if(H=H||a("./_stream_duplex"),!(this instanceof i))return new i(b);this._readableState=new h(b,this),this.readable=!0,b&&("function"==typeof b.read&&(this._read=b.read),"function"==typeof b.destroy&&(this._destroy=b.destroy)),K.call(this)}function j(a,b,c,d,f){var g=a._readableState;if(null===b)g.reading=!1,p(a,g);else{var h;f||(h=l(g,b)),h?a.emit("error",h):g.objectMode||b&&b.length>0?("string"==typeof b||g.objectMode||Object.getPrototypeOf(b)===L.prototype||(b=e(b)),d?g.endEmitted?a.emit("error",new Error("stream.unshift() after end event")):k(a,g,b,!0):g.ended?a.emit("error",new Error("stream.push() after EOF")):(g.reading=!1,g.decoder&&!c?(b=g.decoder.write(b),g.objectMode||0!==b.length?k(a,g,b,!1):s(a,g)):k(a,g,b,!1))):d||(g.reading=!1)}return m(g)}function k(a,b,c,d){b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,d?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&q(a)),s(a,b)}function l(a,b){var c;return f(b)||"string"==typeof b||void 0===b||a.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c}function m(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function n(a){return a>=U?a=U:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++),a}function o(a,b){return a<=0||0===b.length&&b.ended?0:b.objectMode?1:a!==a?b.flowing&&b.length?b.buffer.head.data.length:b.length:(a>b.highWaterMark&&(b.highWaterMark=n(a)),a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0))}function p(a,b){if(!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,q(a)}}function q(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(P("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?G(r,a):r(a))}function r(a){P("emit readable"),a.emit("readable"),y(a)}function s(a,b){b.readingMore||(b.readingMore=!0,G(t,a,b))}function t(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(P("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function u(a){return function(){var b=a._readableState;P("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&J(a,"data")&&(b.flowing=!0,y(a))}}function v(a){P("readable nexttick read 0"),a.read(0)}function w(a,b){b.resumeScheduled||(b.resumeScheduled=!0,G(x,a,b))}function x(a,b){b.reading||(P("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),y(a),b.flowing&&!b.reading&&a.read(0)}function y(a){var b=a._readableState;for(P("flow",b.flowing);b.flowing&&null!==a.read(););}function z(a,b){if(0===b.length)return null;var c;return b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear()):c=A(a,b.buffer,b.decoder),c}function A(a,b,c){var d;return a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):d=a===b.head.data.length?b.shift():c?B(a,b):C(a,b),d}function B(a,b){var c=b.head,d=1,e=c.data;for(a-=e.length;c=c.next;){var f=c.data,g=a>f.length?f.length:a;if(g===f.length?e+=f:e+=f.slice(0,a),0===(a-=g)){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}return b.length-=d,e}function C(a,b){var c=L.allocUnsafe(a),d=b.head,e=1;for(d.data.copy(c),a-=d.data.length;d=d.next;){var f=d.data,g=a>f.length?f.length:a;if(f.copy(c,c.length-a,0,g),0===(a-=g)){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}return b.length-=e,c}function D(a){var b=a._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,G(E,b,a))}function E(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function F(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}var G=a("process-nextick-args");b.exports=i;var H,I=a("isarray");i.ReadableState=h;var J=(a("events").EventEmitter,function(a,b){return a.listeners(b).length}),K=a("./internal/streams/stream"),L=a("safe-buffer").Buffer,M=d.Uint8Array||function(){},N=a("core-util-is");N.inherits=a("inherits");var O=a("util"),P=void 0;P=O&&O.debuglog?O.debuglog("stream"):function(){};var Q,R=a("./internal/streams/BufferList"),S=a("./internal/streams/destroy");N.inherits(i,K);var T=["error","close","destroy","pause","resume"];Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(a){this._readableState&&(this._readableState.destroyed=a)}}),i.prototype.destroy=S.destroy,i.prototype._undestroy=S.undestroy,i.prototype._destroy=function(a,b){this.push(null),b(a)},i.prototype.push=function(a,b){var c,d=this._readableState;return d.objectMode?c=!0:"string"==typeof a&&(b=b||d.defaultEncoding,b!==d.encoding&&(a=L.from(a,b),b=""),c=!0),j(this,a,b,!1,c)},i.prototype.unshift=function(a){return j(this,a,null,!0,!1)},i.prototype.isPaused=function(){return!1===this._readableState.flowing},i.prototype.setEncoding=function(b){return Q||(Q=a("string_decoder/").StringDecoder),this._readableState.decoder=new Q(b),this._readableState.encoding=b,this};var U=8388608;i.prototype.read=function(a){P("read",a),a=parseInt(a,10);var b=this._readableState,c=a;if(0!==a&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return P("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?D(this):q(this),null;if(0===(a=o(a,b))&&b.ended)return 0===b.length&&D(this),null;var d=b.needReadable;P("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&(d=!0,P("length less than watermark",d)),b.ended||b.reading?(d=!1,P("reading or ended",d)):d&&(P("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=o(c,b)));var e;return e=a>0?z(a,b):null,null===e?(b.needReadable=!0,a=0):b.length-=a,0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&D(this)),null!==e&&this.emit("data",e),e},i.prototype._read=function(a){this.emit("error",new Error("_read() is not implemented"))},i.prototype.pipe=function(a,b){function d(a,b){P("onunpipe"),a===m&&b&&!1===b.hasUnpiped&&(b.hasUnpiped=!0,f())}function e(){P("onend"),a.end()}function f(){P("cleanup"),a.removeListener("close",j),a.removeListener("finish",k),a.removeListener("drain",q),a.removeListener("error",i),a.removeListener("unpipe",d),m.removeListener("end",e),m.removeListener("end",l),m.removeListener("data",h),r=!0,!n.awaitDrain||a._writableState&&!a._writableState.needDrain||q()}function h(b){P("ondata"),s=!1,!1!==a.write(b)||s||((1===n.pipesCount&&n.pipes===a||n.pipesCount>1&&-1!==F(n.pipes,a))&&!r&&(P("false write response, pause",m._readableState.awaitDrain),m._readableState.awaitDrain++,s=!0),m.pause())}function i(b){P("onerror",b),l(),a.removeListener("error",i),0===J(a,"error")&&a.emit("error",b)}function j(){a.removeListener("finish",k),l()}function k(){P("onfinish"),a.removeListener("close",j),l()}function l(){P("unpipe"),m.unpipe(a)}var m=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=a;break;case 1:n.pipes=[n.pipes,a];break;default:n.pipes.push(a)}n.pipesCount+=1,P("pipe count=%d opts=%j",n.pipesCount,b);var o=(!b||!1!==b.end)&&a!==c.stdout&&a!==c.stderr,p=o?e:l;n.endEmitted?G(p):m.once("end",p),a.on("unpipe",d);var q=u(m);a.on("drain",q);var r=!1,s=!1;return m.on("data",h),g(a,"error",i),a.once("close",j),a.once("finish",k),a.emit("pipe",m),n.flowing||(P("pipe resume"),m.resume()),a},i.prototype.unpipe=function(a){var b=this._readableState,c={hasUnpiped:!1};if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this,c),this);if(!a){var d=b.pipes,e=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var f=0;f<e;f++)d[f].emit("unpipe",this,c);return this}var g=F(b.pipes,a);return-1===g?this:(b.pipes.splice(g,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this,c),this)},i.prototype.on=function(a,b){var c=K.prototype.on.call(this,a,b);if("data"===a)!1!==this._readableState.flowing&&this.resume();else if("readable"===a){var d=this._readableState;d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.emittedReadable=!1,d.reading?d.length&&q(this):G(v,this))}return c},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var a=this._readableState;return a.flowing||(P("resume"),a.flowing=!0,w(this,a)),this},i.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(a){
var b=this._readableState,c=!1,d=this;a.on("end",function(){if(P("wrapped end"),b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(P("wrapped data"),b.decoder&&(e=b.decoder.write(e)),(!b.objectMode||null!==e&&void 0!==e)&&(b.objectMode||e&&e.length)){d.push(e)||(c=!0,a.pause())}});for(var e in a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));for(var f=0;f<T.length;f++)a.on(T[f],d.emit.bind(d,T[f]));return d._read=function(b){P("wrapped _read",b),c&&(c=!1,a.resume())},d},i._fromList=z}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":177,"./internal/streams/BufferList":182,"./internal/streams/destroy":183,"./internal/streams/stream":184,_process:161,"core-util-is":9,events:10,inherits:16,isarray:175,"process-nextick-args":160,"safe-buffer":167,"string_decoder/":189,util:3}],180:[function(a,b,c){"use strict";function d(a){this.afterTransform=function(b,c){return e(a,b,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function e(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function f(a){if(!(this instanceof f))return new f(a);h.call(this,a),this._transformState=new d(this);var b=this;this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(a,c){g(b,a,c)}):g(b)})}function g(a,b,c){if(b)return a.emit("error",b);null!==c&&void 0!==c&&a.push(c);var d=a._writableState,e=a._transformState;if(d.length)throw new Error("Calling transform done when ws.length != 0");if(e.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}b.exports=f;var h=a("./_stream_duplex"),i=a("core-util-is");i.inherits=a("inherits"),i.inherits(f,h),f.prototype.push=function(a,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,b)},f.prototype._transform=function(a,b,c){throw new Error("_transform() is not implemented")},f.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},f.prototype._read=function(a){var b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},f.prototype._destroy=function(a,b){var c=this;h.prototype._destroy.call(this,a,function(a){b(a),c.emit("close")})}},{"./_stream_duplex":177,"core-util-is":9,inherits:16}],181:[function(a,b,c){(function(c,d){"use strict";function e(a){var b=this;this.next=null,this.entry=null,this.finish=function(){A(b,a)}}function f(a){return H.from(a)}function g(a){return H.isBuffer(a)||a instanceof I}function h(){}function i(b,c){C=C||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof C&&(this.objectMode=this.objectMode||!!b.writableObjectMode);var d=b.highWaterMark,f=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var g=!1===b.decodeStrings;this.decodeStrings=!g,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){r(c,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function j(b){if(C=C||a("./_stream_duplex"),!(K.call(j,this)||this instanceof C))return new j(b);this._writableState=new i(b,this),this.writable=!0,b&&("function"==typeof b.write&&(this._write=b.write),"function"==typeof b.writev&&(this._writev=b.writev),"function"==typeof b.destroy&&(this._destroy=b.destroy),"function"==typeof b.final&&(this._final=b.final)),G.call(this)}function k(a,b){var c=new Error("write after end");a.emit("error",c),B(b,c)}function l(a,b,c,d){var e=!0,f=!1;return null===c?f=new TypeError("May not write null values to stream"):"string"==typeof c||void 0===c||b.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(a.emit("error",f),B(d,f),e=!1),e}function m(a,b,c){return a.objectMode||!1===a.decodeStrings||"string"!=typeof b||(b=H.from(b,c)),b}function n(a,b,c,d,e,f){if(!c){var g=m(b,d,e);d!==g&&(c=!0,e="buffer",d=g)}var h=b.objectMode?1:d.length;b.length+=h;var i=b.length<b.highWaterMark;if(i||(b.needDrain=!0),b.writing||b.corked){var j=b.lastBufferedRequest;b.lastBufferedRequest={chunk:d,encoding:e,isBuf:c,callback:f,next:null},j?j.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else o(a,b,!1,h,d,e,f);return i}function o(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function p(a,b,c,d,e){--b.pendingcb,c?(B(e,d),B(y,a,b),a._writableState.errorEmitted=!0,a.emit("error",d)):(e(d),a._writableState.errorEmitted=!0,a.emit("error",d),y(a,b))}function q(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function r(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(q(c),b)p(a,c,d,b,e);else{var f=v(c);f||c.corked||c.bufferProcessing||!c.bufferedRequest||u(a,c),d?D(s,a,c,f,e):s(a,c,f,e)}}function s(a,b,c,d){c||t(a,b),b.pendingcb--,d(),y(a,b)}function t(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function u(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=b.bufferedRequestCount,f=new Array(d),g=b.corkedRequestsFree;g.entry=c;for(var h=0,i=!0;c;)f[h]=c,c.isBuf||(i=!1),c=c.next,h+=1;f.allBuffers=i,o(a,b,!0,b.length,f,"",g.finish),b.pendingcb++,b.lastBufferedRequest=null,g.next?(b.corkedRequestsFree=g.next,g.next=null):b.corkedRequestsFree=new e(b)}else{for(;c;){var j=c.chunk,k=c.encoding,l=c.callback;if(o(a,b,!1,b.objectMode?1:j.length,j,k,l),c=c.next,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequestCount=0,b.bufferedRequest=c,b.bufferProcessing=!1}function v(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function w(a,b){a._final(function(c){b.pendingcb--,c&&a.emit("error",c),b.prefinished=!0,a.emit("prefinish"),y(a,b)})}function x(a,b){b.prefinished||b.finalCalled||("function"==typeof a._final?(b.pendingcb++,b.finalCalled=!0,B(w,a,b)):(b.prefinished=!0,a.emit("prefinish")))}function y(a,b){var c=v(b);return c&&(x(a,b),0===b.pendingcb&&(b.finished=!0,a.emit("finish"))),c}function z(a,b,c){b.ending=!0,y(a,b),c&&(b.finished?B(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function A(a,b,c){var d=a.entry;for(a.entry=null;d;){var e=d.callback;b.pendingcb--,e(c),d=d.next}b.corkedRequestsFree?b.corkedRequestsFree.next=a:b.corkedRequestsFree=a}var B=a("process-nextick-args");b.exports=j;var C,D=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?setImmediate:B;j.WritableState=i;var E=a("core-util-is");E.inherits=a("inherits");var F={deprecate:a("util-deprecate")},G=a("./internal/streams/stream"),H=a("safe-buffer").Buffer,I=d.Uint8Array||function(){},J=a("./internal/streams/destroy");E.inherits(j,G),i.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(i.prototype,"buffer",{get:F.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(a){}}();var K;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(K=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(a){return!!K.call(this,a)||a&&a._writableState instanceof i}})):K=function(a){return a instanceof this},j.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},j.prototype.write=function(a,b,c){var d=this._writableState,e=!1,i=g(a)&&!d.objectMode;return i&&!H.isBuffer(a)&&(a=f(a)),"function"==typeof b&&(c=b,b=null),i?b="buffer":b||(b=d.defaultEncoding),"function"!=typeof c&&(c=h),d.ended?k(this,c):(i||l(this,d,a,c))&&(d.pendingcb++,e=n(this,d,i,a,b,c)),e},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||u(this,a))},j.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);return this._writableState.defaultEncoding=a,this},j.prototype._write=function(a,b,c){c(new Error("_write() is not implemented"))},j.prototype._writev=null,j.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!==a&&void 0!==a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||z(this,d,c)},Object.defineProperty(j.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(a){this._writableState&&(this._writableState.destroyed=a)}}),j.prototype.destroy=J.destroy,j.prototype._undestroy=J.undestroy,j.prototype._destroy=function(a,b){this.end(),b(a)}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":177,"./internal/streams/destroy":183,"./internal/streams/stream":184,_process:161,"core-util-is":9,inherits:16,"process-nextick-args":160,"safe-buffer":167,"util-deprecate":270}],182:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b,c){a.copy(b,c)}var f=a("safe-buffer").Buffer;b.exports=function(){function a(){d(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},a.prototype.unshift=function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length},a.prototype.shift=function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c},a.prototype.concat=function(a){if(0===this.length)return f.alloc(0);if(1===this.length)return this.head.data;for(var b=f.allocUnsafe(a>>>0),c=this.head,d=0;c;)e(c.data,b,d),d+=c.data.length,c=c.next;return b},a}()},{"safe-buffer":167}],183:[function(a,b,c){"use strict";function d(a,b){var c=this,d=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;if(d||e)return void(b?b(a):!a||this._writableState&&this._writableState.errorEmitted||g(f,this,a));this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(a){!b&&a?(g(f,c,a),c._writableState&&(c._writableState.errorEmitted=!0)):b&&b(a)})}function e(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function f(a,b){a.emit("error",b)}var g=a("process-nextick-args");b.exports={destroy:d,undestroy:e}},{"process-nextick-args":160}],184:[function(a,b,c){b.exports=a("events").EventEmitter},{events:10}],185:[function(a,b,c){b.exports=a("./readable").PassThrough},{"./readable":186}],186:[function(a,b,c){c=b.exports=a("./lib/_stream_readable.js"),c.Stream=c,c.Readable=c,c.Writable=a("./lib/_stream_writable.js"),c.Duplex=a("./lib/_stream_duplex.js"),c.Transform=a("./lib/_stream_transform.js"),c.PassThrough=a("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":177,"./lib/_stream_passthrough.js":178,"./lib/_stream_readable.js":179,"./lib/_stream_transform.js":180,"./lib/_stream_writable.js":181}],187:[function(a,b,c){b.exports=a("./readable").Transform},{"./readable":186}],188:[function(a,b,c){b.exports=a("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":181}],189:[function(a,b,c){"use strict";function d(a){if(!a)return"utf8";for(var b;;)switch(a){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return a;default:if(b)return;a=(""+a).toLowerCase(),b=!0}}function e(a){var b=d(a);if("string"!=typeof b&&(s.isEncoding===t||!t(a)))throw new Error("Unknown encoding: "+a);return b||a}function f(a){this.encoding=e(a);var b;switch(this.encoding){case"utf16le":this.text=m,this.end=n,b=4;break;case"utf8":this.fillLast=j,b=4;break;case"base64":this.text=o,this.end=p,b=3;break;default:return this.write=q,void(this.end=r)}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(b)}function g(a){return a<=127?0:a>>5==6?2:a>>4==14?3:a>>3==30?4:-1}function h(a,b,c){var d=b.length-1;if(d<c)return 0;var e=g(b[d]);return e>=0?(e>0&&(a.lastNeed=e-1),e):--d<c?0:(e=g(b[d]))>=0?(e>0&&(a.lastNeed=e-2),e):--d<c?0:(e=g(b[d]),e>=0?(e>0&&(2===e?e=0:a.lastNeed=e-3),e):0)}function i(a,b,c){if(128!=(192&b[0]))return a.lastNeed=0,"�".repeat(c);if(a.lastNeed>1&&b.length>1){if(128!=(192&b[1]))return a.lastNeed=1,"�".repeat(c+1);if(a.lastNeed>2&&b.length>2&&128!=(192&b[2]))return a.lastNeed=2,"�".repeat(c+2)}}function j(a){var b=this.lastTotal-this.lastNeed,c=i(this,a,b);return void 0!==c?c:this.lastNeed<=a.length?(a.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(a.copy(this.lastChar,b,0,a.length),void(this.lastNeed-=a.length))}function k(a,b){var c=h(this,a,b);if(!this.lastNeed)return a.toString("utf8",b);this.lastTotal=c;var d=a.length-(c-this.lastNeed);return a.copy(this.lastChar,0,d),a.toString("utf8",b,d)}function l(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+"�".repeat(this.lastTotal-this.lastNeed):b}function m(a,b){if((a.length-b)%2==0){var c=a.toString("utf16le",b);if(c){var d=c.charCodeAt(c.length-1);if(d>=55296&&d<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1],c.slice(0,-1)}return c}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=a[a.length-1],a.toString("utf16le",b,a.length-1)}function n(a){var b=a&&a.length?this.write(a):"";if(this.lastNeed){var c=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,c)}return b}function o(a,b){var c=(a.length-b)%3;return 0===c?a.toString("base64",b):(this.lastNeed=3-c,this.lastTotal=3,1===c?this.lastChar[0]=a[a.length-1]:(this.lastChar[0]=a[a.length-2],this.lastChar[1]=a[a.length-1]),a.toString("base64",b,a.length-c))}function p(a){var b=a&&a.length?this.write(a):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function q(a){return a.toString(this.encoding)}function r(a){return a&&a.length?this.write(a):""}var s=a("safe-buffer").Buffer,t=s.isEncoding||function(a){switch((a=""+a)&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};c.StringDecoder=f,f.prototype.write=function(a){if(0===a.length)return"";var b,c;if(this.lastNeed){if(void 0===(b=this.fillLast(a)))return"";c=this.lastNeed,this.lastNeed=0}else c=0;return c<a.length?b?b+this.text(a,c):this.text(a,c):b||""},f.prototype.end=l,f.prototype.text=k,f.prototype.fillLast=function(a){if(this.lastNeed<=a.length)return a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);a.copy(this.lastChar,this.lastTotal-this.lastNeed,0,a.length),this.lastNeed-=a.length}},{"safe-buffer":167}],190:[function(a,b,c){var d=a("./lib/request"),e=a("xtend"),f=a("builtin-status-codes"),g=a("url"),h=c;h.request=function(a,b){a="string"==typeof a?g.parse(a):e(a);var c=a.protocol||"",f=a.hostname||a.host,h=a.port,i=a.path||"/";f&&-1!==f.indexOf(":")&&(f="["+f+"]"),a.url=(f?c+"//"+f:"")+(h?":"+h:"")+i,a.method=(a.method||"GET").toUpperCase(),a.headers=a.headers||{};var j=new d(a);return b&&j.on("response",b),j},h.get=function(a,b){var c=h.request(a,b);return c.end(),c},h.Agent=function(){},h.Agent.defaultMaxSockets=4,h.STATUS_CODES=f,h.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},{"./lib/request":192,"builtin-status-codes":7,url:269,xtend:380}],191:[function(a,b,c){(function(a){"use strict";function b(a){try{return e.responseType=a,e.responseType===a}catch(b){}return!1}function d(a){return"function"==typeof a}c.fetch=d(a.fetch)&&d(a.ReadableByteStream),c.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),c.blobConstructor=!0}catch(h){}var e=new a.XMLHttpRequest;e.open("GET",a.location.host?"/":"https://example.com");var f=void 0!==a.ArrayBuffer,g=f&&d(a.ArrayBuffer.prototype.slice);c.arraybuffer=f&&b("arraybuffer"),c.msstream=!c.fetch&&g&&b("ms-stream"),c.mozchunkedarraybuffer=!c.fetch&&f&&b("moz-chunked-arraybuffer"),c.overrideMimeType=d(e.overrideMimeType),c.vbArray=d(a.VBArray),e=null}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],192:[function(a,b,c){(function(c,d,e){"use strict";function f(a){return h.fetch?"fetch":h.mozchunkedarraybuffer?"moz-chunked-arraybuffer":h.msstream?"ms-stream":h.arraybuffer&&a?"arraybuffer":h.vbArray&&a?"text:vbarray":"text"}function g(a){try{return null!==a.status}catch(b){return!1}}var h=a("./capability"),i=a("foreach"),j=a("indexof"),k=a("inherits"),l=a("object-keys"),m=a("./response"),n=a("stream"),o=m.IncomingMessage,p=m.readyStates,q=b.exports=function(a){var b=this;n.Writable.call(b),b._opts=a,b._body=[],b._headers={},a.auth&&b.setHeader("Authorization","Basic "+new e(a.auth).toString("base64")),i(l(a.headers),function(c){b.setHeader(c,a.headers[c])});var c;if("prefer-streaming"===a.mode)c=!1;else if("allow-wrong-content-type"===a.mode)c=!h.overrideMimeType;else{if(a.mode&&"default"!==a.mode&&"prefer-fast"!==a.mode)throw new Error("Invalid value for opts.mode");c=!0}b._mode=f(c),b.on("finish",function(){b._onFinish()})};k(q,n.Writable),q.prototype.setHeader=function(a,b){var c=this,d=a.toLowerCase();-1===j(r,d)&&(c._headers[d]={name:a,value:b})},q.prototype.getHeader=function(a){return this._headers[a.toLowerCase()].value},q.prototype.removeHeader=function(a){delete this._headers[a.toLowerCase()]},q.prototype._onFinish=function(){var a=this;if(!a._destroyed){var b,f=a._opts,g=a._headers;if("POST"!==f.method&&"PUT"!==f.method||(b=h.blobConstructor?new d.Blob(a._body.map(function(a){return a.toArrayBuffer()}),{type:(g["content-type"]||{}).value||""}):e.concat(a._body).toString()),"fetch"===a._mode){var j=l(g).map(function(a){return[g[a].name,g[a].value]});d.fetch(a._opts.url,{method:a._opts.method,headers:j,body:b,mode:"cors",credentials:f.withCredentials?"include":"same-origin"}).then(function(b){a._fetchResponse=b,a._connect()}).then(void 0,function(b){a.emit("error",b)})}else{var k=a._xhr=new d.XMLHttpRequest;try{k.open(a._opts.method,a._opts.url,!0)}catch(m){return void c.nextTick(function(){a.emit("error",m)})}"responseType"in k&&(k.responseType=a._mode.split(":")[0]),"withCredentials"in k&&(k.withCredentials=!!f.withCredentials),"text"===a._mode&&"overrideMimeType"in k&&k.overrideMimeType("text/plain; charset=x-user-defined"),i(l(g),function(a){k.setRequestHeader(g[a].name,g[a].value)}),a._response=null,k.onreadystatechange=function(){switch(k.readyState){case p.LOADING:case p.DONE:a._onXHRProgress()}},"moz-chunked-arraybuffer"===a._mode&&(k.onprogress=function(){a._onXHRProgress()}),k.onerror=function(){a._destroyed||a.emit("error",new Error("XHR error"))};try{k.send(b)}catch(m){return void c.nextTick(function(){a.emit("error",m)})}}}},q.prototype._onXHRProgress=function(){var a=this;g(a._xhr)&&!a._destroyed&&(a._response||a._connect(),a._response._onXHRProgress())},q.prototype._connect=function(){var a=this;a._destroyed||(a._response=new o(a._xhr,a._fetchResponse,a._mode),a.emit("response",a._response))},q.prototype._write=function(a,b,c){this._body.push(a),c()},q.prototype.abort=q.prototype.destroy=function(){var a=this;a._destroyed=!0,a._response&&(a._response._destroyed=!0),a._xhr&&a._xhr.abort()},q.prototype.end=function(a,b,c){var d=this;"function"==typeof a&&(c=a,a=void 0),n.Writable.prototype.end.call(d,a,b,c)},q.prototype.flushHeaders=function(){},q.prototype.setTimeout=function(){},q.prototype.setNoDelay=function(){},q.prototype.setSocketKeepAlive=function(){};var r=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"./capability":191,"./response":193,_process:161,buffer:5,foreach:11,indexof:15,inherits:16,"object-keys":154,stream:174}],193:[function(a,b,c){(function(b,d,e){"use strict";var f=a("./capability"),g=a("foreach"),h=a("inherits"),i=a("stream"),j=c.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},k=c.IncomingMessage=function(a,c,d){var h=this;if(i.Readable.call(h),h._mode=d,h.headers={},h.rawHeaders=[],h.trailers={},h.rawTrailers=[],h.on("end",function(){b.nextTick(function(){h.emit("close")})}),"fetch"===d){var j=function a(){n.read().then(function(b){if(!h._destroyed){if(b.done)return void h.push(null);h.push(new e(b.value)),a()}})};h._fetchResponse=c,h.statusCode=c.status,h.statusMessage=c.statusText;for(var k,l,m=c.headers[Symbol.iterator]();k=(l=m.next()).value,!l.done;)h.headers[k[0].toLowerCase()]=k[1],h.rawHeaders.push(k[0],k[1]);var n=c.body.getReader();j()}else{h._xhr=a,h._pos=0,h.statusCode=a.status,h.statusMessage=a.statusText;var o=a.getAllResponseHeaders().split(/\r?\n/);if(g(o,function(a){var b=a.match(/^([^:]+):\s*(.*)/);if(b){var c=b[1].toLowerCase();void 0!==h.headers[c]?h.headers[c]+=", "+b[2]:h.headers[c]=b[2],h.rawHeaders.push(b[1],b[2])}}),h._charset="x-user-defined",!f.overrideMimeType){var p=h.rawHeaders["mime-type"];if(p){var q=p.match(/;\s*charset=([^;])(;|$)/);q&&(h._charset=q[1].toLowerCase())}h._charset||(h._charset="utf-8")}}};h(k,i.Readable),k.prototype._read=function(){},k.prototype._onXHRProgress=function(){var a=this,b=a._xhr,c=null;switch(a._mode){case"text:vbarray":if(b.readyState!==j.DONE)break;try{c=new d.VBArray(b.responseBody).toArray()}catch(k){}if(null!==c){a.push(new e(c));break}case"text":try{c=b.responseText}catch(k){a._mode="text:vbarray";break}if(c.length>a._pos){var f=c.substr(a._pos);if("x-user-defined"===a._charset){for(var g=new e(f.length),h=0;h<f.length;h++)g[h]=255&f.charCodeAt(h);a.push(g)}else a.push(f,a._charset);a._pos=c.length}break;case"arraybuffer":if(b.readyState!==j.DONE)break;c=b.response,a.push(new e(new Uint8Array(c)));break;case"moz-chunked-arraybuffer":if(c=b.response,b.readyState!==j.LOADING||!c)break;a.push(new e(new Uint8Array(c)));break;case"ms-stream":if(c=b.response,b.readyState!==j.LOADING)break;var i=new d.MSStreamReader;i.onprogress=function(){i.result.byteLength>a._pos&&(a.push(new e(new Uint8Array(i.result.slice(a._pos)))),a._pos=i.result.byteLength)},i.onload=function(){a.push(null)},i.readAsArrayBuffer(c)}a._xhr.readyState===j.DONE&&"ms-stream"!==a._mode&&a.push(null)}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"./capability":191,_process:161,buffer:5,foreach:11,inherits:16,stream:174}],194:[function(a,b,c){function d(a){if(a&&!i(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){this.charReceived=a.length%2,this.charLength=this.charReceived?2:0}function g(a){this.charReceived=a.length%3,this.charLength=this.charReceived?3:0}var h=a("buffer").Buffer,i=h.isEncoding||function(a){switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},j=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};j.prototype.write=function(a){for(var b="";this.charLength;){var c=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,0,c),this.charReceived+=c,this.charReceived<this.charLength)return"";a=a.slice(c,a.length),b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var d=b.charCodeAt(b.length-1);if(!(d>=55296&&d<=56319)){if(this.charReceived=this.charLength=0,0===a.length)return b;break}this.charLength+=this.surrogateSize,b=""}this.detectIncompleteChar(a);var e=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,e),e-=this.charReceived),b+=a.toString(this.encoding,0,e);var e=b.length-1,d=b.charCodeAt(e);if(d>=55296&&d<=56319){var f=this.surrogateSize;return this.charLength+=f,this.charReceived+=f,this.charBuffer.copy(this.charBuffer,f,0,f),a.copy(this.charBuffer,0,0,f),b.substring(0,e)}return b},j.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(b<=2&&c>>4==14){this.charLength=3;break}if(b<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=b},j.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{buffer:5}],195:[function(a,b,c){"use strict";b.exports=["get","put","post","delete","options","head","patch"]},{}],196:[function(a,b,c){"use strict";function d(){l.apply(this,arguments)}var e=a("./validators/schema"),f=a("./validators/spec"),g=a("json-schema-ref-parser/lib/normalize-args"),h=a("./util"),i=a("./options"),j=a("call-me-maybe"),k=a("ono"),l=a("json-schema-ref-parser"),m=a("json-schema-ref-parser/lib/dereference");b.exports=d,h.inherits(d,l),d.YAML=l.YAML,d.parse=l.parse,d.resolve=l.resolve,d.bundle=l.bundle,d.dereference=l.dereference,Object.defineProperty(d.prototype,"api",{configurable:!0,enumerable:!0,get:function(){return this.schema}}),d.prototype.parse=function(a,b,c,d){var e=g(arguments);return e.options=new i(e.options),l.prototype.parse.call(this,e.path,e.schema,e.options).then(function(a){if(a.swagger){if(void 0===a.swagger||void 0===a.info||void 0===a.paths)throw k.syntax("%s is not a valid Swagger API definition",e.path||e.schema);if("number"==typeof a.swagger)throw k.syntax('Swagger version number must be a string (e.g. "2.0") not a number.');if("number"==typeof a.info.version)throw k.syntax('API version number must be a string (e.g. "1.0.0") not a number.');if("2.0"!==a.swagger)throw k.syntax("Unrecognized Swagger version: %d. Expected 2.0",a.swagger)}else{var b=["3.0.0","3.0.1"];if(void 0===a.openapi||void 0===a.info||void 0===a.paths)throw k.syntax("%s is not a valid Openapi API definition",e.path||e.schema);if("number"==typeof a.openapi)throw k.syntax('Openapi version number must be a string (e.g. "3.0.0") not a number.');if("number"==typeof a.info.version)throw k.syntax('API version number must be a string (e.g. "1.0.0") not a number.');if(-1===b.indexOf(a.openapi))throw k.syntax("Unsupported OpenAPI version: %d. Swagger Parser only supports versions %s",a.openapi,b.join(", "))}return j(e.callback,Promise.resolve(a))}).catch(function(a){return j(e.callback,Promise.reject(a))})},d.validate=function(a,b,c,d){var e=this,f=new e;return f.validate.apply(f,arguments)},d.prototype.validate=function(a,b,c,d){var h=this,l=g(arguments);l.options=new i(l.options);var n=l.options.dereference.circular;return l.options.validate.schema&&(l.options.dereference.circular="ignore"),this.dereference(l.path,l.schema,l.options).then(function(){if(l.options.dereference.circular=n,l.options.validate.schema&&(e(h.api),h.$refs.circular))if(!0===n)m(h,l.options);else if(!1===n)throw k.reference("The API contains circular references");return l.options.validate.spec&&f(h.api),j(l.callback,Promise.resolve(h.schema))}).catch(function(a){return j(l.callback,Promise.reject(a))})}},{"./options":197,"./util":198,"./validators/schema":199,"./validators/spec":200,"call-me-maybe":8,"json-schema-ref-parser":21,"json-schema-ref-parser/lib/dereference":20,"json-schema-ref-parser/lib/normalize-args":22,ono:156}],197:[function(a,b,c){"use strict";function d(a){e.call(this,d.defaults),e.apply(this,arguments)}var e=a("json-schema-ref-parser/lib/options"),f=a("./validators/schema"),g=a("./validators/spec"),h=a("util");b.exports=d,d.defaults={validate:{schema:f,spec:g}},h.inherits(d,e)},{"./validators/schema":199,"./validators/spec":200,"json-schema-ref-parser/lib/options":23,util:273}],198:[function(a,b,c){"use strict";var d=a("debug"),e=a("util");c.format=e.format,c.inherits=e.inherits,c.debug=d("swagger:parser"),c.swaggerParamRegExp=/\{([^\/}]+)}/g},{debug:252,util:273}],199:[function(a,b,c){"use strict";function d(b){g.debug("Validating against the Swagger schema");var c=a(b.swagger?"swagger-schema-official/schema.json":"openapi-schema-validation/schema/openapi-3.0.json");if(!i.validate(b,c)){var d=i.getLastError(),e="Swagger schema validation failed. \n"+f(d.details);throw h.syntax(d,{details:d.details},e)}g.debug("    Validated successfully")}function e(){i=new i({breakOnFirstError:!0,noExtraKeywords:!0,ignoreUnknownFormats:!1,reportPathAsArray:!0})}function f(a,b){b=b||"  ";var c="";return a.forEach(function(a,d){c+=g.format("%s%s at #/%s\n",b,a.message,a.path.join("/")),a.inner&&(c+=f(a.inner,b+"  "))}),c}var g=a("../util"),h=a("ono"),i=a("z-schema");b.exports=d,e()},{"../util":198,ono:156,"openapi-schema-validation/schema/openapi-3.0.json":157,"swagger-schema-official/schema.json":267,"z-schema":264}],200:[function(a,b,c){"use strict";function d(a){if(!a.openapi){n.debug("Validating against the Swagger spec");var b=[];Object.keys(a.paths||{}).forEach(function(c){var d=a.paths[c],f="/paths"+c;d&&0===c.indexOf("/")&&e(a,d,f,b)});Object.keys(a.definitions||{}).forEach(function(b){m(a.definitions[b],"/definitions/"+b)}),n.debug("    Validated successfully")}}function e(a,b,c,d){
p.forEach(function(e){var g=b[e],h=c+"/"+e;if(g){var i=g.operationId;if(i){if(-1!==d.indexOf(i))throw o.syntax("Validation failed. Duplicate operation id '%s'",i);d.push(i)}f(a,b,c,g,h);Object.keys(g.responses||{}).forEach(function(a){var b=g.responses[a],c=h+"/responses/"+a;k(a,b||{},c)})}})}function f(a,b,c,d,e){var f=b.parameters||[],k=d.parameters||[];try{j(f)}catch(m){throw o.syntax(m,"Validation failed. %s has duplicate parameters",c)}try{j(k)}catch(m){throw o.syntax(m,"Validation failed. %s has duplicate parameters",e)}var l=f.reduce(function(a,b){return a.some(function(a){return a.in===b.in&&a.name===b.name})||a.push(b),a},k.slice());g(l,e),h(l,c,e),i(l,a,d,e)}function g(a,b){var c=a.filter(function(a){return"body"===a.in}),d=a.filter(function(a){return"formData"===a.in});if(c.length>1)throw o.syntax("Validation failed. %s has %d body parameters. Only one is allowed.",b,c.length);if(c.length>0&&d.length>0)throw o.syntax("Validation failed. %s has body parameters and formData parameters. Only one or the other is allowed.",b)}function h(a,b,c){for(var d=b.match(n.swaggerParamRegExp)||[],e=0;e<d.length;e++)for(var f=e+1;f<d.length;f++)if(d[e]===d[f])throw o.syntax("Validation failed. %s has multiple path placeholders named %s",c,d[e]);if(a.filter(function(a){return"path"===a.in}).forEach(function(a){if(!0!==a.required)throw o.syntax('Validation failed. Path parameters cannot be optional. Set required=true for the "%s" parameter at %s',a.name,c);var b=d.indexOf("{"+a.name+"}");if(-1===b)throw o.syntax('Validation failed. %s has a path parameter named "%s", but there is no corresponding {%s} in the path string',c,a.name,a.name);d.splice(b,1)}),d.length>0)throw o.syntax("Validation failed. %s is missing path parameter(s) for %s",c,d)}function i(a,b,c,d){a.forEach(function(a){var e,f,g=d+"/parameters/"+a.name;switch(a.in){case"body":e=a.schema,f=r;break;case"formData":e=a,f=q.concat("file");break;default:e=a,f=q}if(l(e,g,f),m(e,g),"file"===e.type){var h=/multipart\/(.*\+)?form-data/,i=/application\/(.*\+)?x-www-form-urlencoded/;if(!(c.consumes||b.consumes||[]).some(function(a){return h.test(a)||i.test(a)}))throw o.syntax("Validation failed. %s has a file parameter, so it must consume multipart/form-data or application/x-www-form-urlencoded",d)}})}function j(a){for(var b=0;b<a.length-1;b++)for(var c=a[b],d=b+1;d<a.length;d++){var e=a[d];if(c.name===e.name&&c.in===e.in)throw o.syntax('Validation failed. Found multiple %s parameters named "%s"',c.in,c.name)}}function k(a,b,c){if("default"!==a&&(a<100||a>599))throw o.syntax("Validation failed. %s has an invalid response code (%s)",c,a);if(Object.keys(b.headers||{}).forEach(function(a){l(b.headers[a],c+"/headers/"+a,q)}),b.schema){var d=r.concat("file");if(-1===d.indexOf(b.schema.type))throw o.syntax("Validation failed. %s has an invalid response schema type (%s)",c,b.schema.type);l(b.schema,c+"/schema",d)}}function l(a,b,c){if(-1===c.indexOf(a.type))throw o.syntax("Validation failed. %s has an invalid type (%s)",b,a.type);if("array"===a.type&&!a.items)throw o.syntax('Validation failed. %s is an array, so it must include an "items" schema',b)}function m(a,b){function c(a,b){if(a.properties)for(var d in a.properties)a.properties.hasOwnProperty(d)&&(b[d]=a.properties[d]);a.allOf&&a.allOf.forEach(function(a){c(a,b)})}if(a.required&&Array.isArray(a.required)){var d={};c(a,d),a.required.forEach(function(a){if(!d[a])throw o.syntax("Validation failed. Property '%s' listed as required but does not exist in '%s'",a,b)})}}var n=a("../util"),o=a("ono"),p=a("swagger-methods"),q=["array","boolean","integer","number","string"],r=["array","boolean","integer","number","string","object","null",void 0];b.exports=d},{"../util":198,ono:156,"swagger-methods":195}],201:[function(a,b,c){a("../modules/es6.symbol"),a("../modules/es6.object.to-string"),b.exports=a("../modules/_core").Symbol},{"../modules/_core":207,"../modules/es6.object.to-string":250,"../modules/es6.symbol":251}],202:[function(a,b,c){b.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},{}],203:[function(a,b,c){var d=a("./_is-object");b.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},{"./_is-object":223}],204:[function(a,b,c){var d=a("./_to-iobject"),e=a("./_to-length"),f=a("./_to-absolute-index");b.exports=function(a){return function(b,c,g){var h,i=d(b),j=e(i.length),k=f(g,j);if(a&&c!=c){for(;j>k;)if((h=i[k++])!=h)return!0}else for(;j>k;k++)if((a||k in i)&&i[k]===c)return a||k||0;return!a&&-1}}},{"./_to-absolute-index":241,"./_to-iobject":243,"./_to-length":244}],205:[function(a,b,c){var d=a("./_cof"),e=a("./_wks")("toStringTag"),f="Arguments"==d(function(){return arguments}()),g=function(a,b){try{return a[b]}catch(c){}};b.exports=function(a){var b,c,h;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=g(b=Object(a),e))?c:f?d(b):"Object"==(h=d(b))&&"function"==typeof b.callee?"Arguments":h}},{"./_cof":206,"./_wks":249}],206:[function(a,b,c){var d={}.toString;b.exports=function(a){return d.call(a).slice(8,-1)}},{}],207:[function(a,b,c){var d=b.exports={version:"2.6.2"};"number"==typeof __e&&(__e=d)},{}],208:[function(a,b,c){var d=a("./_a-function");b.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},{"./_a-function":202}],209:[function(a,b,c){b.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},{}],210:[function(a,b,c){b.exports=!a("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":215}],211:[function(a,b,c){var d=a("./_is-object"),e=a("./_global").document,f=d(e)&&d(e.createElement);b.exports=function(a){return f?e.createElement(a):{}}},{"./_global":216,"./_is-object":223}],212:[function(a,b,c){b.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],213:[function(a,b,c){var d=a("./_object-keys"),e=a("./_object-gops"),f=a("./_object-pie");b.exports=function(a){var b=d(a),c=e.f;if(c)for(var g,h=c(a),i=f.f,j=0;h.length>j;)i.call(a,g=h[j++])&&b.push(g);return b}},{"./_object-gops":232,"./_object-keys":234,"./_object-pie":235}],214:[function(a,b,c){var d=a("./_global"),e=a("./_core"),f=a("./_hide"),g=a("./_redefine"),h=a("./_ctx"),i="prototype",j=function(a,b,c){var k,l,m,n,o=a&j.F,p=a&j.G,q=a&j.S,r=a&j.P,s=a&j.B,t=p?d:q?d[b]||(d[b]={}):(d[b]||{})[i],u=p?e:e[b]||(e[b]={}),v=u[i]||(u[i]={});p&&(c=b);for(k in c)l=!o&&t&&void 0!==t[k],m=(l?t:c)[k],n=s&&l?h(m,d):r&&"function"==typeof m?h(Function.call,m):m,t&&g(t,k,m,a&j.U),u[k]!=m&&f(u,k,n),r&&v[k]!=m&&(v[k]=m)};d.core=e,j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128,b.exports=j},{"./_core":207,"./_ctx":208,"./_global":216,"./_hide":218,"./_redefine":237}],215:[function(a,b,c){b.exports=function(a){try{return!!a()}catch(b){return!0}}},{}],216:[function(a,b,c){var d=b.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},{}],217:[function(a,b,c){var d={}.hasOwnProperty;b.exports=function(a,b){return d.call(a,b)}},{}],218:[function(a,b,c){var d=a("./_object-dp"),e=a("./_property-desc");b.exports=a("./_descriptors")?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},{"./_descriptors":210,"./_object-dp":227,"./_property-desc":236}],219:[function(a,b,c){var d=a("./_global").document;b.exports=d&&d.documentElement},{"./_global":216}],220:[function(a,b,c){b.exports=!a("./_descriptors")&&!a("./_fails")(function(){return 7!=Object.defineProperty(a("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":210,"./_dom-create":211,"./_fails":215}],221:[function(a,b,c){var d=a("./_cof");b.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},{"./_cof":206}],222:[function(a,b,c){var d=a("./_cof");b.exports=Array.isArray||function(a){return"Array"==d(a)}},{"./_cof":206}],223:[function(a,b,c){b.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},{}],224:[function(a,b,c){b.exports=!1},{}],225:[function(a,b,c){var d=a("./_uid")("meta"),e=a("./_is-object"),f=a("./_has"),g=a("./_object-dp").f,h=0,i=Object.isExtensible||function(){return!0},j=!a("./_fails")(function(){return i(Object.preventExtensions({}))}),k=function(a){g(a,d,{value:{i:"O"+ ++h,w:{}}})},l=function(a,b){if(!e(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!f(a,d)){if(!i(a))return"F";if(!b)return"E";k(a)}return a[d].i},m=function(a,b){if(!f(a,d)){if(!i(a))return!0;if(!b)return!1;k(a)}return a[d].w},n=function(a){return j&&o.NEED&&i(a)&&!f(a,d)&&k(a),a},o=b.exports={KEY:d,NEED:!1,fastKey:l,getWeak:m,onFreeze:n}},{"./_fails":215,"./_has":217,"./_is-object":223,"./_object-dp":227,"./_uid":246}],226:[function(a,b,c){var d=a("./_an-object"),e=a("./_object-dps"),f=a("./_enum-bug-keys"),g=a("./_shared-key")("IE_PROTO"),h=function(){},i="prototype",j=function(){var b,c=a("./_dom-create")("iframe"),d=f.length,e="<",g=">";for(c.style.display="none",a("./_html").appendChild(c),c.src="javascript:",b=c.contentWindow.document,b.open(),b.write(e+"script"+g+"document.F=Object"+e+"/script"+g),b.close(),j=b.F;d--;)delete j[i][f[d]];return j()};b.exports=Object.create||function(a,b){var c;return null!==a?(h[i]=d(a),c=new h,h[i]=null,c[g]=a):c=j(),void 0===b?c:e(c,b)}},{"./_an-object":203,"./_dom-create":211,"./_enum-bug-keys":212,"./_html":219,"./_object-dps":228,"./_shared-key":239}],227:[function(a,b,c){var d=a("./_an-object"),e=a("./_ie8-dom-define"),f=a("./_to-primitive"),g=Object.defineProperty;c.f=a("./_descriptors")?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(h){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},{"./_an-object":203,"./_descriptors":210,"./_ie8-dom-define":220,"./_to-primitive":245}],228:[function(a,b,c){var d=a("./_object-dp"),e=a("./_an-object"),f=a("./_object-keys");b.exports=a("./_descriptors")?Object.defineProperties:function(a,b){e(a);for(var c,g=f(b),h=g.length,i=0;h>i;)d.f(a,c=g[i++],b[c]);return a}},{"./_an-object":203,"./_descriptors":210,"./_object-dp":227,"./_object-keys":234}],229:[function(a,b,c){var d=a("./_object-pie"),e=a("./_property-desc"),f=a("./_to-iobject"),g=a("./_to-primitive"),h=a("./_has"),i=a("./_ie8-dom-define"),j=Object.getOwnPropertyDescriptor;c.f=a("./_descriptors")?j:function(a,b){if(a=f(a),b=g(b,!0),i)try{return j(a,b)}catch(c){}if(h(a,b))return e(!d.f.call(a,b),a[b])}},{"./_descriptors":210,"./_has":217,"./_ie8-dom-define":220,"./_object-pie":235,"./_property-desc":236,"./_to-iobject":243,"./_to-primitive":245}],230:[function(a,b,c){var d=a("./_to-iobject"),e=a("./_object-gopn").f,f={}.toString,g="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(a){try{return e(a)}catch(b){return g.slice()}};b.exports.f=function(a){return g&&"[object Window]"==f.call(a)?h(a):e(d(a))}},{"./_object-gopn":231,"./_to-iobject":243}],231:[function(a,b,c){var d=a("./_object-keys-internal"),e=a("./_enum-bug-keys").concat("length","prototype");c.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},{"./_enum-bug-keys":212,"./_object-keys-internal":233}],232:[function(a,b,c){c.f=Object.getOwnPropertySymbols},{}],233:[function(a,b,c){var d=a("./_has"),e=a("./_to-iobject"),f=a("./_array-includes")(!1),g=a("./_shared-key")("IE_PROTO");b.exports=function(a,b){var c,h=e(a),i=0,j=[];for(c in h)c!=g&&d(h,c)&&j.push(c);for(;b.length>i;)d(h,c=b[i++])&&(~f(j,c)||j.push(c));return j}},{"./_array-includes":204,"./_has":217,"./_shared-key":239,"./_to-iobject":243}],234:[function(a,b,c){var d=a("./_object-keys-internal"),e=a("./_enum-bug-keys");b.exports=Object.keys||function(a){return d(a,e)}},{"./_enum-bug-keys":212,"./_object-keys-internal":233}],235:[function(a,b,c){c.f={}.propertyIsEnumerable},{}],236:[function(a,b,c){b.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},{}],237:[function(a,b,c){var d=a("./_global"),e=a("./_hide"),f=a("./_has"),g=a("./_uid")("src"),h="toString",i=Function[h],j=(""+i).split(h);a("./_core").inspectSource=function(a){return i.call(a)},(b.exports=function(a,b,c,h){var i="function"==typeof c;i&&(f(c,"name")||e(c,"name",b)),a[b]!==c&&(i&&(f(c,g)||e(c,g,a[b]?""+a[b]:j.join(String(b)))),a===d?a[b]=c:h?a[b]?a[b]=c:e(a,b,c):(delete a[b],e(a,b,c)))})(Function.prototype,h,function(){return"function"==typeof this&&this[g]||i.call(this)})},{"./_core":207,"./_global":216,"./_has":217,"./_hide":218,"./_uid":246}],238:[function(a,b,c){var d=a("./_object-dp").f,e=a("./_has"),f=a("./_wks")("toStringTag");b.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},{"./_has":217,"./_object-dp":227,"./_wks":249}],239:[function(a,b,c){var d=a("./_shared")("keys"),e=a("./_uid");b.exports=function(a){return d[a]||(d[a]=e(a))}},{"./_shared":240,"./_uid":246}],240:[function(a,b,c){var d=a("./_core"),e=a("./_global"),f="__core-js_shared__",g=e[f]||(e[f]={});(b.exports=function(a,b){return g[a]||(g[a]=void 0!==b?b:{})})("versions",[]).push({version:d.version,mode:a("./_library")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},{"./_core":207,"./_global":216,"./_library":224}],241:[function(a,b,c){var d=a("./_to-integer"),e=Math.max,f=Math.min;b.exports=function(a,b){return a=d(a),a<0?e(a+b,0):f(a,b)}},{"./_to-integer":242}],242:[function(a,b,c){var d=Math.ceil,e=Math.floor;b.exports=function(a){return isNaN(a=+a)?0:(a>0?e:d)(a)}},{}],243:[function(a,b,c){var d=a("./_iobject"),e=a("./_defined");b.exports=function(a){return d(e(a))}},{"./_defined":209,"./_iobject":221}],244:[function(a,b,c){var d=a("./_to-integer"),e=Math.min;b.exports=function(a){return a>0?e(d(a),9007199254740991):0}},{"./_to-integer":242}],245:[function(a,b,c){var d=a("./_is-object");b.exports=function(a,b){if(!d(a))return a;var c,e;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;if("function"==typeof(c=a.valueOf)&&!d(e=c.call(a)))return e;if(!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":223}],246:[function(a,b,c){var d=0,e=Math.random();b.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++d+e).toString(36))}},{}],247:[function(a,b,c){var d=a("./_global"),e=a("./_core"),f=a("./_library"),g=a("./_wks-ext"),h=a("./_object-dp").f;b.exports=function(a){var b=e.Symbol||(e.Symbol=f?{}:d.Symbol||{});"_"==a.charAt(0)||a in b||h(b,a,{value:g.f(a)})}},{"./_core":207,"./_global":216,"./_library":224,"./_object-dp":227,"./_wks-ext":248}],248:[function(a,b,c){c.f=a("./_wks")},{"./_wks":249}],249:[function(a,b,c){var d=a("./_shared")("wks"),e=a("./_uid"),f=a("./_global").Symbol,g="function"==typeof f;(b.exports=function(a){return d[a]||(d[a]=g&&f[a]||(g?f:e)("Symbol."+a))}).store=d},{"./_global":216,"./_shared":240,"./_uid":246}],250:[function(a,b,c){"use strict";var d=a("./_classof"),e={};e[a("./_wks")("toStringTag")]="z",e+""!="[object z]"&&a("./_redefine")(Object.prototype,"toString",function(){return"[object "+d(this)+"]"},!0)},{"./_classof":205,"./_redefine":237,"./_wks":249}],251:[function(a,b,c){"use strict";var d=a("./_global"),e=a("./_has"),f=a("./_descriptors"),g=a("./_export"),h=a("./_redefine"),i=a("./_meta").KEY,j=a("./_fails"),k=a("./_shared"),l=a("./_set-to-string-tag"),m=a("./_uid"),n=a("./_wks"),o=a("./_wks-ext"),p=a("./_wks-define"),q=a("./_enum-keys"),r=a("./_is-array"),s=a("./_an-object"),t=a("./_is-object"),u=a("./_to-iobject"),v=a("./_to-primitive"),w=a("./_property-desc"),x=a("./_object-create"),y=a("./_object-gopn-ext"),z=a("./_object-gopd"),A=a("./_object-dp"),B=a("./_object-keys"),C=z.f,D=A.f,E=y.f,F=d.Symbol,G=d.JSON,H=G&&G.stringify,I="prototype",J=n("_hidden"),K=n("toPrimitive"),L={}.propertyIsEnumerable,M=k("symbol-registry"),N=k("symbols"),O=k("op-symbols"),P=Object[I],Q="function"==typeof F,R=d.QObject,S=!R||!R[I]||!R[I].findChild,T=f&&j(function(){return 7!=x(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=C(P,b);d&&delete P[b],D(a,b,c),d&&a!==P&&D(P,b,d)}:D,U=function(a){var b=N[a]=x(F[I]);return b._k=a,b},V=Q&&"symbol"==typeof F.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof F},W=function(a,b,c){return a===P&&W(O,b,c),s(a),b=v(b,!0),s(c),e(N,b)?(c.enumerable?(e(a,J)&&a[J][b]&&(a[J][b]=!1),c=x(c,{enumerable:w(0,!1)})):(e(a,J)||D(a,J,w(1,{})),a[J][b]=!0),T(a,b,c)):D(a,b,c)},X=function(a,b){s(a);for(var c,d=q(b=u(b)),e=0,f=d.length;f>e;)W(a,c=d[e++],b[c]);return a},Y=function(a,b){return void 0===b?x(a):X(x(a),b)},Z=function(a){var b=L.call(this,a=v(a,!0));return!(this===P&&e(N,a)&&!e(O,a))&&(!(b||!e(this,a)||!e(N,a)||e(this,J)&&this[J][a])||b)},$=function(a,b){if(a=u(a),b=v(b,!0),a!==P||!e(N,b)||e(O,b)){var c=C(a,b);return!c||!e(N,b)||e(a,J)&&a[J][b]||(c.enumerable=!0),c}},_=function(a){for(var b,c=E(u(a)),d=[],f=0;c.length>f;)e(N,b=c[f++])||b==J||b==i||d.push(b);return d},aa=function(a){for(var b,c=a===P,d=E(c?O:u(a)),f=[],g=0;d.length>g;)!e(N,b=d[g++])||c&&!e(P,b)||f.push(N[b]);return f};Q||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var a=m(arguments.length>0?arguments[0]:void 0),b=function(c){this===P&&b.call(O,c),e(this,J)&&e(this[J],a)&&(this[J][a]=!1),T(this,a,w(1,c))};return f&&S&&T(P,a,{configurable:!0,set:b}),U(a)},h(F[I],"toString",function(){return this._k}),z.f=$,A.f=W,a("./_object-gopn").f=y.f=_,a("./_object-pie").f=Z,a("./_object-gops").f=aa,f&&!a("./_library")&&h(P,"propertyIsEnumerable",Z,!0),o.f=function(a){return U(n(a))}),g(g.G+g.W+g.F*!Q,{Symbol:F});for(var ba="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ca=0;ba.length>ca;)n(ba[ca++]);for(var da=B(n.store),ea=0;da.length>ea;)p(da[ea++]);g(g.S+g.F*!Q,"Symbol",{for:function(a){return e(M,a+="")?M[a]:M[a]=F(a)},keyFor:function(a){if(!V(a))throw TypeError(a+" is not a symbol!");for(var b in M)if(M[b]===a)return b},useSetter:function(){S=!0},useSimple:function(){S=!1}}),g(g.S+g.F*!Q,"Object",{create:Y,defineProperty:W,defineProperties:X,getOwnPropertyDescriptor:$,getOwnPropertyNames:_,getOwnPropertySymbols:aa}),G&&g(g.S+g.F*(!Q||j(function(){var a=F();return"[null]"!=H([a])||"{}"!=H({a:a})||"{}"!=H(Object(a))})),"JSON",{stringify:function(a){for(var b,c,d=[a],e=1;arguments.length>e;)d.push(arguments[e++]);if(c=b=d[1],(t(b)||void 0!==a)&&!V(a))return r(b)||(b=function(a,b){if("function"==typeof c&&(b=c.call(this,a,b)),!V(b))return b}),d[1]=b,H.apply(G,d)}}),F[I][K]||a("./_hide")(F[I],K,F[I].valueOf),l(F,"Symbol"),l(Math,"Math",!0),l(d.JSON,"JSON",!0)},{"./_an-object":203,"./_descriptors":210,"./_enum-keys":213,"./_export":214,"./_fails":215,"./_global":216,"./_has":217,"./_hide":218,"./_is-array":222,"./_is-object":223,"./_library":224,"./_meta":225,"./_object-create":226,"./_object-dp":227,"./_object-gopd":229,"./_object-gopn":231,"./_object-gopn-ext":230,"./_object-gops":232,"./_object-keys":234,"./_object-pie":235,"./_property-desc":236,"./_redefine":237,"./_set-to-string-tag":238,"./_shared":240,"./_to-iobject":243,"./_to-primitive":245,"./_uid":246,"./_wks":249,"./_wks-define":247,"./_wks-ext":248}],252:[function(a,b,c){arguments[4][39][0].apply(c,arguments)},{"./common":253,_process:161,dup:39}],253:[function(a,b,c){arguments[4][40][0].apply(c,arguments)},{dup:40,ms:254}],254:[function(a,b,c){arguments[4][71][0].apply(c,arguments)},{dup:71}],255:[function(a,b,c){"use strict";b.exports={INVALID_TYPE:"Expected type {0} but found type {1}",INVALID_FORMAT:"Object didn't pass validation for format {0}: {1}",ENUM_MISMATCH:"No enum match for: {0}",ENUM_CASE_MISMATCH:"Enum does not match case for: {0}",ANY_OF_MISSING:"Data does not match any schemas from 'anyOf'",ONE_OF_MISSING:"Data does not match any schemas from 'oneOf'",ONE_OF_MULTIPLE:"Data is valid against more than one schema from 'oneOf'",NOT_PASSED:"Data matches schema from 'not'",ARRAY_LENGTH_SHORT:"Array is too short ({0}), minimum {1}",ARRAY_LENGTH_LONG:"Array is too long ({0}), maximum {1}",ARRAY_UNIQUE:"Array items are not unique (indexes {0} and {1})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",MULTIPLE_OF:"Value {0} is not a multiple of {1}",MINIMUM:"Value {0} is less than minimum {1}",MINIMUM_EXCLUSIVE:"Value {0} is equal or less than exclusive minimum {1}",MAXIMUM:"Value {0} is greater than maximum {1}",MAXIMUM_EXCLUSIVE:"Value {0} is equal or greater than exclusive maximum {1}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({0}), minimum {1}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({0}), maximum {1}",OBJECT_MISSING_REQUIRED_PROPERTY:"Missing required property: {0}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed: {0}",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {0} (due to key: {1})",MIN_LENGTH:"String is too short ({0} chars), minimum {1}",MAX_LENGTH:"String is too long ({0} chars), maximum {1}",PATTERN:"String does not match pattern {0}: {1}",KEYWORD_TYPE_EXPECTED:"Keyword '{0}' is expected to be of type '{1}'",KEYWORD_UNDEFINED_STRICT:"Keyword '{0}' must be defined in strict mode",KEYWORD_UNEXPECTED:"Keyword '{0}' is not expected to appear in the schema",KEYWORD_MUST_BE:"Keyword '{0}' must be {1}",KEYWORD_DEPENDENCY:"Keyword '{0}' requires keyword '{1}'",KEYWORD_PATTERN:"Keyword '{0}' is not a valid RegExp pattern: {1}",KEYWORD_VALUE_TYPE:"Each element of keyword '{0}' array must be a '{1}'",UNKNOWN_FORMAT:"There is no validation function for format '{0}'",CUSTOM_MODE_FORCE_PROPERTIES:"{0} must define at least one property if present",REF_UNRESOLVED:"Reference has not been resolved during compilation: {0}",UNRESOLVABLE_REFERENCE:"Reference could not be resolved: {0}",SCHEMA_NOT_REACHABLE:"Validator was not able to read schema with uri: {0}",SCHEMA_TYPE_EXPECTED:"Schema is expected to be of type 'object'",SCHEMA_NOT_AN_OBJECT:"Schema is not an object: {0}",ASYNC_TIMEOUT:"{0} asynchronous task(s) have timed out after {1} ms",PARENT_SCHEMA_VALIDATION_FAILED:"Schema failed to validate against its parent schema, see inner errors for details.",REMOTE_NOT_VALID:"Remote reference didn't compile successfully: {0}"}},{}],256:[function(a,b,c){var d=a("validator"),e={date:function(a){if("string"!=typeof a)return!0;var b=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(a);return null!==b&&!(b[2]<"01"||b[2]>"12"||b[3]<"01"||b[3]>"31")},"date-time":function(a){if("string"!=typeof a)return!0;var b=a.toLowerCase().split("t");if(!e.date(b[0]))return!1;var c=/^([0-9]{2}):([0-9]{2}):([0-9]{2})(.[0-9]+)?(z|([+-][0-9]{2}:[0-9]{2}))$/.exec(b[1]);return null!==c&&!(c[1]>"23"||c[2]>"59"||c[3]>"59")},email:function(a){return"string"!=typeof a||d.isEmail(a,{require_tld:!0})},hostname:function(a){if("string"!=typeof a)return!0;var b=/^[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?(\.[a-zA-Z](([-0-9a-zA-Z]+)?[0-9a-zA-Z])?)*$/.test(a);if(b){if(a.length>255)return!1;for(var c=a.split("."),d=0;d<c.length;d++)if(c[d].length>63)return!1}return b},"host-name":function(a){return e.hostname.call(this,a)},ipv4:function(a){return"string"!=typeof a||d.isIP(a,4)},ipv6:function(a){return"string"!=typeof a||d.isIP(a,6)},regex:function(a){try{return RegExp(a),!0}catch(b){return!1}},uri:function(a){return this.options.strictUris?e["strict-uri"].apply(this,arguments):"string"!=typeof a||RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?").test(a)},"strict-uri":function(a){return"string"!=typeof a||d.isURL(a)}};b.exports=e},{validator:274}],257:[function(a,b,c){"use strict";var d=a("./FormatValidators"),e=a("./Report"),f=a("./Utils"),g={multipleOf:function(a,b,c){"number"==typeof c&&"integer"!==f.whatIs(c/b.multipleOf)&&a.addError("MULTIPLE_OF",[c,b.multipleOf],null,b)},maximum:function(a,b,c){"number"==typeof c&&(!0!==b.exclusiveMaximum?c>b.maximum&&a.addError("MAXIMUM",[c,b.maximum],null,b):c>=b.maximum&&a.addError("MAXIMUM_EXCLUSIVE",[c,b.maximum],null,b))},exclusiveMaximum:function(){},minimum:function(a,b,c){"number"==typeof c&&(!0!==b.exclusiveMinimum?c<b.minimum&&a.addError("MINIMUM",[c,b.minimum],null,b):c<=b.minimum&&a.addError("MINIMUM_EXCLUSIVE",[c,b.minimum],null,b))},exclusiveMinimum:function(){},maxLength:function(a,b,c){"string"==typeof c&&f.ucs2decode(c).length>b.maxLength&&a.addError("MAX_LENGTH",[c.length,b.maxLength],null,b)},minLength:function(a,b,c){"string"==typeof c&&f.ucs2decode(c).length<b.minLength&&a.addError("MIN_LENGTH",[c.length,b.minLength],null,b)},pattern:function(a,b,c){"string"==typeof c&&!1===RegExp(b.pattern).test(c)&&a.addError("PATTERN",[b.pattern,c],null,b)},additionalItems:function(a,b,c){Array.isArray(c)&&!1===b.additionalItems&&Array.isArray(b.items)&&c.length>b.items.length&&a.addError("ARRAY_ADDITIONAL_ITEMS",null,null,b)},items:function(){},maxItems:function(a,b,c){Array.isArray(c)&&c.length>b.maxItems&&a.addError("ARRAY_LENGTH_LONG",[c.length,b.maxItems],null,b)},minItems:function(a,b,c){Array.isArray(c)&&c.length<b.minItems&&a.addError("ARRAY_LENGTH_SHORT",[c.length,b.minItems],null,b)},uniqueItems:function(a,b,c){if(Array.isArray(c)&&!0===b.uniqueItems){var d=[];!1===f.isUniqueArray(c,d)&&a.addError("ARRAY_UNIQUE",d,null,b)}},maxProperties:function(a,b,c){if("object"===f.whatIs(c)){var d=Object.keys(c).length;d>b.maxProperties&&a.addError("OBJECT_PROPERTIES_MAXIMUM",[d,b.maxProperties],null,b)}},minProperties:function(a,b,c){if("object"===f.whatIs(c)){var d=Object.keys(c).length;d<b.minProperties&&a.addError("OBJECT_PROPERTIES_MINIMUM",[d,b.minProperties],null,b)}},required:function(a,b,c){if("object"===f.whatIs(c))for(var d=b.required.length;d--;){var e=b.required[d];void 0===c[e]&&a.addError("OBJECT_MISSING_REQUIRED_PROPERTY",[e],null,b)}},additionalProperties:function(a,b,c){if(void 0===b.properties&&void 0===b.patternProperties)return g.properties.call(this,a,b,c)},patternProperties:function(a,b,c){if(void 0===b.properties)return g.properties.call(this,a,b,c)},properties:function(a,b,c){if("object"===f.whatIs(c)){var d=void 0!==b.properties?b.properties:{},e=void 0!==b.patternProperties?b.patternProperties:{};if(!1===b.additionalProperties){var g=Object.keys(c),h=Object.keys(d),i=Object.keys(e);g=f.difference(g,h);for(var j=i.length;j--;)for(var k=RegExp(i[j]),l=g.length;l--;)!0===k.test(g[l])&&g.splice(l,1);if(g.length>0){var m=this.options.assumeAdditional.length;if(m)for(;m--;){var n=g.indexOf(this.options.assumeAdditional[m]);-1!==n&&g.splice(n,1)}g.length>0&&a.addError("OBJECT_ADDITIONAL_PROPERTIES",[g],null,b)}}}},dependencies:function(a,b,d){if("object"===f.whatIs(d))for(var e=Object.keys(b.dependencies),g=e.length;g--;){var h=e[g];if(d[h]){var i=b.dependencies[h];if("object"===f.whatIs(i))c.validate.call(this,a,i,d);else for(var j=i.length;j--;){var k=i[j];void 0===d[k]&&a.addError("OBJECT_DEPENDENCY_KEY",[k,h],null,b)}}}},enum:function(a,b,c){for(var d=!1,e=!1,g=b.enum.length;g--;){if(f.areEqual(c,b.enum[g])){d=!0;break}f.areEqual(c,b.enum[g]),{caseInsensitiveComparison:!0}&&(e=!0)}if(!1===d){var h=e&&this.options.enumCaseInsensitiveComparison?"ENUM_CASE_MISMATCH":"ENUM_MISMATCH";a.addError(h,[c],null,b)}},type:function(a,b,c){var d=f.whatIs(c);"string"==typeof b.type?d===b.type||"integer"===d&&"number"===b.type||a.addError("INVALID_TYPE",[b.type,d],null,b):-1!==b.type.indexOf(d)||"integer"===d&&-1!==b.type.indexOf("number")||a.addError("INVALID_TYPE",[b.type,d],null,b)},allOf:function(a,b,d){for(var e=b.allOf.length;e--;){var f=c.validate.call(this,a,b.allOf[e],d);if(this.options.breakOnFirstError&&!1===f)break}},anyOf:function(a,b,d){for(var f=[],g=!1,h=b.anyOf.length;h--&&!1===g;){var i=new e(a);f.push(i),g=c.validate.call(this,i,b.anyOf[h],d)}!1===g&&a.addError("ANY_OF_MISSING",void 0,f,b)},oneOf:function(a,b,d){for(var f=0,g=[],h=b.oneOf.length;h--;){var i=new e(a,{maxErrors:1});g.push(i),!0===c.validate.call(this,i,b.oneOf[h],d)&&f++}0===f?a.addError("ONE_OF_MISSING",void 0,g,b):f>1&&a.addError("ONE_OF_MULTIPLE",null,null,b)},not:function(a,b,d){var f=new e(a);!0===c.validate.call(this,f,b.not,d)&&a.addError("NOT_PASSED",null,null,b)},definitions:function(){},format:function(a,b,c){var e=d[b.format];"function"==typeof e?2===e.length?a.addAsyncTask(e,[c],function(d){!0!==d&&a.addError("INVALID_FORMAT",[b.format,c],null,b)}):!0!==e.call(this,c)&&a.addError("INVALID_FORMAT",[b.format,c],null,b):!0!==this.options.ignoreUnknownFormats&&a.addError("UNKNOWN_FORMAT",[b.format],null,b)}},h=function(a,b,d){var e=d.length;if(Array.isArray(b.items))for(;e--;)e<b.items.length?(a.path.push(e.toString()),c.validate.call(this,a,b.items[e],d[e]),a.path.pop()):"object"==typeof b.additionalItems&&(a.path.push(e.toString()),c.validate.call(this,a,b.additionalItems,d[e]),a.path.pop());else if("object"==typeof b.items)for(;e--;)a.path.push(e.toString()),c.validate.call(this,a,b.items,d[e]),a.path.pop()},i=function(a,b,d){var e=b.additionalProperties;!0!==e&&void 0!==e||(e={});for(var f=b.properties?Object.keys(b.properties):[],g=b.patternProperties?Object.keys(b.patternProperties):[],h=Object.keys(d),i=h.length;i--;){var j=h[i],k=d[j],l=[];-1!==f.indexOf(j)&&l.push(b.properties[j]);for(var m=g.length;m--;){var n=g[m];!0===RegExp(n).test(j)&&l.push(b.patternProperties[n])}for(0===l.length&&!1!==e&&l.push(e),m=l.length;m--;)a.path.push(j),c.validate.call(this,a,l[m],k),a.path.pop()}};c.JsonValidators=g,c.validate=function(a,b,c){a.commonErrorMessage="JSON_OBJECT_VALIDATION_FAILED";var d=f.whatIs(b);if("object"!==d)return a.addError("SCHEMA_NOT_AN_OBJECT",[d],null,b),!1;var e=Object.keys(b);if(0===e.length)return!0;var j=!1;if(a.rootSchema||(a.rootSchema=b,j=!0),void 0!==b.$ref){for(var k=99;b.$ref&&k>0;){if(!b.__$refResolved){a.addError("REF_UNRESOLVED",[b.$ref],null,b);break}if(b.__$refResolved===b)break;b=b.__$refResolved,e=Object.keys(b),k--}if(0===k)throw new Error("Circular dependency by $ref references!")}var l=f.whatIs(c);if(b.type&&(e.splice(e.indexOf("type"),1),g.type.call(this,a,b,c),a.errors.length&&this.options.breakOnFirstError))return!1;for(var m=e.length;m--&&!(g[e[m]]&&(g[e[m]].call(this,a,b,c),a.errors.length&&this.options.breakOnFirstError)););return 0!==a.errors.length&&!1!==this.options.breakOnFirstError||("array"===l?h.call(this,a,b,c):"object"===l&&i.call(this,a,b,c)),"function"==typeof this.options.customValidator&&this.options.customValidator(a,b,c),j&&(a.rootSchema=void 0),0===a.errors.length}},{"./FormatValidators":256,"./Report":259,"./Utils":263}],258:[function(a,b,c){"function"!=typeof Number.isFinite&&(Number.isFinite=function(a){return"number"==typeof a&&(a===a&&a!==1/0&&a!==-1/0)})},{}],259:[function(a,b,c){(function(c){"use strict";function d(a,b){this.parentReport=a instanceof d?a:void 0,this.options=a instanceof d?a.options:a||{},this.reportOptions=b||{},this.errors=[],this.path=[],this.asyncTasks=[],this.rootSchema=void 0,this.commonErrorMessage=void 0,this.json=void 0}var e=a("lodash.get"),f=a("./Errors"),g=a("./Utils");d.prototype.isValid=function(){if(this.asyncTasks.length>0)throw new Error("Async tasks pending, can't answer isValid");return 0===this.errors.length},d.prototype.addAsyncTask=function(a,b,c){this.asyncTasks.push([a,b,c])},d.prototype.processAsyncTasks=function(a,b){function d(){c.nextTick(function(){var a=0===j.errors.length,c=a?void 0:j.errors;b(c,a)})}function e(a){return function(b){i||(a(b),0==--g&&d())}}var f=a||2e3,g=this.asyncTasks.length,h=g,i=!1,j=this;if(0===g||this.errors.length>0&&this.options.breakOnFirstError)return void d();for(;h--;){var k=this.asyncTasks[h];k[0].apply(null,k[1].concat(e(k[2])))}setTimeout(function(){g>0&&(i=!0,j.addError("ASYNC_TIMEOUT",[g,f]),b(j.errors,!1))},f)
},d.prototype.getPath=function(a){var b=[];return this.parentReport&&(b=b.concat(this.parentReport.path)),b=b.concat(this.path),!0!==a&&(b="#/"+b.map(function(a){return g.isAbsoluteUri(a)?"uri("+a+")":a.replace(/\~/g,"~0").replace(/\//g,"~1")}).join("/")),b},d.prototype.getSchemaId=function(){if(!this.rootSchema)return null;var a=[];for(this.parentReport&&(a=a.concat(this.parentReport.path)),a=a.concat(this.path);a.length>0;){var b=e(this.rootSchema,a);if(b&&b.id)return b.id;a.pop()}return this.rootSchema.id},d.prototype.hasError=function(a,b){for(var c=this.errors.length;c--;)if(this.errors[c].code===a){for(var d=!0,e=this.errors[c].params.length;e--;)this.errors[c].params[e]!==b[e]&&(d=!1);if(d)return d}return!1},d.prototype.addError=function(a,b,c,d){if(!a)throw new Error("No errorCode passed into addError()");this.addCustomError(a,f[a],b,c,d)},d.prototype.getJson=function(){for(var a=this;void 0===a.json;)if(void 0===(a=a.parentReport))return;return a.json},d.prototype.addCustomError=function(a,b,c,d,e){if(!(this.errors.length>=this.reportOptions.maxErrors)){if(!b)throw new Error("No errorMessage known for code "+a);c=c||[];for(var f=c.length;f--;){var h=g.whatIs(c[f]),i="object"===h||"null"===h?JSON.stringify(c[f]):c[f];b=b.replace("{"+f+"}",i)}var j={code:a,params:c,message:b,path:this.getPath(this.options.reportPathAsArray),schemaId:this.getSchemaId()};if(j[g.schemaSymbol]=e,j[g.jsonSymbol]=this.getJson(),e&&"string"==typeof e?j.description=e:e&&"object"==typeof e&&(e.title&&(j.title=e.title),e.description&&(j.description=e.description)),null!=d){for(Array.isArray(d)||(d=[d]),j.inner=[],f=d.length;f--;)for(var k=d[f],l=k.errors.length;l--;)j.inner.push(k.errors[l]);0===j.inner.length&&(j.inner=void 0)}this.errors.push(j)}},b.exports=d}).call(this,a("_process"))},{"./Errors":255,"./Utils":263,_process:161,"lodash.get":72}],260:[function(a,b,c){"use strict";function d(a){return decodeURIComponent(a).replace(/~[0-1]/g,function(a){return"~1"===a?"/":"~"})}function e(a){var b=a.indexOf("#");return-1===b?a:a.slice(0,b)}function f(a){var b=a.indexOf("#");return-1===b?void 0:a.slice(b+1)}function g(a,b){if("object"==typeof a&&null!==a){if(!b)return a;if(a.id&&(a.id===b||"#"===a.id[0]&&a.id.substring(1)===b))return a;var c,d;if(Array.isArray(a)){for(c=a.length;c--;)if(d=g(a[c],b))return d}else{var e=Object.keys(a);for(c=e.length;c--;){var f=e[c];if(0!==f.indexOf("__$")&&(d=g(a[f],b)))return d}}}}var h=a("lodash.isequal"),i=a("./Report"),j=a("./SchemaCompilation"),k=a("./SchemaValidation"),l=a("./Utils");c.cacheSchemaByUri=function(a,b){var c=e(a);c&&(this.cache[c]=b)},c.removeFromCacheByUri=function(a){var b=e(a);b&&delete this.cache[b]},c.checkCacheForUri=function(a){var b=e(a);return!!b&&null!=this.cache[b]},c.getSchema=function(a,b){return"object"==typeof b&&(b=c.getSchemaByReference.call(this,a,b)),"string"==typeof b&&(b=c.getSchemaByUri.call(this,a,b)),b},c.getSchemaByReference=function(a,b){for(var c=this.referenceCache.length;c--;)if(h(this.referenceCache[c][0],b))return this.referenceCache[c][1];var d=l.cloneDeep(b);return this.referenceCache.push([b,d]),d},c.getSchemaByUri=function(a,b,c){var h=e(b),l=f(b),m=h?this.cache[h]:c;if(m&&h){if(m!==c){a.path.push(h);var n=new i(a);if(j.compileSchema.call(this,n,m)){var o=this.options;try{this.options=m.__$validationOptions||this.options,k.validateSchema.call(this,n,m)}finally{this.options=o}}var p=n.isValid();if(p||a.addError("REMOTE_NOT_VALID",[b],n),a.path.pop(),!p)return}}if(m&&l)for(var q=l.split("/"),r=0,s=q.length;m&&r<s;r++){var t=d(q[r]);m=0===r?g(m,t):m[t]}return m},c.getRemotePath=e},{"./Report":259,"./SchemaCompilation":261,"./SchemaValidation":262,"./Utils":263,"lodash.isequal":73}],261:[function(a,b,c){"use strict";function d(a,b){if(i.isAbsoluteUri(b))return b;var c,d=a.join(""),e=i.isAbsoluteUri(d),f=i.isRelativeUri(d),g=i.isRelativeUri(b);e&&g?(c=d.match(/\/[^\/]*$/))&&(d=d.slice(0,c.index+1)):f&&g?d="":(c=d.match(/[^#\/]+$/))&&(d=d.slice(0,c.index));var h=d+b;return h=h.replace(/##/,"#")}function e(a,b,c,f){if(b=b||[],c=c||[],f=f||[],"object"!=typeof a||null===a)return b;"string"==typeof a.id&&c.push(a.id),"string"==typeof a.$ref&&void 0===a.__$refResolved&&b.push({ref:d(c,a.$ref),key:"$ref",obj:a,path:f.slice(0)}),"string"==typeof a.$schema&&void 0===a.__$schemaResolved&&b.push({ref:d(c,a.$schema),key:"$schema",obj:a,path:f.slice(0)});var g;if(Array.isArray(a))for(g=a.length;g--;)f.push(g.toString()),e(a[g],b,c,f),f.pop();else{var h=Object.keys(a);for(g=h.length;g--;)0!==h[g].indexOf("__$")&&(f.push(h[g]),e(a[h[g]],b,c,f),f.pop())}return"string"==typeof a.id&&c.pop(),b}function f(a,b){for(var c=a.length;c--;)if(a[c].id===b)return a[c];return null}var g=a("./Report"),h=a("./SchemaCache"),i=a("./Utils"),j=function(a,b){for(var d=b.length,e=0;d--;){var f=new g(a);c.compileSchema.call(this,f,b[d])&&e++,a.errors=a.errors.concat(f.errors)}return e},k=function(a,b){var c,d=0;do{for(var e=a.errors.length;e--;)"UNRESOLVABLE_REFERENCE"===a.errors[e].code&&a.errors.splice(e,1);for(c=d,d=j.call(this,a,b),e=b.length;e--;){var g=b[e];if(g.__$missingReferences){for(var h=g.__$missingReferences.length;h--;){var i=g.__$missingReferences[h],k=f(b,i.ref);k&&(i.obj["__"+i.key+"Resolved"]=k,g.__$missingReferences.splice(h,1))}0===g.__$missingReferences.length&&delete g.__$missingReferences}}}while(d!==b.length&&d!==c);return a.isValid()};c.compileSchema=function(a,b){if(a.commonErrorMessage="SCHEMA_COMPILATION_FAILED","string"==typeof b){var d=h.getSchemaByUri.call(this,a,b);if(!d)return a.addError("SCHEMA_NOT_REACHABLE",[b]),!1;b=d}if(Array.isArray(b))return k.call(this,a,b);if(b.__$compiled&&b.id&&!1===h.checkCacheForUri.call(this,b.id)&&(b.__$compiled=void 0),b.__$compiled)return!0;b.id&&"string"==typeof b.id&&h.cacheSchemaByUri.call(this,b.id,b);var f=!1;a.rootSchema||(a.rootSchema=b,f=!0);var j=a.isValid();delete b.__$missingReferences;for(var l=e.call(this,b),m=l.length;m--;){var n=l[m],o=h.getSchemaByUri.call(this,a,n.ref,b);if(!o){var p=this.getSchemaReader();if(p){var q=p(n.ref);if(q){q.id=n.ref;var r=new g(a);c.compileSchema.call(this,r,q)?o=h.getSchemaByUri.call(this,a,n.ref,b):a.errors=a.errors.concat(r.errors)}}}if(!o){var s=a.hasError("REMOTE_NOT_VALID",[n.ref]),t=i.isAbsoluteUri(n.ref),u=!1,v=!0===this.options.ignoreUnresolvableReferences;t&&(u=h.checkCacheForUri.call(this,n.ref)),s||v&&t||u||(Array.prototype.push.apply(a.path,n.path),a.addError("UNRESOLVABLE_REFERENCE",[n.ref]),a.path=a.path.slice(0,-n.path.length),j&&(b.__$missingReferences=b.__$missingReferences||[],b.__$missingReferences.push(n)))}n.obj["__"+n.key+"Resolved"]=o}var w=a.isValid();return w?b.__$compiled=!0:b.id&&"string"==typeof b.id&&h.removeFromCacheByUri.call(this,b.id),f&&(a.rootSchema=void 0),w}},{"./Report":259,"./SchemaCache":260,"./Utils":263}],262:[function(a,b,c){"use strict";var d=a("./FormatValidators"),e=a("./JsonValidation"),f=a("./Report"),g=a("./Utils"),h={$ref:function(a,b){"string"!=typeof b.$ref&&a.addError("KEYWORD_TYPE_EXPECTED",["$ref","string"])},$schema:function(a,b){"string"!=typeof b.$schema&&a.addError("KEYWORD_TYPE_EXPECTED",["$schema","string"])},multipleOf:function(a,b){"number"!=typeof b.multipleOf?a.addError("KEYWORD_TYPE_EXPECTED",["multipleOf","number"]):b.multipleOf<=0&&a.addError("KEYWORD_MUST_BE",["multipleOf","strictly greater than 0"])},maximum:function(a,b){"number"!=typeof b.maximum&&a.addError("KEYWORD_TYPE_EXPECTED",["maximum","number"])},exclusiveMaximum:function(a,b){"boolean"!=typeof b.exclusiveMaximum?a.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMaximum","boolean"]):void 0===b.maximum&&a.addError("KEYWORD_DEPENDENCY",["exclusiveMaximum","maximum"])},minimum:function(a,b){"number"!=typeof b.minimum&&a.addError("KEYWORD_TYPE_EXPECTED",["minimum","number"])},exclusiveMinimum:function(a,b){"boolean"!=typeof b.exclusiveMinimum?a.addError("KEYWORD_TYPE_EXPECTED",["exclusiveMinimum","boolean"]):void 0===b.minimum&&a.addError("KEYWORD_DEPENDENCY",["exclusiveMinimum","minimum"])},maxLength:function(a,b){"integer"!==g.whatIs(b.maxLength)?a.addError("KEYWORD_TYPE_EXPECTED",["maxLength","integer"]):b.maxLength<0&&a.addError("KEYWORD_MUST_BE",["maxLength","greater than, or equal to 0"])},minLength:function(a,b){"integer"!==g.whatIs(b.minLength)?a.addError("KEYWORD_TYPE_EXPECTED",["minLength","integer"]):b.minLength<0&&a.addError("KEYWORD_MUST_BE",["minLength","greater than, or equal to 0"])},pattern:function(a,b){if("string"!=typeof b.pattern)a.addError("KEYWORD_TYPE_EXPECTED",["pattern","string"]);else try{RegExp(b.pattern)}catch(c){a.addError("KEYWORD_PATTERN",["pattern",b.pattern])}},additionalItems:function(a,b){var d=g.whatIs(b.additionalItems);"boolean"!==d&&"object"!==d?a.addError("KEYWORD_TYPE_EXPECTED",["additionalItems",["boolean","object"]]):"object"===d&&(a.path.push("additionalItems"),c.validateSchema.call(this,a,b.additionalItems),a.path.pop())},items:function(a,b){var d=g.whatIs(b.items);if("object"===d)a.path.push("items"),c.validateSchema.call(this,a,b.items),a.path.pop();else if("array"===d)for(var e=b.items.length;e--;)a.path.push("items"),a.path.push(e.toString()),c.validateSchema.call(this,a,b.items[e]),a.path.pop(),a.path.pop();else a.addError("KEYWORD_TYPE_EXPECTED",["items",["array","object"]]);!0===this.options.forceAdditional&&void 0===b.additionalItems&&Array.isArray(b.items)&&a.addError("KEYWORD_UNDEFINED_STRICT",["additionalItems"]),this.options.assumeAdditional&&void 0===b.additionalItems&&Array.isArray(b.items)&&(b.additionalItems=!1)},maxItems:function(a,b){"number"!=typeof b.maxItems?a.addError("KEYWORD_TYPE_EXPECTED",["maxItems","integer"]):b.maxItems<0&&a.addError("KEYWORD_MUST_BE",["maxItems","greater than, or equal to 0"])},minItems:function(a,b){"integer"!==g.whatIs(b.minItems)?a.addError("KEYWORD_TYPE_EXPECTED",["minItems","integer"]):b.minItems<0&&a.addError("KEYWORD_MUST_BE",["minItems","greater than, or equal to 0"])},uniqueItems:function(a,b){"boolean"!=typeof b.uniqueItems&&a.addError("KEYWORD_TYPE_EXPECTED",["uniqueItems","boolean"])},maxProperties:function(a,b){"integer"!==g.whatIs(b.maxProperties)?a.addError("KEYWORD_TYPE_EXPECTED",["maxProperties","integer"]):b.maxProperties<0&&a.addError("KEYWORD_MUST_BE",["maxProperties","greater than, or equal to 0"])},minProperties:function(a,b){"integer"!==g.whatIs(b.minProperties)?a.addError("KEYWORD_TYPE_EXPECTED",["minProperties","integer"]):b.minProperties<0&&a.addError("KEYWORD_MUST_BE",["minProperties","greater than, or equal to 0"])},required:function(a,b){if("array"!==g.whatIs(b.required))a.addError("KEYWORD_TYPE_EXPECTED",["required","array"]);else if(0===b.required.length)a.addError("KEYWORD_MUST_BE",["required","an array with at least one element"]);else{for(var c=b.required.length;c--;)"string"!=typeof b.required[c]&&a.addError("KEYWORD_VALUE_TYPE",["required","string"]);!1===g.isUniqueArray(b.required)&&a.addError("KEYWORD_MUST_BE",["required","an array with unique items"])}},additionalProperties:function(a,b){var d=g.whatIs(b.additionalProperties);"boolean"!==d&&"object"!==d?a.addError("KEYWORD_TYPE_EXPECTED",["additionalProperties",["boolean","object"]]):"object"===d&&(a.path.push("additionalProperties"),c.validateSchema.call(this,a,b.additionalProperties),a.path.pop())},properties:function(a,b){if("object"!==g.whatIs(b.properties))return void a.addError("KEYWORD_TYPE_EXPECTED",["properties","object"]);for(var d=Object.keys(b.properties),e=d.length;e--;){var f=d[e],h=b.properties[f];a.path.push("properties"),a.path.push(f),c.validateSchema.call(this,a,h),a.path.pop(),a.path.pop()}!0===this.options.forceAdditional&&void 0===b.additionalProperties&&a.addError("KEYWORD_UNDEFINED_STRICT",["additionalProperties"]),this.options.assumeAdditional&&void 0===b.additionalProperties&&(b.additionalProperties=!1),!0===this.options.forceProperties&&0===d.length&&a.addError("CUSTOM_MODE_FORCE_PROPERTIES",["properties"])},patternProperties:function(a,b){if("object"!==g.whatIs(b.patternProperties))return void a.addError("KEYWORD_TYPE_EXPECTED",["patternProperties","object"]);for(var d=Object.keys(b.patternProperties),e=d.length;e--;){var f=d[e],h=b.patternProperties[f];try{RegExp(f)}catch(i){a.addError("KEYWORD_PATTERN",["patternProperties",f])}a.path.push("patternProperties"),a.path.push(f.toString()),c.validateSchema.call(this,a,h),a.path.pop(),a.path.pop()}!0===this.options.forceProperties&&0===d.length&&a.addError("CUSTOM_MODE_FORCE_PROPERTIES",["patternProperties"])},dependencies:function(a,b){if("object"!==g.whatIs(b.dependencies))a.addError("KEYWORD_TYPE_EXPECTED",["dependencies","object"]);else for(var d=Object.keys(b.dependencies),e=d.length;e--;){var f=d[e],h=b.dependencies[f],i=g.whatIs(h);if("object"===i)a.path.push("dependencies"),a.path.push(f),c.validateSchema.call(this,a,h),a.path.pop(),a.path.pop();else if("array"===i){var j=h.length;for(0===j&&a.addError("KEYWORD_MUST_BE",["dependencies","not empty array"]);j--;)"string"!=typeof h[j]&&a.addError("KEYWORD_VALUE_TYPE",["dependensices","string"]);!1===g.isUniqueArray(h)&&a.addError("KEYWORD_MUST_BE",["dependencies","an array with unique items"])}else a.addError("KEYWORD_VALUE_TYPE",["dependencies","object or array"])}},enum:function(a,b){!1===Array.isArray(b.enum)?a.addError("KEYWORD_TYPE_EXPECTED",["enum","array"]):0===b.enum.length?a.addError("KEYWORD_MUST_BE",["enum","an array with at least one element"]):!1===g.isUniqueArray(b.enum)&&a.addError("KEYWORD_MUST_BE",["enum","an array with unique elements"])},type:function(a,b){var c=["array","boolean","integer","number","null","object","string"],d=c.join(","),e=Array.isArray(b.type);if(e){for(var f=b.type.length;f--;)-1===c.indexOf(b.type[f])&&a.addError("KEYWORD_TYPE_EXPECTED",["type",d]);!1===g.isUniqueArray(b.type)&&a.addError("KEYWORD_MUST_BE",["type","an object with unique properties"])}else"string"==typeof b.type?-1===c.indexOf(b.type)&&a.addError("KEYWORD_TYPE_EXPECTED",["type",d]):a.addError("KEYWORD_TYPE_EXPECTED",["type",["string","array"]]);!0===this.options.noEmptyStrings&&("string"===b.type||e&&-1!==b.type.indexOf("string"))&&void 0===b.minLength&&void 0===b.enum&&void 0===b.format&&(b.minLength=1),!0===this.options.noEmptyArrays&&("array"===b.type||e&&-1!==b.type.indexOf("array"))&&void 0===b.minItems&&(b.minItems=1),!0===this.options.forceProperties&&("object"===b.type||e&&-1!==b.type.indexOf("object"))&&void 0===b.properties&&void 0===b.patternProperties&&a.addError("KEYWORD_UNDEFINED_STRICT",["properties"]),!0===this.options.forceItems&&("array"===b.type||e&&-1!==b.type.indexOf("array"))&&void 0===b.items&&a.addError("KEYWORD_UNDEFINED_STRICT",["items"]),!0===this.options.forceMinItems&&("array"===b.type||e&&-1!==b.type.indexOf("array"))&&void 0===b.minItems&&a.addError("KEYWORD_UNDEFINED_STRICT",["minItems"]),!0===this.options.forceMaxItems&&("array"===b.type||e&&-1!==b.type.indexOf("array"))&&void 0===b.maxItems&&a.addError("KEYWORD_UNDEFINED_STRICT",["maxItems"]),!0===this.options.forceMinLength&&("string"===b.type||e&&-1!==b.type.indexOf("string"))&&void 0===b.minLength&&void 0===b.format&&void 0===b.enum&&void 0===b.pattern&&a.addError("KEYWORD_UNDEFINED_STRICT",["minLength"]),!0===this.options.forceMaxLength&&("string"===b.type||e&&-1!==b.type.indexOf("string"))&&void 0===b.maxLength&&void 0===b.format&&void 0===b.enum&&void 0===b.pattern&&a.addError("KEYWORD_UNDEFINED_STRICT",["maxLength"])},allOf:function(a,b){if(!1===Array.isArray(b.allOf))a.addError("KEYWORD_TYPE_EXPECTED",["allOf","array"]);else if(0===b.allOf.length)a.addError("KEYWORD_MUST_BE",["allOf","an array with at least one element"]);else for(var d=b.allOf.length;d--;)a.path.push("allOf"),a.path.push(d.toString()),c.validateSchema.call(this,a,b.allOf[d]),a.path.pop(),a.path.pop()},anyOf:function(a,b){if(!1===Array.isArray(b.anyOf))a.addError("KEYWORD_TYPE_EXPECTED",["anyOf","array"]);else if(0===b.anyOf.length)a.addError("KEYWORD_MUST_BE",["anyOf","an array with at least one element"]);else for(var d=b.anyOf.length;d--;)a.path.push("anyOf"),a.path.push(d.toString()),c.validateSchema.call(this,a,b.anyOf[d]),a.path.pop(),a.path.pop()},oneOf:function(a,b){if(!1===Array.isArray(b.oneOf))a.addError("KEYWORD_TYPE_EXPECTED",["oneOf","array"]);else if(0===b.oneOf.length)a.addError("KEYWORD_MUST_BE",["oneOf","an array with at least one element"]);else for(var d=b.oneOf.length;d--;)a.path.push("oneOf"),a.path.push(d.toString()),c.validateSchema.call(this,a,b.oneOf[d]),a.path.pop(),a.path.pop()},not:function(a,b){"object"!==g.whatIs(b.not)?a.addError("KEYWORD_TYPE_EXPECTED",["not","object"]):(a.path.push("not"),c.validateSchema.call(this,a,b.not),a.path.pop())},definitions:function(a,b){if("object"!==g.whatIs(b.definitions))a.addError("KEYWORD_TYPE_EXPECTED",["definitions","object"]);else for(var d=Object.keys(b.definitions),e=d.length;e--;){var f=d[e],h=b.definitions[f];a.path.push("definitions"),a.path.push(f),c.validateSchema.call(this,a,h),a.path.pop(),a.path.pop()}},format:function(a,b){"string"!=typeof b.format?a.addError("KEYWORD_TYPE_EXPECTED",["format","string"]):void 0===d[b.format]&&!0!==this.options.ignoreUnknownFormats&&a.addError("UNKNOWN_FORMAT",[b.format])},id:function(a,b){"string"!=typeof b.id&&a.addError("KEYWORD_TYPE_EXPECTED",["id","string"])},title:function(a,b){"string"!=typeof b.title&&a.addError("KEYWORD_TYPE_EXPECTED",["title","string"])},description:function(a,b){"string"!=typeof b.description&&a.addError("KEYWORD_TYPE_EXPECTED",["description","string"])},default:function(){}},i=function(a,b){for(var d=b.length;d--;)c.validateSchema.call(this,a,b[d]);return a.isValid()};c.validateSchema=function(a,b){if(a.commonErrorMessage="SCHEMA_VALIDATION_FAILED",Array.isArray(b))return i.call(this,a,b);if(b.__$validated)return!0;var c=b.$schema&&b.id!==b.$schema;if(c)if(b.__$schemaResolved&&b.__$schemaResolved!==b){var d=new f(a),j=e.validate.call(this,d,b.__$schemaResolved,b);!1===j&&a.addError("PARENT_SCHEMA_VALIDATION_FAILED",null,d)}else!0!==this.options.ignoreUnresolvableReferences&&a.addError("REF_UNRESOLVED",[b.$schema]);if(!0===this.options.noTypeless){if(void 0!==b.type){var k=[];Array.isArray(b.anyOf)&&(k=k.concat(b.anyOf)),Array.isArray(b.oneOf)&&(k=k.concat(b.oneOf)),Array.isArray(b.allOf)&&(k=k.concat(b.allOf)),k.forEach(function(a){a.type||(a.type=b.type)})}void 0===b.enum&&void 0===b.type&&void 0===b.anyOf&&void 0===b.oneOf&&void 0===b.not&&void 0===b.$ref&&a.addError("KEYWORD_UNDEFINED_STRICT",["type"])}for(var l=Object.keys(b),m=l.length;m--;){var n=l[m];0!==n.indexOf("__")&&(void 0!==h[n]?h[n].call(this,a,b):c||!0===this.options.noExtraKeywords&&a.addError("KEYWORD_UNEXPECTED",[n]))}if(!0===this.options.pedanticCheck){if(b.enum){var o=g.clone(b);for(delete o.enum,delete o.default,a.path.push("enum"),m=b.enum.length;m--;)a.path.push(m.toString()),e.validate.call(this,a,o,b.enum[m]),a.path.pop();a.path.pop()}b.default&&(a.path.push("default"),e.validate.call(this,a,b,b.default),a.path.pop())}var p=a.isValid();return p&&(b.__$validated=!0),p}},{"./FormatValidators":256,"./JsonValidation":257,"./Report":259,"./Utils":263}],263:[function(a,b,c){"use strict";a("core-js/es6/symbol"),c.jsonSymbol=Symbol.for("z-schema/json"),c.schemaSymbol=Symbol.for("z-schema/schema");var d=c.sortedKeys=function(a){return Object.keys(a).sort()};c.isAbsoluteUri=function(a){return/^https?:\/\//.test(a)},c.isRelativeUri=function(a){return/.+#/.test(a)},c.whatIs=function(a){var b=typeof a;return"object"===b?null===a?"null":Array.isArray(a)?"array":"object":"number"===b?Number.isFinite(a)?a%1==0?"integer":"number":Number.isNaN(a)?"not-a-number":"unknown-number":b},c.areEqual=function a(b,e,f){f=f||{};var g=f.caseInsensitiveComparison||!1;if(b===e)return!0;if(!0===g&&"string"==typeof b&&"string"==typeof e&&b.toUpperCase()===e.toUpperCase())return!0;var h,i;if(Array.isArray(b)&&Array.isArray(e)){if(b.length!==e.length)return!1;for(i=b.length,h=0;h<i;h++)if(!a(b[h],e[h],{caseInsensitiveComparison:g}))return!1;return!0}if("object"===c.whatIs(b)&&"object"===c.whatIs(e)){var j=d(b);if(!a(j,d(e),{caseInsensitiveComparison:g}))return!1;for(i=j.length,h=0;h<i;h++)if(!a(b[j[h]],e[j[h]],{caseInsensitiveComparison:g}))return!1;return!0}return!1},c.isUniqueArray=function(a,b){var d,e,f=a.length;for(d=0;d<f;d++)for(e=d+1;e<f;e++)if(c.areEqual(a[d],a[e]))return b&&b.push(d,e),!1;return!0},c.difference=function(a,b){for(var c=[],d=a.length;d--;)-1===b.indexOf(a[d])&&c.push(a[d]);return c},c.clone=function(a){if(void 0!==a){if("object"!=typeof a||null===a)return a;var b,c;if(Array.isArray(a))for(b=[],c=a.length;c--;)b[c]=a[c];else{b={};var d=Object.keys(a);for(c=d.length;c--;){var e=d[c];b[e]=a[e]}}return b}},c.cloneDeep=function(a){function b(a){if("object"!=typeof a||null===a)return a;var e,f,g;if(-1!==(g=c.indexOf(a)))return d[g];if(c.push(a),Array.isArray(a))for(e=[],d.push(e),f=a.length;f--;)e[f]=b(a[f]);else{e={},d.push(e);var h=Object.keys(a);for(f=h.length;f--;){var i=h[f];e[i]=b(a[i])}}return e}var c=[],d=[];return b(a)},c.ucs2decode=function(a){for(var b,c,d=[],e=0,f=a.length;e<f;)b=a.charCodeAt(e++),b>=55296&&b<=56319&&e<f?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}},{"core-js/es6/symbol":201}],264:[function(a,b,c){(function(c){"use strict";function d(a){var b;if("object"==typeof a){for(var c,d=Object.keys(a),e=d.length;e--;)if(c=d[e],void 0===p[c])throw new Error("Unexpected option passed to constructor: "+c);for(d=Object.keys(p),e=d.length;e--;)c=d[e],void 0===a[c]&&(a[c]=m.clone(p[c]));b=a}else b=m.clone(p);return!0===b.strictMode&&(b.forceAdditional=!0,b.forceItems=!0,b.forceMaxLength=!0,b.forceProperties=!0,b.noExtraKeywords=!0,b.noTypeless=!0,b.noEmptyStrings=!0,b.noEmptyArrays=!0),b}function e(a){this.cache={},this.referenceCache=[],this.validateOptions={},this.options=d(a);var b=d({});this.setRemoteReference("http://json-schema.org/draft-04/schema",n,b),this.setRemoteReference("http://json-schema.org/draft-04/hyper-schema",o,b)}a("./Polyfills");var f=a("lodash.get"),g=a("./Report"),h=a("./FormatValidators"),i=a("./JsonValidation"),j=a("./SchemaCache"),k=a("./SchemaCompilation"),l=a("./SchemaValidation"),m=a("./Utils"),n=a("./schemas/schema.json"),o=a("./schemas/hyper-schema.json"),p={asyncTimeout:2e3,forceAdditional:!1,assumeAdditional:!1,enumCaseInsensitiveComparison:!1,forceItems:!1,forceMinItems:!1,forceMaxItems:!1,forceMinLength:!1,forceMaxLength:!1,forceProperties:!1,ignoreUnresolvableReferences:!1,noExtraKeywords:!1,noTypeless:!1,noEmptyStrings:!1,noEmptyArrays:!1,strictUris:!1,strictMode:!1,reportPathAsArray:!1,breakOnFirstError:!0,pedanticCheck:!1,ignoreUnknownFormats:!1,customValidator:null};e.prototype.compileSchema=function(a){var b=new g(this.options);return a=j.getSchema.call(this,b,a),k.compileSchema.call(this,b,a),this.lastReport=b,b.isValid()},e.prototype.validateSchema=function(a){if(Array.isArray(a)&&0===a.length)throw new Error(".validateSchema was called with an empty array");var b=new g(this.options);return a=j.getSchema.call(this,b,a),k.compileSchema.call(this,b,a)&&l.validateSchema.call(this,b,a),this.lastReport=b,b.isValid()},e.prototype.validate=function(a,b,d,e){"function"===m.whatIs(d)&&(e=d,d={}),d||(d={}),this.validateOptions=d;var h=m.whatIs(b);if("string"!==h&&"object"!==h){var n=new Error("Invalid .validate call - schema must be an string or object but "+h+" was passed!");if(e)return void c.nextTick(function(){e(n,!1)});throw n}var o=!1,p=new g(this.options);if(p.json=a,"string"==typeof b){var q=b;if(!(b=j.getSchema.call(this,p,q)))throw new Error("Schema with id '"+q+"' wasn't found in the validator cache!")}else b=j.getSchema.call(this,p,b);var r=!1;o||(r=k.compileSchema.call(this,p,b)),r||(this.lastReport=p,o=!0);var s=!1;if(o||(s=l.validateSchema.call(this,p,b)),s||(this.lastReport=p,o=!0),d.schemaPath&&(p.rootSchema=b,!(b=f(b,d.schemaPath))))throw new Error("Schema path '"+d.schemaPath+"' wasn't found in the schema!");if(o||i.validate.call(this,p,b,a),e)return void p.processAsyncTasks(this.options.asyncTimeout,e);if(p.asyncTasks.length>0)throw new Error("This validation has async tasks and cannot be done in sync mode, please provide callback argument.");return this.lastReport=p,p.isValid()},e.prototype.getLastError=function(){if(0===this.lastReport.errors.length)return null;var a=new Error;return a.name="z-schema validation error",a.message=this.lastReport.commonErrorMessage,a.details=this.lastReport.errors,a},e.prototype.getLastErrors=function(){return this.lastReport&&this.lastReport.errors.length>0?this.lastReport.errors:void 0},e.prototype.getMissingReferences=function(a){a=a||this.lastReport.errors;for(var b=[],c=a.length;c--;){var d=a[c];if("UNRESOLVABLE_REFERENCE"===d.code){var e=d.params[0];-1===b.indexOf(e)&&b.push(e)}d.inner&&(b=b.concat(this.getMissingReferences(d.inner)))}return b},e.prototype.getMissingRemoteReferences=function(){for(var a=this.getMissingReferences(),b=[],c=a.length;c--;){var d=j.getRemotePath(a[c]);d&&-1===b.indexOf(d)&&b.push(d)}return b},e.prototype.setRemoteReference=function(a,b,c){b="string"==typeof b?JSON.parse(b):m.cloneDeep(b),c&&(b.__$validationOptions=d(c)),j.cacheSchemaByUri.call(this,a,b)},e.prototype.getResolvedSchema=function(a){var b=new g(this.options);a=j.getSchema.call(this,b,a),a=m.cloneDeep(a);var c=[],d=function(a){var b,e=m.whatIs(a);if(("object"===e||"array"===e)&&!a.___$visited){if(a.___$visited=!0,c.push(a),a.$ref&&a.__$refResolved){var f=a.__$refResolved,g=a;delete a.$ref,delete a.__$refResolved;for(b in f)f.hasOwnProperty(b)&&(g[b]=f[b])}for(b in a)a.hasOwnProperty(b)&&(0===b.indexOf("__$")?delete a[b]:d(a[b]))}};if(d(a),c.forEach(function(a){delete a.___$visited}),this.lastReport=b,b.isValid())return a;throw this.getLastError()},e.prototype.setSchemaReader=function(a){return e.setSchemaReader(a)},e.prototype.getSchemaReader=function(){return e.schemaReader},e.schemaReader=void 0,e.setSchemaReader=function(a){e.schemaReader=a},e.registerFormat=function(a,b){h[a]=b},e.unregisterFormat=function(a){delete h[a]},e.getRegisteredFormats=function(){return Object.keys(h)},e.getDefaultOptions=function(){return m.cloneDeep(p)},e.schemaSymbol=m.schemaSymbol,e.jsonSymbol=m.jsonSymbol,b.exports=e}).call(this,a("_process"))},{"./FormatValidators":256,"./JsonValidation":257,"./Polyfills":258,"./Report":259,"./SchemaCache":260,"./SchemaCompilation":261,"./SchemaValidation":262,"./Utils":263,"./schemas/hyper-schema.json":265,"./schemas/schema.json":266,_process:161,"lodash.get":72}],265:[function(a,b,c){b.exports={$schema:"http://json-schema.org/draft-04/hyper-schema#",id:"http://json-schema.org/draft-04/hyper-schema#",title:"JSON Hyper-Schema",allOf:[{$ref:"http://json-schema.org/draft-04/schema#"}],properties:{additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}]},dependencies:{additionalProperties:{anyOf:[{$ref:"#"},{type:"array"}]}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}]},definitions:{additionalProperties:{$ref:"#"}},patternProperties:{additionalProperties:{$ref:"#"}},properties:{additionalProperties:{$ref:"#"}},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"},links:{type:"array",items:{$ref:"#/definitions/linkDescription"}},fragmentResolution:{type:"string"},media:{type:"object",properties:{type:{description:"A media type, as described in RFC 2046",type:"string"},binaryEncoding:{description:"A content encoding scheme, as described in RFC 2045",type:"string"}}},pathStart:{description:"Instances' URIs must start with this value for this schema to apply to them",type:"string",format:"uri"}},definitions:{schemaArray:{type:"array",items:{$ref:"#"}},linkDescription:{title:"Link Description Object",type:"object",required:["href","rel"],properties:{href:{description:"a URI template, as defined by RFC 6570, with the addition of the $, ( and ) characters for pre-processing",type:"string"},rel:{description:"relation to the target resource of the link",type:"string"},title:{description:"a title for the link",type:"string"},targetSchema:{description:"JSON Schema describing the link target",$ref:"#"},mediaType:{description:"media type (as defined by RFC 2046) describing the link target",type:"string"},method:{description:'method for requesting the target of the link (e.g. for HTTP this might be "GET" or "DELETE")',type:"string"},encType:{description:"The media type in which to submit data along with the request",type:"string",default:"application/json"},schema:{description:"Schema describing the data to submit along with the request",$ref:"#"}}}}}},{}],266:[function(a,b,c){b.exports={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}}},{}],267:[function(a,b,c){b.exports={title:"A JSON Schema for Swagger 2.0 API.",id:"http://swagger.io/v2/schema.json#",$schema:"http://json-schema.org/draft-04/schema#",type:"object",required:["swagger","info","paths"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{swagger:{type:"string",enum:["2.0"],description:"The Swagger version of this document."},info:{$ref:"#/definitions/info"},host:{type:"string",pattern:"^[^{}/ :\\\\]+(?::\\d+)?$",description:"The host (name or ip) of the API. Example: 'swagger.io'"},basePath:{type:"string",pattern:"^/",description:"The base path to the API. Example: '/api'."},schemes:{$ref:"#/definitions/schemesList"},consumes:{description:"A list of MIME types accepted by the API.",$ref:"#/definitions/mediaTypeList"},produces:{description:"A list of MIME types the API can produce.",$ref:"#/definitions/mediaTypeList"},paths:{$ref:"#/definitions/paths"},definitions:{$ref:"#/definitions/definitions"},parameters:{$ref:"#/definitions/parameterDefinitions"},responses:{
$ref:"#/definitions/responseDefinitions"},security:{$ref:"#/definitions/security"},securityDefinitions:{$ref:"#/definitions/securityDefinitions"},tags:{type:"array",items:{$ref:"#/definitions/tag"},uniqueItems:!0},externalDocs:{$ref:"#/definitions/externalDocs"}},definitions:{info:{type:"object",description:"General information about the API.",required:["version","title"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{title:{type:"string",description:"A unique and precise title of the API."},version:{type:"string",description:"A semantic version number of the API."},description:{type:"string",description:"A longer description of the API. Should be different from the title.  GitHub Flavored Markdown is allowed."},termsOfService:{type:"string",description:"The terms of service for the API."},contact:{$ref:"#/definitions/contact"},license:{$ref:"#/definitions/license"}}},contact:{type:"object",description:"Contact information for the owners of the API.",additionalProperties:!1,properties:{name:{type:"string",description:"The identifying name of the contact person/organization."},url:{type:"string",description:"The URL pointing to the contact information.",format:"uri"},email:{type:"string",description:"The email address of the contact person/organization.",format:"email"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},license:{type:"object",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"The name of the license type. It's encouraged to use an OSI compatible license."},url:{type:"string",description:"The URL pointing to the license.",format:"uri"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},paths:{type:"object",description:"Relative paths to the individual endpoints. They must be relative to the 'basePath'.",patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"},"^/":{$ref:"#/definitions/pathItem"}},additionalProperties:!1},definitions:{type:"object",additionalProperties:{$ref:"#/definitions/schema"},description:"One or more JSON objects describing the schemas being consumed and produced by the API."},parameterDefinitions:{type:"object",additionalProperties:{$ref:"#/definitions/parameter"},description:"One or more JSON representations for parameters"},responseDefinitions:{type:"object",additionalProperties:{$ref:"#/definitions/response"},description:"One or more JSON representations for parameters"},externalDocs:{type:"object",additionalProperties:!1,description:"information about external documentation",required:["url"],properties:{description:{type:"string"},url:{type:"string",format:"uri"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},examples:{type:"object",additionalProperties:!0},mimeType:{type:"string",description:"The MIME type of the HTTP message."},operation:{type:"object",required:["responses"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{tags:{type:"array",items:{type:"string"},uniqueItems:!0},summary:{type:"string",description:"A brief summary of the operation."},description:{type:"string",description:"A longer description of the operation, GitHub Flavored Markdown is allowed."},externalDocs:{$ref:"#/definitions/externalDocs"},operationId:{type:"string",description:"A unique identifier of the operation."},produces:{description:"A list of MIME types the API can produce.",$ref:"#/definitions/mediaTypeList"},consumes:{description:"A list of MIME types the API can consume.",$ref:"#/definitions/mediaTypeList"},parameters:{$ref:"#/definitions/parametersList"},responses:{$ref:"#/definitions/responses"},schemes:{$ref:"#/definitions/schemesList"},deprecated:{type:"boolean",default:!1},security:{$ref:"#/definitions/security"}}},pathItem:{type:"object",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{$ref:{type:"string"},get:{$ref:"#/definitions/operation"},put:{$ref:"#/definitions/operation"},post:{$ref:"#/definitions/operation"},delete:{$ref:"#/definitions/operation"},options:{$ref:"#/definitions/operation"},head:{$ref:"#/definitions/operation"},patch:{$ref:"#/definitions/operation"},parameters:{$ref:"#/definitions/parametersList"}}},responses:{type:"object",description:"Response objects names can either be any valid HTTP status code or 'default'.",minProperties:1,additionalProperties:!1,patternProperties:{"^([0-9]{3})$|^(default)$":{$ref:"#/definitions/responseValue"},"^x-":{$ref:"#/definitions/vendorExtension"}},not:{type:"object",additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}}},responseValue:{oneOf:[{$ref:"#/definitions/response"},{$ref:"#/definitions/jsonReference"}]},response:{type:"object",required:["description"],properties:{description:{type:"string"},schema:{oneOf:[{$ref:"#/definitions/schema"},{$ref:"#/definitions/fileSchema"}]},headers:{$ref:"#/definitions/headers"},examples:{$ref:"#/definitions/examples"}},additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},headers:{type:"object",additionalProperties:{$ref:"#/definitions/header"}},header:{type:"object",additionalProperties:!1,required:["type"],properties:{type:{type:"string",enum:["string","number","integer","boolean","array"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormat"},default:{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},enum:{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},vendorExtension:{description:"Any property starting with x- is valid.",additionalProperties:!0,additionalItems:!0},bodyParameter:{type:"object",required:["name","in","schema"],patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{description:{type:"string",description:"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},name:{type:"string",description:"The name of the parameter."},in:{type:"string",description:"Determines the location of the parameter.",enum:["body"]},required:{type:"boolean",description:"Determines whether or not this parameter is required or optional.",default:!1},schema:{$ref:"#/definitions/schema"}},additionalProperties:!1},headerParameterSubSchema:{additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{required:{type:"boolean",description:"Determines whether or not this parameter is required or optional.",default:!1},in:{type:"string",description:"Determines the location of the parameter.",enum:["header"]},description:{type:"string",description:"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},name:{type:"string",description:"The name of the parameter."},type:{type:"string",enum:["string","number","boolean","integer","array"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormat"},default:{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},enum:{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"}}},queryParameterSubSchema:{additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{required:{type:"boolean",description:"Determines whether or not this parameter is required or optional.",default:!1},in:{type:"string",description:"Determines the location of the parameter.",enum:["query"]},description:{type:"string",description:"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},name:{type:"string",description:"The name of the parameter."},allowEmptyValue:{type:"boolean",default:!1,description:"allows sending a parameter by name only or with an empty value."},type:{type:"string",enum:["string","number","boolean","integer","array"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormatWithMulti"},default:{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},enum:{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"}}},formDataParameterSubSchema:{additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{required:{type:"boolean",description:"Determines whether or not this parameter is required or optional.",default:!1},in:{type:"string",description:"Determines the location of the parameter.",enum:["formData"]},description:{type:"string",description:"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},name:{type:"string",description:"The name of the parameter."},allowEmptyValue:{type:"boolean",default:!1,description:"allows sending a parameter by name only or with an empty value."},type:{type:"string",enum:["string","number","boolean","integer","array","file"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormatWithMulti"},default:{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},enum:{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"}}},pathParameterSubSchema:{additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},required:["required"],properties:{required:{type:"boolean",enum:[!0],description:"Determines whether or not this parameter is required or optional."},in:{type:"string",description:"Determines the location of the parameter.",enum:["path"]},description:{type:"string",description:"A brief description of the parameter. This could contain examples of use.  GitHub Flavored Markdown is allowed."},name:{type:"string",description:"The name of the parameter."},type:{type:"string",enum:["string","number","boolean","integer","array"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormat"},default:{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},enum:{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"}}},nonBodyParameter:{type:"object",required:["name","in","type"],oneOf:[{$ref:"#/definitions/headerParameterSubSchema"},{$ref:"#/definitions/formDataParameterSubSchema"},{$ref:"#/definitions/queryParameterSubSchema"},{$ref:"#/definitions/pathParameterSubSchema"}]},parameter:{oneOf:[{$ref:"#/definitions/bodyParameter"},{$ref:"#/definitions/nonBodyParameter"}]},schema:{type:"object",description:"A deterministic version of a JSON Schema object.",patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{$ref:{type:"string"},format:{type:"string"},title:{$ref:"http://json-schema.org/draft-04/schema#/properties/title"},description:{$ref:"http://json-schema.org/draft-04/schema#/properties/description"},default:{$ref:"http://json-schema.org/draft-04/schema#/properties/default"},multipleOf:{$ref:"http://json-schema.org/draft-04/schema#/properties/multipleOf"},maximum:{$ref:"http://json-schema.org/draft-04/schema#/properties/maximum"},exclusiveMaximum:{$ref:"http://json-schema.org/draft-04/schema#/properties/exclusiveMaximum"},minimum:{$ref:"http://json-schema.org/draft-04/schema#/properties/minimum"},exclusiveMinimum:{$ref:"http://json-schema.org/draft-04/schema#/properties/exclusiveMinimum"},maxLength:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minLength:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},pattern:{$ref:"http://json-schema.org/draft-04/schema#/properties/pattern"},maxItems:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minItems:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},uniqueItems:{$ref:"http://json-schema.org/draft-04/schema#/properties/uniqueItems"},maxProperties:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minProperties:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},required:{$ref:"http://json-schema.org/draft-04/schema#/definitions/stringArray"},enum:{$ref:"http://json-schema.org/draft-04/schema#/properties/enum"},additionalProperties:{anyOf:[{$ref:"#/definitions/schema"},{type:"boolean"}],default:{}},type:{$ref:"http://json-schema.org/draft-04/schema#/properties/type"},items:{anyOf:[{$ref:"#/definitions/schema"},{type:"array",minItems:1,items:{$ref:"#/definitions/schema"}}],default:{}},allOf:{type:"array",minItems:1,items:{$ref:"#/definitions/schema"}},properties:{type:"object",additionalProperties:{$ref:"#/definitions/schema"},default:{}},discriminator:{type:"string"},readOnly:{type:"boolean",default:!1},xml:{$ref:"#/definitions/xml"},externalDocs:{$ref:"#/definitions/externalDocs"},example:{}},additionalProperties:!1},fileSchema:{type:"object",description:"A deterministic version of a JSON Schema object.",patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},required:["type"],properties:{format:{type:"string"},title:{$ref:"http://json-schema.org/draft-04/schema#/properties/title"},description:{$ref:"http://json-schema.org/draft-04/schema#/properties/description"},default:{$ref:"http://json-schema.org/draft-04/schema#/properties/default"},required:{$ref:"http://json-schema.org/draft-04/schema#/definitions/stringArray"},type:{type:"string",enum:["file"]},readOnly:{type:"boolean",default:!1},externalDocs:{$ref:"#/definitions/externalDocs"},example:{}},additionalProperties:!1},primitivesItems:{type:"object",additionalProperties:!1,properties:{type:{type:"string",enum:["string","number","integer","boolean","array"]},format:{type:"string"},items:{$ref:"#/definitions/primitivesItems"},collectionFormat:{$ref:"#/definitions/collectionFormat"},default:{$ref:"#/definitions/default"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/maxLength"},minLength:{$ref:"#/definitions/minLength"},pattern:{$ref:"#/definitions/pattern"},maxItems:{$ref:"#/definitions/maxItems"},minItems:{$ref:"#/definitions/minItems"},uniqueItems:{$ref:"#/definitions/uniqueItems"},enum:{$ref:"#/definitions/enum"},multipleOf:{$ref:"#/definitions/multipleOf"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},security:{type:"array",items:{$ref:"#/definitions/securityRequirement"},uniqueItems:!0},securityRequirement:{type:"object",additionalProperties:{type:"array",items:{type:"string"},uniqueItems:!0}},xml:{type:"object",additionalProperties:!1,properties:{name:{type:"string"},namespace:{type:"string"},prefix:{type:"string"},attribute:{type:"boolean",default:!1},wrapped:{type:"boolean",default:!1}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},tag:{type:"object",additionalProperties:!1,required:["name"],properties:{name:{type:"string"},description:{type:"string"},externalDocs:{$ref:"#/definitions/externalDocs"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},securityDefinitions:{type:"object",additionalProperties:{oneOf:[{$ref:"#/definitions/basicAuthenticationSecurity"},{$ref:"#/definitions/apiKeySecurity"},{$ref:"#/definitions/oauth2ImplicitSecurity"},{$ref:"#/definitions/oauth2PasswordSecurity"},{$ref:"#/definitions/oauth2ApplicationSecurity"},{$ref:"#/definitions/oauth2AccessCodeSecurity"}]}},basicAuthenticationSecurity:{type:"object",additionalProperties:!1,required:["type"],properties:{type:{type:"string",enum:["basic"]},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},apiKeySecurity:{type:"object",additionalProperties:!1,required:["type","name","in"],properties:{type:{type:"string",enum:["apiKey"]},name:{type:"string"},in:{type:"string",enum:["header","query"]},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},oauth2ImplicitSecurity:{type:"object",additionalProperties:!1,required:["type","flow","authorizationUrl"],properties:{type:{type:"string",enum:["oauth2"]},flow:{type:"string",enum:["implicit"]},scopes:{$ref:"#/definitions/oauth2Scopes"},authorizationUrl:{type:"string",format:"uri"},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},oauth2PasswordSecurity:{type:"object",additionalProperties:!1,required:["type","flow","tokenUrl"],properties:{type:{type:"string",enum:["oauth2"]},flow:{type:"string",enum:["password"]},scopes:{$ref:"#/definitions/oauth2Scopes"},tokenUrl:{type:"string",format:"uri"},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},oauth2ApplicationSecurity:{type:"object",additionalProperties:!1,required:["type","flow","tokenUrl"],properties:{type:{type:"string",enum:["oauth2"]},flow:{type:"string",enum:["application"]},scopes:{$ref:"#/definitions/oauth2Scopes"},tokenUrl:{type:"string",format:"uri"},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},oauth2AccessCodeSecurity:{type:"object",additionalProperties:!1,required:["type","flow","authorizationUrl","tokenUrl"],properties:{type:{type:"string",enum:["oauth2"]},flow:{type:"string",enum:["accessCode"]},scopes:{$ref:"#/definitions/oauth2Scopes"},authorizationUrl:{type:"string",format:"uri"},tokenUrl:{type:"string",format:"uri"},description:{type:"string"}},patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}}},oauth2Scopes:{type:"object",additionalProperties:{type:"string"}},mediaTypeList:{type:"array",items:{$ref:"#/definitions/mimeType"},uniqueItems:!0},parametersList:{type:"array",description:"The parameters needed to send a valid API call.",additionalItems:!1,items:{oneOf:[{$ref:"#/definitions/parameter"},{$ref:"#/definitions/jsonReference"}]},uniqueItems:!0},schemesList:{type:"array",description:"The transfer protocol of the API.",items:{type:"string",enum:["http","https","ws","wss"]},uniqueItems:!0},collectionFormat:{type:"string",enum:["csv","ssv","tsv","pipes"],default:"csv"},collectionFormatWithMulti:{type:"string",enum:["csv","ssv","tsv","pipes","multi"],default:"csv"},title:{$ref:"http://json-schema.org/draft-04/schema#/properties/title"},description:{$ref:"http://json-schema.org/draft-04/schema#/properties/description"},default:{$ref:"http://json-schema.org/draft-04/schema#/properties/default"},multipleOf:{$ref:"http://json-schema.org/draft-04/schema#/properties/multipleOf"},maximum:{$ref:"http://json-schema.org/draft-04/schema#/properties/maximum"},exclusiveMaximum:{$ref:"http://json-schema.org/draft-04/schema#/properties/exclusiveMaximum"},minimum:{$ref:"http://json-schema.org/draft-04/schema#/properties/minimum"},exclusiveMinimum:{$ref:"http://json-schema.org/draft-04/schema#/properties/exclusiveMinimum"},maxLength:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minLength:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},pattern:{$ref:"http://json-schema.org/draft-04/schema#/properties/pattern"},maxItems:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minItems:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},uniqueItems:{$ref:"http://json-schema.org/draft-04/schema#/properties/uniqueItems"},enum:{$ref:"http://json-schema.org/draft-04/schema#/properties/enum"},jsonReference:{type:"object",required:["$ref"],additionalProperties:!1,properties:{$ref:{type:"string"}}}}}},{}],268:[function(a,b,c){function d(a,b){this._id=a,this._clearFn=b}var e=a("process/browser.js").nextTick,f=Function.prototype.apply,g=Array.prototype.slice,h={},i=0;c.setTimeout=function(){return new d(f.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new d(f.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(a){a.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},c.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},c._unrefActive=c.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c.setImmediate="function"==typeof setImmediate?setImmediate:function(a){var b=i++,d=!(arguments.length<2)&&g.call(arguments,1);return h[b]=!0,e(function(){h[b]&&(d?a.apply(null,d):a.call(null),c.clearImmediate(b))}),b},c.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(a){delete h[a]}},{"process/browser.js":161}],269:[function(a,b,c){function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function e(a,b,c){if(a&&j(a)&&a instanceof d)return a;var e=new d;return e.parse(a,b,c),e}function f(a){return i(a)&&(a=e(a)),a instanceof d?a.format():d.prototype.format.call(a)}function g(a,b){return e(a,!1,!0).resolve(b)}function h(a,b){return a?e(a,!1,!0).resolveObject(b):b}function i(a){return"string"==typeof a}function j(a){return"object"==typeof a&&null!==a}function k(a){return null===a}function l(a){return null==a}var m=a("punycode");c.parse=e,c.resolve=g,c.resolveObject=h,c.format=f,c.Url=d;var n=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,p=["<",">",'"',"`"," ","\r","\n","\t"],q=["{","}","|","\\","^","`"].concat(p),r=["'"].concat(q),s=["%","/","?",";","#"].concat(r),t=["/","?","#"],u=/^[a-z0-9A-Z_-]{0,63}$/,v=/^([a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},z=a("querystring");d.prototype.parse=function(a,b,c){if(!i(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var d=a;d=d.trim();var e=n.exec(d);if(e){e=e[0];var f=e.toLowerCase();this.protocol=f,d=d.substr(e.length)}if(c||e||d.match(/^\/\/[^@\/]+@[^@\/]+/)){var g="//"===d.substr(0,2);!g||e&&x[e]||(d=d.substr(2),this.slashes=!0)}if(!x[e]&&(g||e&&!y[e])){for(var h=-1,j=0;j<t.length;j++){var k=d.indexOf(t[j]);-1!==k&&(-1===h||k<h)&&(h=k)}var l,o;o=-1===h?d.lastIndexOf("@"):d.lastIndexOf("@",h),-1!==o&&(l=d.slice(0,o),d=d.slice(o+1),this.auth=decodeURIComponent(l)),h=-1;for(var j=0;j<s.length;j++){var k=d.indexOf(s[j]);-1!==k&&(-1===h||k<h)&&(h=k)}-1===h&&(h=d.length),this.host=d.slice(0,h),d=d.slice(h),this.parseHost(),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p)for(var q=this.hostname.split(/\./),j=0,A=q.length;j<A;j++){var B=q[j];if(B&&!B.match(u)){for(var C="",D=0,E=B.length;D<E;D++)B.charCodeAt(D)>127?C+="x":C+=B[D];if(!C.match(u)){var F=q.slice(0,j),G=q.slice(j+1),H=B.match(v);H&&(F.push(H[1]),G.unshift(H[2])),G.length&&(d="/"+G.join(".")+d),this.hostname=F.join(".");break}}}if(this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),!p){for(var I=this.hostname.split("."),J=[],j=0;j<I.length;++j){var K=I[j];J.push(K.match(/[^A-Za-z0-9_-]/)?"xn--"+m.encode(K):K)}this.hostname=J.join(".")}var L=this.port?":"+this.port:"",M=this.hostname||"";this.host=M+L,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==d[0]&&(d="/"+d))}if(!w[f])for(var j=0,A=r.length;j<A;j++){var N=r[j],O=encodeURIComponent(N);O===N&&(O=escape(N)),d=d.split(N).join(O)}var P=d.indexOf("#");-1!==P&&(this.hash=d.substr(P),d=d.slice(0,P));var Q=d.indexOf("?");if(-1!==Q?(this.search=d.substr(Q),this.query=d.substr(Q+1),b&&(this.query=z.parse(this.query)),d=d.slice(0,Q)):b&&(this.search="",this.query={}),d&&(this.pathname=d),y[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var L=this.pathname||"",K=this.search||"";this.path=L+K}return this.href=this.format(),this},d.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",e=!1,f="";this.host?e=a+this.host:this.hostname&&(e=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port)),this.query&&j(this.query)&&Object.keys(this.query).length&&(f=z.stringify(this.query));var g=this.search||f&&"?"+f||"";return b&&":"!==b.substr(-1)&&(b+=":"),this.slashes||(!b||y[b])&&!1!==e?(e="//"+(e||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):e||(e=""),d&&"#"!==d.charAt(0)&&(d="#"+d),g&&"?"!==g.charAt(0)&&(g="?"+g),c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),g=g.replace("#","%23"),b+e+c+g+d},d.prototype.resolve=function(a){return this.resolveObject(e(a,!1,!0)).format()},d.prototype.resolveObject=function(a){if(i(a)){var b=new d;b.parse(a,!1,!0),a=b}var c=new d;if(Object.keys(this).forEach(function(a){c[a]=this[a]},this),c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(c[b]=a[b])}),y[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c;if(a.protocol&&a.protocol!==c.protocol){if(!y[a.protocol])return Object.keys(a).forEach(function(b){c[b]=a[b]}),c.href=c.format(),c;if(c.protocol=a.protocol,a.host||x[a.protocol])c.pathname=a.pathname;else{for(var e=(a.pathname||"").split("/");e.length&&!(a.host=e.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==e[0]&&e.unshift(""),e.length<2&&e.unshift(""),c.pathname=e.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search){var f=c.pathname||"",g=c.search||"";c.path=f+g}return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}var h=c.pathname&&"/"===c.pathname.charAt(0),j=a.host||a.pathname&&"/"===a.pathname.charAt(0),m=j||h||c.host&&a.pathname,n=m,o=c.pathname&&c.pathname.split("/")||[],e=a.pathname&&a.pathname.split("/")||[],p=c.protocol&&!y[c.protocol];if(p&&(c.hostname="",c.port=null,c.host&&(""===o[0]?o[0]=c.host:o.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===e[0]?e[0]=a.host:e.unshift(a.host)),a.host=null),m=m&&(""===e[0]||""===o[0])),j)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,o=e;else if(e.length)o||(o=[]),o.pop(),o=o.concat(e),c.search=a.search,c.query=a.query;else if(!l(a.search)){if(p){c.hostname=c.host=o.shift();var q=!!(c.host&&c.host.indexOf("@")>0)&&c.host.split("@");q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return c.search=a.search,c.query=a.query,k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c}if(!o.length)return c.pathname=null,c.search?c.path="/"+c.search:c.path=null,c.href=c.format(),c;for(var r=o.slice(-1)[0],s=(c.host||a.host)&&("."===r||".."===r)||""===r,t=0,u=o.length;u>=0;u--)r=o[u],"."==r?o.splice(u,1):".."===r?(o.splice(u,1),t++):t&&(o.splice(u,1),t--);if(!m&&!n)for(;t--;t)o.unshift("..");!m||""===o[0]||o[0]&&"/"===o[0].charAt(0)||o.unshift(""),s&&"/"!==o.join("/").substr(-1)&&o.push("");var v=""===o[0]||o[0]&&"/"===o[0].charAt(0);if(p){c.hostname=c.host=v?"":o.length?o.shift():"";var q=!!(c.host&&c.host.indexOf("@")>0)&&c.host.split("@");q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return m=m||c.host&&o.length,m&&!v&&o.unshift(""),o.length?c.pathname=o.join("/"):(c.pathname=null,c.path=null),k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c},d.prototype.parseHost=function(){var a=this.host,b=o.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)}},{punycode:162,querystring:165}],270:[function(a,b,c){(function(a){"use strict";function c(a,b){function c(){if(!e){if(d("throwDeprecation"))throw new Error(b);d("traceDeprecation")?console.trace(b):console.warn(b),e=!0}return a.apply(this,arguments)}if(d("noDeprecation"))return a;var e=!1;return c}function d(b){try{if(!a.localStorage)return!1}catch(d){return!1}var c=a.localStorage[b];return null!=c&&"true"===String(c).toLowerCase()}b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],271:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],272:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.exports=function(a){return a&&"object"===(void 0===a?"undefined":d(a))&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],273:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){
var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){r=" [Function"+(b.name?": "+b.name:"")+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(d<0)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var v;return v=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(v,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;g<h;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0;return a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||void 0===a}function C(a){return Object.prototype.toString.call(a)}function D(a){return a<10?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];c<f;h=d[++c])q(h)||!x(h)?g+=" "+h:g+=" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(!0===b.noDeprecation)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":272,_process:161,inherits:271}],274:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}return b.default=a,b}function e(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var f=e(a("./lib/toDate")),g=e(a("./lib/toFloat")),h=e(a("./lib/toInt")),i=e(a("./lib/toBoolean")),j=e(a("./lib/equals")),k=e(a("./lib/contains")),l=e(a("./lib/matches")),m=e(a("./lib/isEmail")),n=e(a("./lib/isURL")),o=e(a("./lib/isMACAddress")),p=e(a("./lib/isIP")),q=e(a("./lib/isIPRange")),r=e(a("./lib/isFQDN")),s=e(a("./lib/isBoolean")),t=d(a("./lib/isAlpha")),u=d(a("./lib/isAlphanumeric")),v=e(a("./lib/isNumeric")),w=e(a("./lib/isPort")),x=e(a("./lib/isLowercase")),y=e(a("./lib/isUppercase")),z=e(a("./lib/isAscii")),A=e(a("./lib/isFullWidth")),B=e(a("./lib/isHalfWidth")),C=e(a("./lib/isVariableWidth")),D=e(a("./lib/isMultibyte")),E=e(a("./lib/isSurrogatePair")),F=e(a("./lib/isInt")),G=d(a("./lib/isFloat")),H=e(a("./lib/isDecimal")),I=e(a("./lib/isHexadecimal")),J=e(a("./lib/isDivisibleBy")),K=e(a("./lib/isHexColor")),L=e(a("./lib/isISRC")),M=e(a("./lib/isMD5")),N=e(a("./lib/isHash")),O=e(a("./lib/isJWT")),P=e(a("./lib/isJSON")),Q=e(a("./lib/isEmpty")),R=e(a("./lib/isLength")),S=e(a("./lib/isByteLength")),T=e(a("./lib/isUUID")),U=e(a("./lib/isMongoId")),V=e(a("./lib/isAfter")),W=e(a("./lib/isBefore")),X=e(a("./lib/isIn")),Y=e(a("./lib/isCreditCard")),Z=e(a("./lib/isIdentityCard")),$=e(a("./lib/isISIN")),_=e(a("./lib/isISBN")),aa=e(a("./lib/isISSN")),ba=d(a("./lib/isMobilePhone")),ca=e(a("./lib/isCurrency")),da=e(a("./lib/isISO8601")),ea=e(a("./lib/isRFC3339")),fa=e(a("./lib/isISO31661Alpha2")),ga=e(a("./lib/isISO31661Alpha3")),ha=e(a("./lib/isBase64")),ia=e(a("./lib/isDataURI")),ja=e(a("./lib/isMagnetURI")),ka=e(a("./lib/isMimeType")),la=e(a("./lib/isLatLong")),ma=d(a("./lib/isPostalCode")),na=e(a("./lib/ltrim")),oa=e(a("./lib/rtrim")),pa=e(a("./lib/trim")),qa=e(a("./lib/escape")),ra=e(a("./lib/unescape")),sa=e(a("./lib/stripLow")),ta=e(a("./lib/whitelist")),ua=e(a("./lib/blacklist")),va=e(a("./lib/isWhitelisted")),wa=e(a("./lib/normalizeEmail")),xa=e(a("./lib/util/toString")),ya="10.10.0",za={version:ya,toDate:f.default,toFloat:g.default,toInt:h.default,toBoolean:i.default,equals:j.default,contains:k.default,matches:l.default,isEmail:m.default,isURL:n.default,isMACAddress:o.default,isIP:p.default,isIPRange:q.default,isFQDN:r.default,isBoolean:s.default,isAlpha:t.default,isAlphaLocales:t.locales,isAlphanumeric:u.default,isAlphanumericLocales:u.locales,isNumeric:v.default,isPort:w.default,isLowercase:x.default,isUppercase:y.default,isAscii:z.default,isFullWidth:A.default,isHalfWidth:B.default,isVariableWidth:C.default,isMultibyte:D.default,isSurrogatePair:E.default,isInt:F.default,isFloat:G.default,isFloatLocales:G.locales,isDecimal:H.default,isHexadecimal:I.default,isDivisibleBy:J.default,isHexColor:K.default,isISRC:L.default,isMD5:M.default,isHash:N.default,isJWT:O.default,isJSON:P.default,isEmpty:Q.default,isLength:R.default,isByteLength:S.default,isUUID:T.default,isMongoId:U.default,isAfter:V.default,isBefore:W.default,isIn:X.default,isCreditCard:Y.default,isIdentityCard:Z.default,isISIN:$.default,isISBN:_.default,isISSN:aa.default,isMobilePhone:ba.default,isMobilePhoneLocales:ba.locales,isPostalCode:ma.default,isPostalCodeLocales:ma.locales,isCurrency:ca.default,isISO8601:da.default,isRFC3339:ea.default,isISO31661Alpha2:fa.default,isISO31661Alpha3:ga.default,isBase64:ha.default,isDataURI:ia.default,isMagnetURI:ja.default,isMimeType:ka.default,isLatLong:la.default,ltrim:na.default,rtrim:oa.default,trim:pa.default,escape:qa.default,unescape:ra.default,stripLow:sa.default,whitelist:ta.default,blacklist:ua.default,isWhitelisted:va.default,normalizeEmail:wa.default,toString:xa.default},Aa=za;c.default=Aa,b.exports=c.default},{"./lib/blacklist":276,"./lib/contains":277,"./lib/equals":278,"./lib/escape":279,"./lib/isAfter":280,"./lib/isAlpha":281,"./lib/isAlphanumeric":282,"./lib/isAscii":283,"./lib/isBase64":284,"./lib/isBefore":285,"./lib/isBoolean":286,"./lib/isByteLength":287,"./lib/isCreditCard":288,"./lib/isCurrency":289,"./lib/isDataURI":290,"./lib/isDecimal":291,"./lib/isDivisibleBy":292,"./lib/isEmail":293,"./lib/isEmpty":294,"./lib/isFQDN":295,"./lib/isFloat":296,"./lib/isFullWidth":297,"./lib/isHalfWidth":298,"./lib/isHash":299,"./lib/isHexColor":300,"./lib/isHexadecimal":301,"./lib/isIP":302,"./lib/isIPRange":303,"./lib/isISBN":304,"./lib/isISIN":305,"./lib/isISO31661Alpha2":306,"./lib/isISO31661Alpha3":307,"./lib/isISO8601":308,"./lib/isISRC":309,"./lib/isISSN":310,"./lib/isIdentityCard":311,"./lib/isIn":312,"./lib/isInt":313,"./lib/isJSON":314,"./lib/isJWT":315,"./lib/isLatLong":316,"./lib/isLength":317,"./lib/isLowercase":318,"./lib/isMACAddress":319,"./lib/isMD5":320,"./lib/isMagnetURI":321,"./lib/isMimeType":322,"./lib/isMobilePhone":323,"./lib/isMongoId":324,"./lib/isMultibyte":325,"./lib/isNumeric":326,"./lib/isPort":327,"./lib/isPostalCode":328,"./lib/isRFC3339":329,"./lib/isSurrogatePair":330,"./lib/isURL":331,"./lib/isUUID":332,"./lib/isUppercase":333,"./lib/isVariableWidth":334,"./lib/isWhitelisted":335,"./lib/ltrim":336,"./lib/matches":337,"./lib/normalizeEmail":338,"./lib/rtrim":339,"./lib/stripLow":340,"./lib/toBoolean":341,"./lib/toDate":342,"./lib/toFloat":343,"./lib/toInt":344,"./lib/trim":345,"./lib/unescape":346,"./lib/util/toString":350,"./lib/whitelist":351}],275:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.commaDecimal=c.dotDecimal=c.arabicLocales=c.englishLocales=c.decimal=c.alphanumeric=c.alpha=void 0;var d={"en-US":/^[A-Z]+$/i,"bg-BG":/^[А-Я]+$/i,"cs-CZ":/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[A-ZÆØÅ]+$/i,"de-DE":/^[A-ZÄÖÜß]+$/i,"el-GR":/^[Α-ω]+$/i,"es-ES":/^[A-ZÁÉÍÑÓÚÜ]+$/i,"fr-FR":/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"it-IT":/^[A-ZÀÉÈÌÎÓÒÙ]+$/i,"nb-NO":/^[A-ZÆØÅ]+$/i,"nl-NL":/^[A-ZÁÉËÏÓÖÜÚ]+$/i,"nn-NO":/^[A-ZÆØÅ]+$/i,"hu-HU":/^[A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"pl-PL":/^[A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,"ru-RU":/^[А-ЯЁ]+$/i,"sl-SI":/^[A-ZČĆĐŠŽ]+$/i,"sk-SK":/^[A-ZÁČĎÉÍŇÓŠŤÚÝŽĹŔĽÄÔ]+$/i,"sr-RS@latin":/^[A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[А-ЯЂЈЉЊЋЏ]+$/i,"sv-SE":/^[A-ZÅÄÖ]+$/i,"tr-TR":/^[A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[А-ЩЬЮЯЄIЇҐі]+$/i,"ku-IQ":/^[ئابپتجچحخدرڕزژسشعغفڤقکگلڵمنوۆھەیێيطؤثآإأكضصةظذ]+$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/};c.alpha=d;var e={"en-US":/^[0-9A-Z]+$/i,"bg-BG":/^[0-9А-Я]+$/i,"cs-CZ":/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[0-9A-ZÆØÅ]+$/i,"de-DE":/^[0-9A-ZÄÖÜß]+$/i,"el-GR":/^[0-9Α-ω]+$/i,"es-ES":/^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,"fr-FR":/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"it-IT":/^[0-9A-ZÀÉÈÌÎÓÒÙ]+$/i,"hu-HU":/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"nb-NO":/^[0-9A-ZÆØÅ]+$/i,"nl-NL":/^[0-9A-ZÁÉËÏÓÖÜÚ]+$/i,"nn-NO":/^[0-9A-ZÆØÅ]+$/i,"pl-PL":/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,"ru-RU":/^[0-9А-ЯЁ]+$/i,"sl-SI":/^[0-9A-ZČĆĐŠŽ]+$/i,"sk-SK":/^[0-9A-ZÁČĎÉÍŇÓŠŤÚÝŽĹŔĽÄÔ]+$/i,"sr-RS@latin":/^[0-9A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[0-9А-ЯЂЈЉЊЋЏ]+$/i,"sv-SE":/^[0-9A-ZÅÄÖ]+$/i,"tr-TR":/^[0-9A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[0-9А-ЩЬЮЯЄIЇҐі]+$/i,"ku-IQ":/^[٠١٢٣٤٥٦٧٨٩0-9ئابپتجچحخدرڕزژسشعغفڤقکگلڵمنوۆھەیێيطؤثآإأكضصةظذ]+$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/};c.alphanumeric=e;var f={"en-US":".",ar:"٫"};c.decimal=f;var g=["AU","GB","HK","IN","NZ","ZA","ZM"];c.englishLocales=g;for(var h,i=0;i<g.length;i++)h="en-".concat(g[i]),d[h]=d["en-US"],e[h]=e["en-US"],f[h]=f["en-US"];var j=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"];c.arabicLocales=j;for(var k,l=0;l<j.length;l++)k="ar-".concat(j[l]),d[k]=d.ar,e[k]=e.ar,f[k]=f.ar;var m=[];c.dotDecimal=m;var n=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","es-ES","fr-FR","it-IT","ku-IQ","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA"];c.commaDecimal=n;for(var o=0;o<m.length;o++)f[m[o]]=f["en-US"];for(var p=0;p<n.length;p++)f[n[p]]=",";d["pt-BR"]=d["pt-PT"],e["pt-BR"]=e["pt-PT"],f["pt-BR"]=f["pt-PT"],d["pl-Pl"]=d["pl-PL"],e["pl-Pl"]=e["pl-PL"],f["pl-Pl"]=f["pl-PL"]},{}],276:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){return(0,f.default)(a),a.replace(new RegExp("[".concat(b,"]+"),"g"),"")}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],277:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){return(0,f.default)(a),a.indexOf((0,g.default)(b))>=0}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=d(a("./util/toString"));b.exports=c.default},{"./util/assertString":347,"./util/toString":350}],278:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){return(0,f.default)(a),a===b}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],279:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],280:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,f.default)(a);var c=(0,g.default)(b),d=(0,g.default)(a);return!!(d&&c&&d>c)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=d(a("./toDate"));b.exports=c.default},{"./toDate":342,"./util/assertString":347}],281:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,f.default)(a),b in g.alpha)return g.alpha[b].test(a);throw new Error("Invalid locale '".concat(b,"'"))}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e,c.locales=void 0;var f=d(a("./util/assertString")),g=a("./alpha"),h=Object.keys(g.alpha);c.locales=h},{"./alpha":275,"./util/assertString":347}],282:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";if((0,f.default)(a),b in g.alphanumeric)return g.alphanumeric[b].test(a);throw new Error("Invalid locale '".concat(b,"'"))}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e,c.locales=void 0;var f=d(a("./util/assertString")),g=a("./alpha"),h=Object.keys(g.alphanumeric);c.locales=h},{"./alpha":275,"./util/assertString":347}],283:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),g.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^[\x00-\x7F]+$/;b.exports=c.default},{"./util/assertString":347}],284:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){(0,f.default)(a);var b=a.length;if(!b||b%4!=0||g.test(a))return!1;var c=a.indexOf("=");return-1===c||c===b-1||c===b-2&&"="===a[b-1]}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/[^A-Z0-9+\/=]/i;b.exports=c.default},{"./util/assertString":347}],285:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,f.default)(a);var c=(0,g.default)(b),d=(0,g.default)(a);return!!(d&&c&&d<c)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=d(a("./toDate"));b.exports=c.default},{"./toDate":342,"./util/assertString":347}],286:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),["true","false","1","0"].indexOf(a)>=0}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],287:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(e="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(a){return void 0===a?"undefined":g(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":g(a)})(a)}function f(a,b){(0,h.default)(a);var c,d;"object"===e(b)?(c=b.min||0,d=b.max):(c=arguments[1],d=arguments[2]);var f=encodeURI(a).split(/%..|./).length-1;return f>=c&&(void 0===d||f<=d)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0}),c.default=f;var h=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],288:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){(0,f.default)(a);var b=a.replace(/[- ]+/g,"");if(!g.test(b))return!1;for(var c,d,e,h=0,i=b.length-1;i>=0;i--)c=b.substring(i,i+1),d=parseInt(c,10),e?(d*=2,h+=d>=10?d%10+1:d):h+=d,e=!e;return!(h%10!=0||!b)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|6[27][0-9]{14})$/;b.exports=c.default},{"./util/assertString":347}],289:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b="\\d{".concat(a.digits_after_decimal[0],"}");a.digits_after_decimal.forEach(function(a,c){0!==c&&(b="".concat(b,"|\\d{").concat(a,"}"))});var c="(\\".concat(a.symbol.replace(/\./g,"\\."),")").concat(a.require_symbol?"":"?"),d="-?",e="[1-9]\\d*",f="[1-9]\\d{0,2}(\\".concat(a.thousands_separator,"\\d{3})*"),g=["0",e,f],h="(".concat(g.join("|"),")?"),i="(\\".concat(a.decimal_separator,"(").concat(b,"))").concat(a.require_decimal?"":"?"),j=h+(a.allow_decimal||a.require_decimal?i:"");return a.allow_negatives&&!a.parens_for_negatives&&(a.negative_sign_after_digits?j+=d:a.negative_sign_before_digits&&(j=d+j)),a.allow_negative_sign_placeholder?j="( (?!\\-))?".concat(j):a.allow_space_after_symbol?j=" ?".concat(j):a.allow_space_after_digits&&(j+="( (?!$))?"),a.symbol_after_digits?j+=c:j=c+j,a.allow_negatives&&(a.parens_for_negatives?j="(\\(".concat(j,"\\)|").concat(j,")"):a.negative_sign_before_digits||a.negative_sign_after_digits||(j=d+j)),new RegExp("^(?!-? )(?=.*\\d)".concat(j,"$"))}function f(a,b){return(0,h.default)(a),b=(0,g.default)(b,i),e(b).test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=f;var g=d(a("./util/merge")),h=d(a("./util/assertString")),i={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};b.exports=c.default},{"./util/assertString":347,"./util/merge":349}],290:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){(0,f.default)(a);var b=a.split(",");if(b.length<2)return!1;var c=b.shift().trim().split(";"),d=c.shift();if("data:"!==d.substr(0,5))return!1;var e=d.substr(5);if(""!==e&&!g.test(e))return!1;for(var j=0;j<c.length;j++)if(j===c.length-1&&"base64"===c[j].toLowerCase());else if(!h.test(c[j]))return!1;for(var k=0;k<b.length;k++)if(!i.test(b[k]))return!1;return!0}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^[a-z]+\/[a-z0-9\-\+]+$/i,h=/^[a-z\-]+=[a-z0-9\-]+$/i,i=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;b.exports=c.default},{"./util/assertString":347}],291:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return new RegExp("^[-+]?([0-9]+)?(\\".concat(j.decimal[a.locale],"[0-9]{").concat(a.decimal_digits,"})").concat(a.force_decimal?"":"?","$"))}function f(a,b){if((0,h.default)(a),b=(0,g.default)(b,k),b.locale in j.decimal)return!(0,i.default)(l,a.replace(/ /g,""))&&e(b).test(a);throw new Error("Invalid locale '".concat(b.locale,"'"))}Object.defineProperty(c,"__esModule",{value:!0}),c.default=f;var g=d(a("./util/merge")),h=d(a("./util/assertString")),i=d(a("./util/includes")),j=a("./alpha"),k={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},l=["","-","+"];b.exports=c.default},{"./alpha":275,"./util/assertString":347,"./util/includes":348,"./util/merge":349}],292:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){return(0,f.default)(a),(0,g.default)(a)%parseInt(b,10)==0}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=d(a("./toFloat"));b.exports=c.default},{"./toFloat":343,"./util/assertString":347}],293:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if((0,f.default)(a),b=(0,g.default)(b,k),b.require_display_name||b.allow_display_name){var c=a.match(l);if(c)a=c[1];else if(b.require_display_name)return!1}var d=a.split("@"),e=d.pop(),r=d.join("@"),s=e.toLowerCase();if(b.domain_specific_validation&&("gmail.com"===s||"googlemail.com"===s)){r=r.toLowerCase();var t=r.split("+")[0];if(!(0,h.default)(t.replace(".",""),{min:6,max:30}))return!1;for(var u=t.split("."),v=0;v<u.length;v++)if(!n.test(u[v]))return!1}if(!(0,h.default)(r,{max:64})||!(0,h.default)(e,{max:254}))return!1;if(!(0,i.default)(e,{require_tld:b.require_tld})){if(!b.allow_ip_domain)return!1;if(!(0,j.default)(e)){if(!e.startsWith("[")||!e.endsWith("]"))return!1;var w=e.substr(1,e.length-2);if(0===w.length||!(0,j.default)(w))return!1}}if('"'===r[0])return r=r.slice(1,r.length-1),b.allow_utf8_local_part?q.test(r):o.test(r);for(var x=b.allow_utf8_local_part?p:m,y=r.split("."),z=0;z<y.length;z++)if(!x.test(y[z]))return!1;return!0}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=d(a("./util/merge")),h=d(a("./isByteLength")),i=d(a("./isFQDN")),j=d(a("./isIP")),k={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0},l=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\,\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i,m=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,n=/^[a-z\d]+$/,o=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,q=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;b.exports=c.default},{"./isByteLength":287,"./isFQDN":295,"./isIP":302,"./util/assertString":347,"./util/merge":349}],294:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){return(0,f.default)(a),b=(0,g.default)(b,h),0===(b.ignore_whitespace?a.trim().length:a.length)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=d(a("./util/merge")),h={ignore_whitespace:!1};b.exports=c.default},{"./util/assertString":347,"./util/merge":349}],295:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){(0,f.default)(a),b=(0,g.default)(b,h),b.allow_trailing_dot&&"."===a[a.length-1]&&(a=a.substring(0,a.length-1));for(var c=a.split("."),d=0;d<c.length;d++)if(c[d].length>63)return!1;if(b.require_tld){var e=c.pop();if(!c.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(e))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(e))return!1}for(var i,j=0;j<c.length;j++){if(i=c[j],b.allow_underscores&&(i=i.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(i))return!1;if(/[\uff01-\uff5e]/.test(i))return!1;if("-"===i[0]||"-"===i[i.length-1])return!1}return!0}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=d(a("./util/merge")),h={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};b.exports=c.default},{"./util/assertString":347,"./util/merge":349}],296:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){(0,f.default)(a),b=b||{};var c=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(b.locale?g.decimal[b.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(""===a||"."===a||"-"===a||"+"===a)return!1;var d=parseFloat(a.replace(",","."));return c.test(a)&&(!b.hasOwnProperty("min")||d>=b.min)&&(!b.hasOwnProperty("max")||d<=b.max)&&(!b.hasOwnProperty("lt")||d<b.lt)&&(!b.hasOwnProperty("gt")||d>b.gt)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e,c.locales=void 0;var f=d(a("./util/assertString")),g=a("./alpha"),h=Object.keys(g.decimal);c.locales=h},{"./alpha":275,"./util/assertString":347}],297:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),g.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e,c.fullWidth=void 0;var f=d(a("./util/assertString")),g=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;c.fullWidth=g},{"./util/assertString":347}],298:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),g.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e,c.halfWidth=void 0;var f=d(a("./util/assertString")),g=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;c.halfWidth=g},{"./util/assertString":347}],299:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){return(0,f.default)(a),new RegExp("^[a-f0-9]{".concat(g[b],"}$")).test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};b.exports=c.default},{"./util/assertString":347}],300:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),g.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^#?([0-9A-F]{3}|[0-9A-F]{6})$/i;b.exports=c.default},{"./util/assertString":347}],301:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),g.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^[0-9A-F]+$/i;b.exports=c.default},{"./util/assertString":347}],302:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,f.default)(a),!(b=String(b)))return e(a,4)||e(a,6);if("4"===b){if(!g.test(a))return!1;return a.split(".").sort(function(a,b){return a-b})[3]<=255}if("6"===b){var c=a.split(":"),d=!1,i=e(c[c.length-1],4),j=i?7:8;if(c.length>j)return!1;if("::"===a)return!0;"::"===a.substr(0,2)?(c.shift(),c.shift(),d=!0):"::"===a.substr(a.length-2)&&(c.pop(),c.pop(),d=!0);for(var k=0;k<c.length;++k)if(""===c[k]&&k>0&&k<c.length-1){if(d)return!1;d=!0}else if(i&&k===c.length-1);else if(!h.test(c[k]))return!1;return d?c.length>=1:c.length===j}return!1}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,h=/^[0-9A-F]{1,4}$/i;b.exports=c.default},{"./util/assertString":347}],303:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){(0,f.default)(a);var b=a.split("/");return 2===b.length&&(!!h.test(b[1])&&(!(b[1].length>1&&b[1].startsWith("0"))&&((0,g.default)(b[0],4)&&b[1]<=32&&b[1]>=0)))}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=d(a("./isIP")),h=/^\d{1,2}$/;b.exports=c.default},{"./isIP":302,"./util/assertString":347}],304:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,f.default)(a),!(b=String(b)))return e(a,10)||e(a,13);var c,d=a.replace(/[\s-]+/g,""),j=0;if("10"===b){if(!g.test(d))return!1;for(c=0;c<9;c++)j+=(c+1)*d.charAt(c);if("X"===d.charAt(9)?j+=100:j+=10*d.charAt(9),j%11==0)return!!d}else if("13"===b){if(!h.test(d))return!1;for(c=0;c<12;c++)j+=i[c%2]*d.charAt(c);if(d.charAt(12)-(10-j%10)%10==0)return!!d}return!1}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^(?:[0-9]{9}X|[0-9]{10})$/,h=/^(?:[0-9]{13})$/,i=[1,3];b.exports=c.default},{"./util/assertString":347}],305:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if((0,f.default)(a),!g.test(a))return!1;for(var b,c,d=a.replace(/[A-Z]/g,function(a){return parseInt(a,36)}),e=0,h=!0,i=d.length-2;i>=0;i--)b=d.substring(i,i+1),c=parseInt(b,10),h?(c*=2,e+=c>=10?c+1:c):e+=c,h=!h;return parseInt(a.substr(a.length-1),10)===(1e4-e)%10}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;b.exports=c.default},{"./util/assertString":347}],306:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,
f.default)(a),(0,g.default)(h,a.toUpperCase())}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=d(a("./util/includes")),h=["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"];b.exports=c.default},{"./util/assertString":347,"./util/includes":348}],307:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),(0,g.default)(h,a.toUpperCase())}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=d(a("./util/includes")),h=["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"];b.exports=c.default},{"./util/assertString":347,"./util/includes":348}],308:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){(0,f.default)(a);var c=g.test(a);return b&&c&&b.strict?h(a):c}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,h=function(a){var b=a.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(b){var c=Number(b[1]),d=Number(b[2]);return c%4==0&&c%100!=0?d<=366:d<=365}var e=a.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),f=e[1],g=e[2],h=e[3],i=g?"0".concat(g).slice(-2):g,j=h?"0".concat(h).slice(-2):h,k=new Date("".concat(f,"-").concat(i||"01","-").concat(j||"01"));return!isNaN(k.getUTCFullYear())&&(!g||!h||k.getUTCFullYear()===f&&k.getUTCMonth()+1===g&&k.getUTCDate()===h)};b.exports=c.default},{"./util/assertString":347}],309:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),g.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;b.exports=c.default},{"./util/assertString":347}],310:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,f.default)(a);var c=g;if(c=b.require_hyphen?c.replace("?",""):c,c=b.case_sensitive?new RegExp(c):new RegExp(c,"i"),!c.test(a))return!1;for(var d=a.replace("-","").toUpperCase(),e=0,h=0;h<d.length;h++){var i=d[h];e+=("X"===i?10:+i)*(8-h)}return e%11==0}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g="^\\d{4}-?\\d{3}[\\dX]$";b.exports=c.default},{"./util/assertString":347}],311:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";if((0,f.default)(a),b in g)return g[b](a);if("any"===b){for(var c in g)if(g.hasOwnProperty(c)){var d=g[c];if(d(a))return!0}return!1}throw new Error("Invalid locale '".concat(b,"'"))}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g={ES:function(a){(0,f.default)(a);var b=/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/,c={X:0,Y:1,Z:2},d=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"],e=a.trim().toUpperCase();if(!b.test(e))return!1;var g=e.slice(0,-1).replace(/[X,Y,Z]/g,function(a){return c[a]});return e.endsWith(d[g%23])}};b.exports=c.default},{"./util/assertString":347}],312:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(e="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(a){return void 0===a?"undefined":g(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":g(a)})(a)}function f(a,b){(0,h.default)(a);var c;if("[object Array]"===Object.prototype.toString.call(b)){var d=[];for(c in b)({}).hasOwnProperty.call(b,c)&&(d[c]=(0,i.default)(b[c]));return d.indexOf(a)>=0}return"object"===e(b)?b.hasOwnProperty(a):!(!b||"function"!=typeof b.indexOf)&&b.indexOf(a)>=0}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0}),c.default=f;var h=d(a("./util/assertString")),i=d(a("./util/toString"));b.exports=c.default},{"./util/assertString":347,"./util/toString":350}],313:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){(0,f.default)(a),b=b||{};var c=b.hasOwnProperty("allow_leading_zeroes")&&!b.allow_leading_zeroes?g:h,d=!b.hasOwnProperty("min")||a>=b.min,e=!b.hasOwnProperty("max")||a<=b.max,i=!b.hasOwnProperty("lt")||a<b.lt,j=!b.hasOwnProperty("gt")||a>b.gt;return c.test(a)&&d&&e&&i&&j}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,h=/^[-+]?[0-9]+$/;b.exports=c.default},{"./util/assertString":347}],314:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(e="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(a){return void 0===a?"undefined":g(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":g(a)})(a)}function f(a){(0,h.default)(a);try{var b=JSON.parse(a);return!!b&&"object"===e(b)}catch(c){}return!1}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0}),c.default=f;var h=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],315:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),g.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^([A-Za-z0-9\-_~+\/]+[=]{0,2})\.([A-Za-z0-9\-_~+\/]+[=]{0,2})(?:\.([A-Za-z0-9\-_~+\/]+[=]{0,2}))?$/;b.exports=c.default},{"./util/assertString":347}],316:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if((0,f.default)(a),!a.includes(","))return!1;var b=a.split(",");return g.test(b[0])&&h.test(b[1])}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,h=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/;b.exports=c.default},{"./util/assertString":347}],317:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(e="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(a){return void 0===a?"undefined":g(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":g(a)})(a)}function f(a,b){(0,h.default)(a);var c,d;"object"===e(b)?(c=b.min||0,d=b.max):(c=arguments[1],d=arguments[2]);var f=a.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],g=a.length-f.length;return g>=c&&(void 0===d||g<=d)}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0}),c.default=f;var h=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],318:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),a===a.toLowerCase()}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],319:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){return(0,f.default)(a),b&&b.no_colons?h.test(a):g.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^([0-9a-fA-F][0-9a-fA-F]:){5}([0-9a-fA-F][0-9a-fA-F])$/,h=/^([0-9a-fA-F]){12}$/;b.exports=c.default},{"./util/assertString":347}],320:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),g.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^[a-f0-9]{32}$/;b.exports=c.default},{"./util/assertString":347}],321:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),g.test(a.trim())}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^magnet:\?xt=urn:[a-z0-9]+:[a-z0-9]{32,40}&dn=.+&tr=.+$/i;b.exports=c.default},{"./util/assertString":347}],322:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),g.test(a)||h.test(a)||i.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+]{1,100}$/i,h=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,i=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;b.exports=c.default},{"./util/assertString":347}],323:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){if((0,f.default)(a),c&&c.strictMode&&!a.startsWith("+"))return!1;if(Array.isArray(b))return b.some(function(b){if(g.hasOwnProperty(b)){if(g[b].test(a))return!0}return!1});if(b in g)return g[b].test(a);if(!b||"any"===b){for(var d in g)if(g.hasOwnProperty(d)){var e=g[d];if(e.test(a))return!0}return!1}throw new Error("Invalid locale '".concat(b,"'"))}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e,c.locales=void 0;var f=d(a("./util/assertString")),g={"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-EG":/^((\+?20)|0)?1[012]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/\+?(88)?0?1[356789][0-9]{8}\b/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^(\+49)?0?1(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7}$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28)\d{7}$/,"en-HK":/^(\+?852\-?)?[456789]\d{3}\-?\d{4}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)?[7]\d{8}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((\+92)|(0092))-{0,1}\d{3}-{0,1}\d{7}$|^\d{11}$|^\d{4}-\d{7}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[89]\d{7}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"es-ES":/^(\+?34)?(6\d{1}|7[1234])\d{7}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36)(20|30|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"ja-JP":/^(\+?81|0)[789]0[ \-]?[1-9]\d{2}[ \-]?\d{5}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"nl-BE":/^(\+?32|0)4?\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/(?=^(\+?5{2}\-?|0)[1-9]{2}\-?\d{4}\-?\d{4}$)(^(\+?5{2}\-?|0)[1-9]{2}\-?[6-9]{1}\d{3}\-?\d{4}$)|(^(\+?5{2}\-?|0)[1-9]{2}\-?9[6-9]{1}\d{3}\-?\d{4}$)/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"vi-VN":/^(\+?84|0)((3([2-9]))|(5([689]))|(7([0|6-9]))|(8([1-5]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};g["en-CA"]=g["en-US"],g["fr-BE"]=g["nl-BE"],g["zh-HK"]=g["en-HK"];var h=Object.keys(g);c.locales=h},{"./util/assertString":347}],324:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),(0,g.default)(a)&&24===a.length}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=d(a("./isHexadecimal"));b.exports=c.default},{"./isHexadecimal":301,"./util/assertString":347}],325:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),g.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/[^\x00-\x7F]/;b.exports=c.default},{"./util/assertString":347}],326:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){return(0,f.default)(a),b&&b.no_symbols?h.test(a):g.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/^[+-]?([0-9]*[.])?[0-9]+$/,h=/^[0-9]+$/;b.exports=c.default},{"./util/assertString":347}],327:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a,{min:0,max:65535})}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./isInt"));b.exports=c.default},{"./isInt":313}],328:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if((0,f.default)(a),b in k)return k[b].test(a);if("any"===b){for(var c in k)if(k.hasOwnProperty(c)){var d=k[c];if(d.test(a))return!0}return!1}throw new Error("Invalid locale '".concat(b,"'"))}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e,c.locales=void 0;var f=d(a("./util/assertString")),g=/^\d{3}$/,h=/^\d{4}$/,i=/^\d{5}$/,j=/^\d{6}$/,k={AD:/^AD\d{3}$/,AT:h,AU:h,BE:h,BG:h,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:h,CZ:/^\d{3}\s?\d{2}$/,DE:i,DK:h,DZ:i,EE:i,ES:i,FI:i,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HU:h,IL:i,IN:j,IS:g,IT:i,JP:/^\d{3}\-\d{4}$/,KE:i,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:h,LV:/^LV\-\d{4}$/,MX:i,NL:/^\d{4}\s?[a-z]{2}$/i,NO:h,PL:/^\d{2}\-\d{3}$/,PT:/^\d{4}\-\d{3}?$/,RO:j,RU:j,SA:i,SE:/^\d{3}\s?\d{2}$/,SI:h,SK:/^\d{3}\s?\d{2}$/,TN:h,TW:/^\d{3}(\d{2})?$/,UA:i,US:/^\d{5}(-\d{4})?$/,ZA:h,ZM:i},l=Object.keys(k);c.locales=l},{"./util/assertString":347}],329:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),s.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/[0-9]{4}/,h=/(0[1-9]|1[0-2])/,i=/([12]\d|0[1-9]|3[01])/,j=/([01][0-9]|2[0-3])/,k=/[0-5][0-9]/,l=/([0-5][0-9]|60)/,m=/(\.[0-9]+)?/,n=new RegExp("[-+]".concat(j.source,":").concat(k.source)),o=new RegExp("([zZ]|".concat(n.source,")")),p=new RegExp("".concat(j.source,":").concat(k.source,":").concat(l.source).concat(m.source)),q=new RegExp("".concat(g.source,"-").concat(h.source,"-").concat(i.source)),r=new RegExp("".concat(p.source).concat(o.source)),s=new RegExp("".concat(q.source,"[ tT]").concat(r.source));b.exports=c.default},{"./util/assertString":347}],330:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),g.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;b.exports=c.default},{"./util/assertString":347}],331:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return"[object RegExp]"===Object.prototype.toString.call(a)}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(a===d||e(d)&&d.test(a))return!0}return!1}function g(a,b){if((0,h.default)(a),!a||a.length>=2083||/[\s<>]/.test(a))return!1;if(0===a.indexOf("mailto:"))return!1;b=(0,k.default)(b,l);var c,d,e,g,n,o,p,q;if(p=a.split("#"),a=p.shift(),p=a.split("?"),a=p.shift(),p=a.split("://"),p.length>1){if(c=p.shift().toLowerCase(),b.require_valid_protocol&&-1===b.protocols.indexOf(c))return!1}else{if(b.require_protocol)return!1;if("//"===a.substr(0,2)){if(!b.allow_protocol_relative_urls)return!1;p[0]=a.substr(2)}}if(""===(a=p.join("://")))return!1;if(p=a.split("/"),""===(a=p.shift())&&!b.require_host)return!0;if(p=a.split("@"),p.length>1){if(b.disallow_auth)return!1;if(d=p.shift(),d.indexOf(":")>=0&&d.split(":").length>2)return!1}g=p.join("@"),o=null,q=null;var r=g.match(m);return r?(e="",q=r[1],o=r[2]||null):(p=g.split(":"),e=p.shift(),p.length&&(o=p.join(":"))),!(null!==o&&(n=parseInt(o,10),!/^[0-9]+$/.test(o)||n<=0||n>65535))&&(!!((0,j.default)(e)||(0,i.default)(e,b)||q&&(0,j.default)(q,6))&&(e=e||q,!(b.host_whitelist&&!f(e,b.host_whitelist))&&(!b.host_blacklist||!f(e,b.host_blacklist))))}Object.defineProperty(c,"__esModule",{value:!0}),c.default=g;var h=d(a("./util/assertString")),i=d(a("./isFQDN")),j=d(a("./isIP")),k=d(a("./util/merge")),l={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},m=/^\[([^\]]+)\](?::([0-9]+))?$/;b.exports=c.default},{"./isFQDN":295,"./isIP":302,"./util/assertString":347,"./util/merge":349}],332:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";(0,f.default)(a);var c=g[b];return c&&c.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};b.exports=c.default},{"./util/assertString":347}],333:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),a===a.toUpperCase()}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],334:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),g.fullWidth.test(a)&&h.halfWidth.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=a("./isFullWidth"),h=a("./isHalfWidth");b.exports=c.default},{"./isFullWidth":297,"./isHalfWidth":298,"./util/assertString":347}],335:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){(0,f.default)(a);for(var c=a.length-1;c>=0;c--)if(-1===b.indexOf(a[c]))return!1;return!0}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],336:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){(0,f.default)(a);var c=b?new RegExp("^[".concat(b,"]+"),"g"):/^\s+/g;return a.replace(c,"")}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],337:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){return(0,f.default)(a),"[object RegExp]"!==Object.prototype.toString.call(b)&&(b=new RegExp(b,c)),b.test(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],338:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return a.length>1?a:""}function f(a,b){b=(0,g.default)(b,h);var c=a.split("@"),d=c.pop(),f=c.join("@"),m=[f,d];if(m[1]=m[1].toLowerCase(),"gmail.com"===m[1]||"googlemail.com"===m[1]){if(b.gmail_remove_subaddress&&(m[0]=m[0].split("+")[0]),b.gmail_remove_dots&&(m[0]=m[0].replace(/\.+/g,e)),!m[0].length)return!1;(b.all_lowercase||b.gmail_lowercase)&&(m[0]=m[0].toLowerCase()),m[1]=b.gmail_convert_googlemaildotcom?"gmail.com":m[1]}else if(i.indexOf(m[1])>=0){if(b.icloud_remove_subaddress&&(m[0]=m[0].split("+")[0]),!m[0].length)return!1;(b.all_lowercase||b.icloud_lowercase)&&(m[0]=m[0].toLowerCase())}else if(j.indexOf(m[1])>=0){if(b.outlookdotcom_remove_subaddress&&(m[0]=m[0].split("+")[0]),!m[0].length)return!1;(b.all_lowercase||b.outlookdotcom_lowercase)&&(m[0]=m[0].toLowerCase())}else if(k.indexOf(m[1])>=0){if(b.yahoo_remove_subaddress){var n=m[0].split("-");m[0]=n.length>1?n.slice(0,-1).join("-"):n[0]}if(!m[0].length)return!1;(b.all_lowercase||b.yahoo_lowercase)&&(m[0]=m[0].toLowerCase())}else l.indexOf(m[1])>=0?((b.all_lowercase||b.yandex_lowercase)&&(m[0]=m[0].toLowerCase()),m[1]="yandex.ru"):b.all_lowercase&&(m[0]=m[0].toLowerCase());return m.join("@")}Object.defineProperty(c,"__esModule",{value:!0}),c.default=f;var g=d(a("./util/merge")),h={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},i=["icloud.com","me.com"],j=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],k=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],l=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];b.exports=c.default},{"./util/merge":349}],339:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){(0,f.default)(a);for(var c=b?new RegExp("[".concat(b,"]")):/\s/,d=a.length-1;d>=0&&c.test(a[d]);d--);return d<a.length?a.substr(0,d+1):a}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],340:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){(0,f.default)(a);var c=b?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,g.default)(a,c)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString")),g=d(a("./blacklist"));b.exports=c.default},{"./blacklist":276,"./util/assertString":347}],341:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){return(0,f.default)(a),b?"1"===a||"true"===a:"0"!==a&&"false"!==a&&""!==a}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],342:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),a=Date.parse(a),isNaN(a)?null:new Date(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],343:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),parseFloat(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],344:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){return(0,f.default)(a),parseInt(a,b||10)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],345:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){return(0,f.default)((0,g.default)(a,b),b)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./rtrim")),g=d(a("./ltrim"));b.exports=c.default},{"./ltrim":336,"./rtrim":339}],346:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return(0,f.default)(a),a.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`")}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],347:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(a){return void 0===a?"undefined":f(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":f(a)})(a)}function e(a){if(!("string"==typeof a||a instanceof String)){var b;throw null===a?b="null":(b=d(a),b="object"===b&&a.constructor&&a.constructor.hasOwnProperty("name")?a.constructor.name:"a ".concat(b)),new TypeError("Expected string but received ".concat(b,"."))}}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0}),c.default=e,b.exports=c.default},{}],348:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var d=function(a,b){return a.some(function(a){return b===a})},e=d;c.default=e,b.exports=c.default},{}],349:[function(a,b,c){"use strict";function d(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1?arguments[1]:void 0;for(var c in b)void 0===a[c]&&(a[c]=b[c]);return a}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d,b.exports=c.default},{}],350:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"===f(Symbol.iterator)?function(a){return void 0===a?"undefined":f(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":void 0===a?"undefined":f(a)})(a)}function e(a){return"object"===d(a)&&null!==a?a="function"==typeof a.toString?a.toString():"[object Object]":(null===a||void 0===a||isNaN(a)&&!a.length)&&(a=""),String(a)}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0}),c.default=e,b.exports=c.default},{}],351:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){return(0,f.default)(a),a.replace(new RegExp("[^".concat(b,"]+"),"g"),"")}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=d(a("./util/assertString"));b.exports=c.default},{"./util/assertString":347}],352:[function(a,b,c){
"use strict";(function(){c.stripBOM=function(a){return"\ufeff"===a[0]?a.substring(1):a}}).call(void 0)},{}],353:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(){var b,e,f,g,h,i={}.hasOwnProperty;b=a("xmlbuilder"),e=a("./defaults").defaults,g=function(a){return"string"==typeof a&&(a.indexOf("&")>=0||a.indexOf(">")>=0||a.indexOf("<")>=0)},h=function(a){return"<![CDATA["+f(a)+"]]>"},f=function(a){return a.replace("]]>","]]]]><![CDATA[>")},c.Builder=function(){function a(a){var b,c,d;this.options={},c=e[.2];for(b in c)i.call(c,b)&&(d=c[b],this.options[b]=d);for(b in a)i.call(a,b)&&(d=a[b],this.options[b]=d)}return a.prototype.buildObject=function(a){var c,f,j,k,l;return c=this.options.attrkey,f=this.options.charkey,1===Object.keys(a).length&&this.options.rootName===e[.2].rootName?(l=Object.keys(a)[0],a=a[l]):l=this.options.rootName,j=function(a){return function(b,e){var k,l,m,n,o,p;if("object"!==(void 0===e?"undefined":d(e)))a.options.cdata&&g(e)?b.raw(h(e)):b.txt(e);else if(Array.isArray(e)){for(n in e)if(i.call(e,n)){l=e[n];for(o in l)m=l[o],b=j(b.ele(o),m).up()}}else for(o in e)if(i.call(e,o))if(l=e[o],o===c){if("object"===(void 0===l?"undefined":d(l)))for(k in l)p=l[k],b=b.att(k,p)}else if(o===f)b=a.options.cdata&&g(l)?b.raw(h(l)):b.txt(l);else if(Array.isArray(l))for(n in l)i.call(l,n)&&(m=l[n],b="string"==typeof m?a.options.cdata&&g(m)?b.ele(o).raw(h(m)).up():b.ele(o,m).up():j(b.ele(o),m).up());else"object"===(void 0===l?"undefined":d(l))?b=j(b.ele(o),l).up():"string"==typeof l&&a.options.cdata&&g(l)?b=b.ele(o).raw(h(l)).up():(null==l&&(l=""),b=b.ele(o,l.toString()).up());return b}}(this),k=b.create(l,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),j(k,a).end(this.options.renderOpts)},a}()}).call(void 0)},{"./defaults":354,xmlbuilder:379}],354:[function(a,b,c){"use strict";(function(){c.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(void 0)},{}],355:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(){var b,e,f,g,h,i,j,k,l=function(a,b){return function(){return a.apply(b,arguments)}},m=function(a,b){function c(){this.constructor=a}for(var d in b)n.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},n={}.hasOwnProperty;j=a("sax"),f=a("events"),b=a("./bom"),i=a("./processors"),k=a("timers").setImmediate,e=a("./defaults").defaults,g=function(a){return"object"===(void 0===a?"undefined":d(a))&&null!=a&&0===Object.keys(a).length},h=function(a,b,c){var d,e,f;for(d=0,e=a.length;d<e;d++)f=a[d],b=f(b,c);return b},c.Parser=function(a){function f(a){this.parseString=l(this.parseString,this),this.reset=l(this.reset,this),this.assignOrPush=l(this.assignOrPush,this),this.processAsync=l(this.processAsync,this);var b,d,f;if(!(this instanceof c.Parser))return new c.Parser(a);this.options={},d=e[.2];for(b in d)n.call(d,b)&&(f=d[b],this.options[b]=f);for(b in a)n.call(a,b)&&(f=a[b],this.options[b]=f);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(i.normalize)),this.reset()}return m(f,a),f.prototype.processAsync=function(){var a,b;try{return this.remaining.length<=this.options.chunkSize?(a=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(a),this.saxParser.close()):(a=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(a),k(this.processAsync))}catch(c){if(b=c,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(b)}},f.prototype.assignOrPush=function(a,b,c){return b in a?(a[b]instanceof Array||(a[b]=[a[b]]),a[b].push(c)):this.options.explicitArray?a[b]=[c]:a[b]=c},f.prototype.reset=function(){var a,b,c,e;return this.removeAllListeners(),this.saxParser=j.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(a){return function(b){if(a.saxParser.resume(),!a.saxParser.errThrown)return a.saxParser.errThrown=!0,a.emit("error",b)}}(this),this.saxParser.onend=function(a){return function(){if(!a.saxParser.ended)return a.saxParser.ended=!0,a.emit("end",a.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,e=[],a=this.options.attrkey,b=this.options.charkey,this.saxParser.onopentag=function(c){return function(d){var f,g,i,j,k;if(i={},i[b]="",!c.options.ignoreAttrs){k=d.attributes;for(f in k)n.call(k,f)&&(a in i||c.options.mergeAttrs||(i[a]={}),g=c.options.attrValueProcessors?h(c.options.attrValueProcessors,d.attributes[f],f):d.attributes[f],j=c.options.attrNameProcessors?h(c.options.attrNameProcessors,f):f,c.options.mergeAttrs?c.assignOrPush(i,j,g):i[a][j]=g)}return i["#name"]=c.options.tagNameProcessors?h(c.options.tagNameProcessors,d.name):d.name,c.options.xmlns&&(i[c.options.xmlnskey]={uri:d.uri,local:d.local}),e.push(i)}}(this),this.saxParser.onclosetag=function(a){return function(){var c,f,i,j,k,l,m,o,p,q;if(l=e.pop(),k=l["#name"],a.options.explicitChildren&&a.options.preserveChildrenOrder||delete l["#name"],!0===l.cdata&&(c=l.cdata,delete l.cdata),p=e[e.length-1],l[b].match(/^\s*$/)&&!c?(f=l[b],delete l[b]):(a.options.trim&&(l[b]=l[b].trim()),a.options.normalize&&(l[b]=l[b].replace(/\s{2,}/g," ").trim()),l[b]=a.options.valueProcessors?h(a.options.valueProcessors,l[b],k):l[b],1===Object.keys(l).length&&b in l&&!a.EXPLICIT_CHARKEY&&(l=l[b])),g(l)&&(l=""!==a.options.emptyTag?a.options.emptyTag:f),null!=a.options.validator&&(q="/"+function(){var a,b,c;for(c=[],a=0,b=e.length;a<b;a++)j=e[a],c.push(j["#name"]);return c}().concat(k).join("/"),function(){var b;try{l=a.options.validator(q,p&&p[k],l)}catch(c){return b=c,a.emit("error",b)}}()),a.options.explicitChildren&&!a.options.mergeAttrs&&"object"===(void 0===l?"undefined":d(l)))if(a.options.preserveChildrenOrder){if(p){p[a.options.childkey]=p[a.options.childkey]||[],m={};for(i in l)n.call(l,i)&&(m[i]=l[i]);p[a.options.childkey].push(m),delete l["#name"],1===Object.keys(l).length&&b in l&&!a.EXPLICIT_CHARKEY&&(l=l[b])}}else j={},a.options.attrkey in l&&(j[a.options.attrkey]=l[a.options.attrkey],delete l[a.options.attrkey]),!a.options.charsAsChildren&&a.options.charkey in l&&(j[a.options.charkey]=l[a.options.charkey],delete l[a.options.charkey]),Object.getOwnPropertyNames(l).length>0&&(j[a.options.childkey]=l),l=j;return e.length>0?a.assignOrPush(p,k,l):(a.options.explicitRoot&&(o=l,l={},l[k]=o),a.resultObject=l,a.saxParser.ended=!0,a.emit("end",a.resultObject))}}(this),c=function(a){return function(c){var d,f;if(f=e[e.length-1])return f[b]+=c,a.options.explicitChildren&&a.options.preserveChildrenOrder&&a.options.charsAsChildren&&(a.options.includeWhiteChars||""!==c.replace(/\\n/g,"").trim())&&(f[a.options.childkey]=f[a.options.childkey]||[],d={"#name":"__text__"},d[b]=c,a.options.normalize&&(d[b]=d[b].replace(/\s{2,}/g," ").trim()),f[a.options.childkey].push(d)),f}}(this),this.saxParser.ontext=c,this.saxParser.oncdata=function(a){return function(a){var b;if(b=c(a))return b.cdata=!0}}()},f.prototype.parseString=function(a,c){var d;null!=c&&"function"==typeof c&&(this.on("end",function(a){return this.reset(),c(null,a)}),this.on("error",function(a){return this.reset(),c(a)}));try{return a=a.toString(),""===a.trim()?(this.emit("end",null),!0):(a=b.stripBOM(a),this.options.async?(this.remaining=a,k(this.processAsync),this.saxParser):this.saxParser.write(a).close())}catch(e){if(d=e,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",d),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw d}},f}(f.EventEmitter),c.parseString=function(a,b,e){var f,g,h;return null!=e?("function"==typeof e&&(f=e),"object"===(void 0===b?"undefined":d(b))&&(g=b)):("function"==typeof b&&(f=b),g={}),h=new c.Parser(g),h.parseString(a,f)}}).call(void 0)},{"./bom":352,"./defaults":354,"./processors":356,events:10,sax:168,timers:268}],356:[function(a,b,c){"use strict";(function(){var a;a=new RegExp(/(?!xmlns)^.*:/),c.normalize=function(a){return a.toLowerCase()},c.firstCharLowerCase=function(a){return a.charAt(0).toLowerCase()+a.slice(1)},c.stripPrefix=function(b){return b.replace(a,"")},c.parseNumbers=function(a){return isNaN(a)||(a=a%1==0?parseInt(a,10):parseFloat(a)),a},c.parseBooleans=function(a){return/^(?:true|false)$/i.test(a)&&(a="true"===a.toLowerCase()),a}}).call(void 0)},{}],357:[function(a,b,c){"use strict";(function(){var b,d,e,f,g=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},h={}.hasOwnProperty;d=a("./defaults"),b=a("./builder"),e=a("./parser"),f=a("./processors"),c.defaults=d.defaults,c.processors=f,c.ValidationError=function(a){function b(a){this.message=a}return g(b,a),b}(Error),c.Builder=b.Builder,c.Parser=e.Parser,c.parseString=e.parseString}).call(void 0)},{"./builder":353,"./defaults":354,"./parser":355,"./processors":356}],358:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};(function(){var a,c,e,f,g,h,i=[].slice,j={}.hasOwnProperty;a=function(){var a,b,c,d,e,g;if(g=arguments[0],e=2<=arguments.length?i.call(arguments,1):[],f(Object.assign))Object.assign.apply(null,arguments);else for(a=0,c=e.length;a<c;a++)if(null!=(d=e[a]))for(b in d)j.call(d,b)&&(g[b]=d[b]);return g},f=function(a){return!!a&&"[object Function]"===Object.prototype.toString.call(a)},g=function(a){var b;return!!a&&("function"===(b=void 0===a?"undefined":d(a))||"object"===b)},c=function(a){return f(Array.isArray)?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)},e=function(a){var b;if(c(a))return!a.length;for(b in a)if(j.call(a,b))return!1;return!0},h=function(a){var b,c;return g(a)&&(c=Object.getPrototypeOf(a))&&(b=c.constructor)&&"function"==typeof b&&b instanceof b&&Function.prototype.toString.call(b)===Function.prototype.toString.call(Object)},b.exports.assign=a,b.exports.isFunction=f,b.exports.isObject=g,b.exports.isArray=c,b.exports.isEmpty=e,b.exports.isPlainObject=h}).call(void 0)},{}],359:[function(a,b,c){"use strict";(function(){b.exports=function(){function a(a,b,c){if(this.options=a.options,this.stringify=a.stringify,null==b)throw new Error("Missing attribute name of element "+a.name);if(null==c)throw new Error("Missing attribute value for attribute "+b+" of element "+a.name);this.name=this.stringify.attName(b),this.value=this.stringify.attValue(c)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(a){return this.options.writer.set(a).attribute(this)},a}()}).call(void 0)},{}],360:[function(a,b,c){"use strict";(function(){var c,d=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},e={}.hasOwnProperty;c=a("./XMLNode"),b.exports=function(a){function b(a,c){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(c)}return d(b,a),b.prototype.clone=function(){return Object.create(this)},b.prototype.toString=function(a){return this.options.writer.set(a).cdata(this)},b}(c)}).call(void 0)},{"./XMLNode":371}],361:[function(a,b,c){"use strict";(function(){var c,d=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},e={}.hasOwnProperty;c=a("./XMLNode"),b.exports=function(a){function b(a,c){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing comment text");this.text=this.stringify.comment(c)}return d(b,a),b.prototype.clone=function(){return Object.create(this)},b.prototype.toString=function(a){return this.options.writer.set(a).comment(this)},b}(c)}).call(void 0)},{"./XMLNode":371}],362:[function(a,b,c){"use strict";(function(){var c,d=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},e={}.hasOwnProperty;c=a("./XMLNode"),b.exports=function(a){function b(a,c,d,e,f,g){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing DTD element name");if(null==d)throw new Error("Missing DTD attribute name");if(!e)throw new Error("Missing DTD attribute type");if(!f)throw new Error("Missing DTD attribute default");if(0!==f.indexOf("#")&&(f="#"+f),!f.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(g&&!f.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(c),this.attributeName=this.stringify.attName(d),this.attributeType=this.stringify.dtdAttType(e),this.defaultValue=this.stringify.dtdAttDefault(g),this.defaultValueType=f}return d(b,a),b.prototype.toString=function(a){return this.options.writer.set(a).dtdAttList(this)},b}(c)}).call(void 0)},{"./XMLNode":371}],363:[function(a,b,c){"use strict";(function(){var c,d=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},e={}.hasOwnProperty;c=a("./XMLNode"),b.exports=function(a){function b(a,c,d){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing DTD element name");d||(d="(#PCDATA)"),Array.isArray(d)&&(d="("+d.join(",")+")"),this.name=this.stringify.eleName(c),this.value=this.stringify.dtdElementValue(d)}return d(b,a),b.prototype.toString=function(a){return this.options.writer.set(a).dtdElement(this)},b}(c)}).call(void 0)},{"./XMLNode":371}],364:[function(a,b,c){"use strict";(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("./Utility").isObject,c=a("./XMLNode"),b.exports=function(a){function b(a,c,e,f){if(b.__super__.constructor.call(this,a),null==e)throw new Error("Missing entity name");if(null==f)throw new Error("Missing entity value");if(this.pe=!!c,this.name=this.stringify.eleName(e),d(f)){if(!f.pubID&&!f.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(f.pubID&&!f.sysID)throw new Error("System identifier is required for a public external entity");if(null!=f.pubID&&(this.pubID=this.stringify.dtdPubID(f.pubID)),null!=f.sysID&&(this.sysID=this.stringify.dtdSysID(f.sysID)),null!=f.nData&&(this.nData=this.stringify.dtdNData(f.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(f)}return e(b,a),b.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},b}(c)}).call(void 0)},{"./Utility":358,"./XMLNode":371}],365:[function(a,b,c){"use strict";(function(){var c,d=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},e={}.hasOwnProperty;c=a("./XMLNode"),b.exports=function(a){function b(a,c,d){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing notation name");if(!d.pubID&&!d.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(c),null!=d.pubID&&(this.pubID=this.stringify.dtdPubID(d.pubID)),null!=d.sysID&&(this.sysID=this.stringify.dtdSysID(d.sysID))}return d(b,a),b.prototype.toString=function(a){return this.options.writer.set(a).dtdNotation(this)},b}(c)}).call(void 0)},{"./XMLNode":371}],366:[function(a,b,c){"use strict";(function(){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("./Utility").isObject,c=a("./XMLNode"),b.exports=function(a){function b(a,c,e,f){var g;b.__super__.constructor.call(this,a),d(c)&&(g=c,c=g.version,e=g.encoding,f=g.standalone),c||(c="1.0"),this.version=this.stringify.xmlVersion(c),null!=e&&(this.encoding=this.stringify.xmlEncoding(e)),null!=f&&(this.standalone=this.stringify.xmlStandalone(f))}return e(b,a),b.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},b}(c)}).call(void 0)},{"./Utility":358,"./XMLNode":371}],367:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h,i=function(a,b){function c(){this.constructor=a}for(var d in b)j.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},j={}.hasOwnProperty;h=a("./Utility").isObject,g=a("./XMLNode"),c=a("./XMLDTDAttList"),e=a("./XMLDTDEntity"),d=a("./XMLDTDElement"),f=a("./XMLDTDNotation"),b.exports=function(a){function b(a,c,d){var e,f;b.__super__.constructor.call(this,a),this.documentObject=a,h(c)&&(e=c,c=e.pubID,d=e.sysID),null==d&&(f=[c,d],d=f[0],c=f[1]),null!=c&&(this.pubID=this.stringify.dtdPubID(c)),null!=d&&(this.sysID=this.stringify.dtdSysID(d))}return i(b,a),b.prototype.element=function(a,b){var c;return c=new d(this,a,b),this.children.push(c),this},b.prototype.attList=function(a,b,d,e,f){var g;return g=new c(this,a,b,d,e,f),this.children.push(g),this},b.prototype.entity=function(a,b){var c;return c=new e(this,!1,a,b),this.children.push(c),this},b.prototype.pEntity=function(a,b){var c;return c=new e(this,!0,a,b),this.children.push(c),this},b.prototype.notation=function(a,b){var c;return c=new f(this,a,b),this.children.push(c),this},b.prototype.toString=function(a){return this.options.writer.set(a).docType(this)},b.prototype.ele=function(a,b){return this.element(a,b)},b.prototype.att=function(a,b,c,d,e){return this.attList(a,b,c,d,e)},b.prototype.ent=function(a,b){return this.entity(a,b)},b.prototype.pent=function(a,b){return this.pEntity(a,b)},b.prototype.not=function(a,b){return this.notation(a,b)},b.prototype.up=function(){return this.root()||this.documentObject},b}(g)}).call(void 0)},{"./Utility":358,"./XMLDTDAttList":362,"./XMLDTDElement":363,"./XMLDTDEntity":364,"./XMLDTDNotation":365,"./XMLNode":371}],368:[function(a,b,c){"use strict";(function(){var c,d,e,f,g=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},h={}.hasOwnProperty;f=a("./Utility").isPlainObject,c=a("./XMLNode"),e=a("./XMLStringifier"),d=a("./XMLStringWriter"),b.exports=function(a){function b(a){b.__super__.constructor.call(this,null),a||(a={}),a.writer||(a.writer=new d),this.options=a,this.stringify=new e(a),this.isDocument=!0}return g(b,a),b.prototype.end=function(a){var b;return a?f(a)&&(b=a,a=this.options.writer.set(b)):a=this.options.writer,a.document(this)},b.prototype.toString=function(a){return this.options.writer.set(a).document(this)},b}(c)}).call(void 0)},{"./Utility":358,"./XMLNode":371,"./XMLStringWriter":375,"./XMLStringifier":376}],369:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v={}.hasOwnProperty;u=a("./Utility"),s=u.isObject,r=u.isFunction,t=u.isPlainObject,l=a("./XMLElement"),d=a("./XMLCData"),e=a("./XMLComment"),n=a("./XMLRaw"),q=a("./XMLText"),m=a("./XMLProcessingInstruction"),j=a("./XMLDeclaration"),k=a("./XMLDocType"),f=a("./XMLDTDAttList"),h=a("./XMLDTDEntity"),g=a("./XMLDTDElement"),i=a("./XMLDTDNotation"),c=a("./XMLAttribute"),p=a("./XMLStringifier"),o=a("./XMLStringWriter"),b.exports=function(){function a(a,b,c){var d;a||(a={}),a.writer?t(a.writer)&&(d=a.writer,a.writer=new o(d)):a.writer=new o(a),this.options=a,this.writer=a.writer,this.stringify=new p(a),this.onDataCallback=b||function(){},this.onEndCallback=c||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return a.prototype.node=function(a,b,c){var d;if(null==a)throw new Error("Missing node name");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node");return this.openCurrent(),a=a.valueOf(),null==b&&(b={}),b=b.valueOf(),s(b)||(d=[b,c],c=d[0],b=d[1]),this.currentNode=new l(this,a,b),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=c&&this.text(c),this},a.prototype.element=function(a,b,c){return this.currentNode&&this.currentNode instanceof k?this.dtdElement.apply(this,arguments):this.node(a,b,c)},a.prototype.attribute=function(a,b){var d,e;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(null!=a&&(a=a.valueOf()),s(a))for(d in a)v.call(a,d)&&(e=a[d],this.attribute(d,e));else r(b)&&(b=b.apply()),this.options.skipNullAttributes&&null==b||(this.currentNode.attributes[a]=new c(this,a,b));return this},a.prototype.text=function(a){var b;return this.openCurrent(),b=new q(this,a),this.onData(this.writer.text(b,this.currentLevel+1)),this},a.prototype.cdata=function(a){var b;return this.openCurrent(),b=new d(this,a),this.onData(this.writer.cdata(b,this.currentLevel+1)),this},a.prototype.comment=function(a){var b;return this.openCurrent(),b=new e(this,a),this.onData(this.writer.comment(b,this.currentLevel+1)),this},a.prototype.raw=function(a){var b;return this.openCurrent(),b=new n(this,a),this.onData(this.writer.raw(b,this.currentLevel+1)),this},a.prototype.instruction=function(a,b){var c,d,e,f,g;if(this.openCurrent(),null!=a&&(a=a.valueOf()),null!=b&&(b=b.valueOf()),Array.isArray(a))for(c=0,f=a.length;c<f;c++)d=a[c],this.instruction(d);else if(s(a))for(d in a)v.call(a,d)&&(e=a[d],this.instruction(d,e));else r(b)&&(b=b.apply()),g=new m(this,a,b),this.onData(this.writer.processingInstruction(g,this.currentLevel+1));return this},a.prototype.declaration=function(a,b,c){var d;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return d=new j(this,a,b,c),this.onData(this.writer.declaration(d,this.currentLevel+1)),this},a.prototype.doctype=function(a,b,c){if(this.openCurrent(),null==a)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new k(this,b,c),this.currentNode.rootNodeName=a,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},a.prototype.dtdElement=function(a,b){var c;return this.openCurrent(),c=new g(this,a,b),this.onData(this.writer.dtdElement(c,this.currentLevel+1)),this},a.prototype.attList=function(a,b,c,d,e){var g;return this.openCurrent(),g=new f(this,a,b,c,d,e),this.onData(this.writer.dtdAttList(g,this.currentLevel+1)),this},a.prototype.entity=function(a,b){var c;return this.openCurrent(),c=new h(this,!1,a,b),this.onData(this.writer.dtdEntity(c,this.currentLevel+1)),this},a.prototype.pEntity=function(a,b){var c;return this.openCurrent(),c=new h(this,!0,a,b),this.onData(this.writer.dtdEntity(c,this.currentLevel+1)),this},a.prototype.notation=function(a,b){var c;return this.openCurrent(),c=new i(this,a,b),this.onData(this.writer.dtdNotation(c,this.currentLevel+1)),this},a.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},a.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},a.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},a.prototype.openNode=function(a){if(!a.isOpen)return!this.root&&0===this.currentLevel&&a instanceof l&&(this.root=a),this.onData(this.writer.openNode(a,this.currentLevel)),a.isOpen=!0},a.prototype.closeNode=function(a){if(!a.isClosed)return this.onData(this.writer.closeNode(a,this.currentLevel)),a.isClosed=!0},a.prototype.onData=function(a){return this.documentStarted=!0,this.onDataCallback(a)},a.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},a.prototype.ele=function(){return this.element.apply(this,arguments)},a.prototype.nod=function(a,b,c){return this.node(a,b,c)},a.prototype.txt=function(a){return this.text(a)},a.prototype.dat=function(a){return this.cdata(a)},a.prototype.com=function(a){return this.comment(a)},a.prototype.ins=function(a,b){return this.instruction(a,b)},a.prototype.dec=function(a,b,c){return this.declaration(a,b,c)},a.prototype.dtd=function(a,b,c){return this.doctype(a,b,c)},a.prototype.e=function(a,b,c){return this.element(a,b,c)},a.prototype.n=function(a,b,c){return this.node(a,b,c)},a.prototype.t=function(a){return this.text(a)},a.prototype.d=function(a){return this.cdata(a)},a.prototype.c=function(a){return this.comment(a)},a.prototype.r=function(a){return this.raw(a)},a.prototype.i=function(a,b){return this.instruction(a,b)},a.prototype.att=function(){return this.currentNode&&this.currentNode instanceof k?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},a.prototype.a=function(){return this.currentNode&&this.currentNode instanceof k?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},a.prototype.ent=function(a,b){return this.entity(a,b)},a.prototype.pent=function(a,b){return this.pEntity(a,b)},a.prototype.not=function(a,b){return this.notation(a,b)},a}()}).call(void 0)},{"./Utility":358,"./XMLAttribute":359,"./XMLCData":360,"./XMLComment":361,"./XMLDTDAttList":362,"./XMLDTDElement":363,"./XMLDTDEntity":364,"./XMLDTDNotation":365,"./XMLDeclaration":366,"./XMLDocType":367,"./XMLElement":370,"./XMLProcessingInstruction":372,"./XMLRaw":373,"./XMLStringWriter":375,"./XMLStringifier":376,"./XMLText":377}],370:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},i={}.hasOwnProperty;g=a("./Utility"),f=g.isObject,e=g.isFunction,d=a("./XMLNode"),c=a("./XMLAttribute"),b.exports=function(a){function b(a,c,d){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing element name");this.name=this.stringify.eleName(c),this.attributes={},null!=d&&this.attribute(d),a.isDocument&&(this.isRoot=!0,this.documentObject=a,a.rootObject=this)}return h(b,a),b.prototype.clone=function(){var a,b,c,d;c=Object.create(this),c.isRoot&&(c.documentObject=null),c.attributes={},d=this.attributes;for(b in d)i.call(d,b)&&(a=d[b],c.attributes[b]=a.clone());return c.children=[],this.children.forEach(function(a){var b;return b=a.clone(),b.parent=c,c.children.push(b)}),c},b.prototype.attribute=function(a,b){var d,g;if(null!=a&&(a=a.valueOf()),f(a))for(d in a)i.call(a,d)&&(g=a[d],this.attribute(d,g));else e(b)&&(b=b.apply()),this.options.skipNullAttributes&&null==b||(this.attributes[a]=new c(this,a,b));return this},b.prototype.removeAttribute=function(a){var b,c,d;if(null==a)throw new Error("Missing attribute name");if(a=a.valueOf(),Array.isArray(a))for(c=0,d=a.length;c<d;c++)b=a[c],delete this.attributes[b];else delete this.attributes[a];return this},b.prototype.toString=function(a){return this.options.writer.set(a).element(this)},b.prototype.att=function(a,b){return this.attribute(a,b)},b.prototype.a=function(a,b){return this.attribute(a,b)},b}(d)}).call(void 0)},{"./Utility":358,"./XMLAttribute":359,"./XMLNode":371}],371:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h,i,j,k,l,m,n,o={}.hasOwnProperty;n=a("./Utility"),m=n.isObject,l=n.isFunction,k=n.isEmpty,g=null,c=null,d=null,e=null,f=null,i=null,j=null,h=null,b.exports=function(){function b(b){this.parent=b,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],g||(g=a("./XMLElement"),c=a("./XMLCData"),d=a("./XMLComment"),e=a("./XMLDeclaration"),f=a("./XMLDocType"),i=a("./XMLRaw"),j=a("./XMLText"),h=a("./XMLProcessingInstruction"))}return b.prototype.element=function(a,b,c){var d,e,f,g,h,i,j,n,p,q;if(i=null,null==b&&(b={}),b=b.valueOf(),m(b)||(p=[b,c],c=p[0],b=p[1]),null!=a&&(a=a.valueOf()),Array.isArray(a))for(f=0,j=a.length;f<j;f++)e=a[f],i=this.element(e);else if(l(a))i=this.element(a.apply());else if(m(a)){for(h in a)if(o.call(a,h))if(q=a[h],l(q)&&(q=q.apply()),m(q)&&k(q)&&(q=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===h.indexOf(this.stringify.convertAttKey))i=this.attribute(h.substr(this.stringify.convertAttKey.length),q);else if(!this.options.separateArrayItems&&Array.isArray(q))for(g=0,n=q.length;g<n;g++)e=q[g],d={},d[h]=e,i=this.element(d);else m(q)?(i=this.element(h),i.element(q)):i=this.element(h,q)}else i=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===a.indexOf(this.stringify.convertTextKey)?this.text(c):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===a.indexOf(this.stringify.convertCDataKey)?this.cdata(c):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===a.indexOf(this.stringify.convertCommentKey)?this.comment(c):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===a.indexOf(this.stringify.convertRawKey)?this.raw(c):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===a.indexOf(this.stringify.convertPIKey)?this.instruction(a.substr(this.stringify.convertPIKey.length),c):this.node(a,b,c);if(null==i)throw new Error("Could not create any elements with: "+a);return i},b.prototype.insertBefore=function(a,b,c){var d,e,f;if(this.isRoot)throw new Error("Cannot insert elements at root level");return e=this.parent.children.indexOf(this),f=this.parent.children.splice(e),d=this.parent.element(a,b,c),Array.prototype.push.apply(this.parent.children,f),d},b.prototype.insertAfter=function(a,b,c){var d,e,f;if(this.isRoot)throw new Error("Cannot insert elements at root level");return e=this.parent.children.indexOf(this),f=this.parent.children.splice(e+1),d=this.parent.element(a,b,c),Array.prototype.push.apply(this.parent.children,f),d},b.prototype.remove=function(){var a;if(this.isRoot)throw new Error("Cannot remove the root element");return a=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[a,a-a+1].concat([])),this.parent},
b.prototype.node=function(a,b,c){var d,e;return null!=a&&(a=a.valueOf()),b||(b={}),b=b.valueOf(),m(b)||(e=[b,c],c=e[0],b=e[1]),d=new g(this,a,b),null!=c&&d.text(c),this.children.push(d),d},b.prototype.text=function(a){var b;return b=new j(this,a),this.children.push(b),this},b.prototype.cdata=function(a){var b;return b=new c(this,a),this.children.push(b),this},b.prototype.comment=function(a){var b;return b=new d(this,a),this.children.push(b),this},b.prototype.commentBefore=function(a){var b,c;return b=this.parent.children.indexOf(this),c=this.parent.children.splice(b),this.parent.comment(a),Array.prototype.push.apply(this.parent.children,c),this},b.prototype.commentAfter=function(a){var b,c;return b=this.parent.children.indexOf(this),c=this.parent.children.splice(b+1),this.parent.comment(a),Array.prototype.push.apply(this.parent.children,c),this},b.prototype.raw=function(a){var b;return b=new i(this,a),this.children.push(b),this},b.prototype.instruction=function(a,b){var c,d,e,f,g;if(null!=a&&(a=a.valueOf()),null!=b&&(b=b.valueOf()),Array.isArray(a))for(f=0,g=a.length;f<g;f++)c=a[f],this.instruction(c);else if(m(a))for(c in a)o.call(a,c)&&(d=a[c],this.instruction(c,d));else l(b)&&(b=b.apply()),e=new h(this,a,b),this.children.push(e);return this},b.prototype.instructionBefore=function(a,b){var c,d;return c=this.parent.children.indexOf(this),d=this.parent.children.splice(c),this.parent.instruction(a,b),Array.prototype.push.apply(this.parent.children,d),this},b.prototype.instructionAfter=function(a,b){var c,d;return c=this.parent.children.indexOf(this),d=this.parent.children.splice(c+1),this.parent.instruction(a,b),Array.prototype.push.apply(this.parent.children,d),this},b.prototype.declaration=function(a,b,c){var d,f;return d=this.document(),f=new e(d,a,b,c),d.children[0]instanceof e?d.children[0]=f:d.children.unshift(f),d.root()||d},b.prototype.doctype=function(a,b){var c,d,e,g,h,i,j,k,l,m;for(d=this.document(),e=new f(d,a,b),l=d.children,g=h=0,j=l.length;h<j;g=++h)if((c=l[g])instanceof f)return d.children[g]=e,e;for(m=d.children,g=i=0,k=m.length;i<k;g=++i)if(c=m[g],c.isRoot)return d.children.splice(g,0,e),e;return d.children.push(e),e},b.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},b.prototype.root=function(){var a;for(a=this;a;){if(a.isDocument)return a.rootObject;if(a.isRoot)return a;a=a.parent}},b.prototype.document=function(){var a;for(a=this;a;){if(a.isDocument)return a;a=a.parent}},b.prototype.end=function(a){return this.document().end(a)},b.prototype.prev=function(){var a;if((a=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node");return this.parent.children[a-1]},b.prototype.next=function(){var a;if(-1===(a=this.parent.children.indexOf(this))||a===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[a+1]},b.prototype.importDocument=function(a){var b;return b=a.root().clone(),b.parent=this,b.isRoot=!1,this.children.push(b),this},b.prototype.ele=function(a,b,c){return this.element(a,b,c)},b.prototype.nod=function(a,b,c){return this.node(a,b,c)},b.prototype.txt=function(a){return this.text(a)},b.prototype.dat=function(a){return this.cdata(a)},b.prototype.com=function(a){return this.comment(a)},b.prototype.ins=function(a,b){return this.instruction(a,b)},b.prototype.doc=function(){return this.document()},b.prototype.dec=function(a,b,c){return this.declaration(a,b,c)},b.prototype.dtd=function(a,b){return this.doctype(a,b)},b.prototype.e=function(a,b,c){return this.element(a,b,c)},b.prototype.n=function(a,b,c){return this.node(a,b,c)},b.prototype.t=function(a){return this.text(a)},b.prototype.d=function(a){return this.cdata(a)},b.prototype.c=function(a){return this.comment(a)},b.prototype.r=function(a){return this.raw(a)},b.prototype.i=function(a,b){return this.instruction(a,b)},b.prototype.u=function(){return this.up()},b.prototype.importXMLBuilder=function(a){return this.importDocument(a)},b}()}).call(void 0)},{"./Utility":358,"./XMLCData":360,"./XMLComment":361,"./XMLDeclaration":366,"./XMLDocType":367,"./XMLElement":370,"./XMLProcessingInstruction":372,"./XMLRaw":373,"./XMLText":377}],372:[function(a,b,c){"use strict";(function(){var c,d=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},e={}.hasOwnProperty;c=a("./XMLNode"),b.exports=function(a){function b(a,c,d){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(c),d&&(this.value=this.stringify.insValue(d))}return d(b,a),b.prototype.clone=function(){return Object.create(this)},b.prototype.toString=function(a){return this.options.writer.set(a).processingInstruction(this)},b}(c)}).call(void 0)},{"./XMLNode":371}],373:[function(a,b,c){"use strict";(function(){var c,d=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},e={}.hasOwnProperty;c=a("./XMLNode"),b.exports=function(a){function b(a,c){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing raw text");this.value=this.stringify.raw(c)}return d(b,a),b.prototype.clone=function(){return Object.create(this)},b.prototype.toString=function(a){return this.options.writer.set(a).raw(this)},b}(c)}).call(void 0)},{"./XMLNode":371}],374:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p=function(a,b){function c(){this.constructor=a}for(var d in b)q.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},q={}.hasOwnProperty;i=a("./XMLDeclaration"),j=a("./XMLDocType"),c=a("./XMLCData"),d=a("./XMLComment"),k=a("./XMLElement"),m=a("./XMLRaw"),n=a("./XMLText"),l=a("./XMLProcessingInstruction"),e=a("./XMLDTDAttList"),f=a("./XMLDTDElement"),g=a("./XMLDTDEntity"),h=a("./XMLDTDNotation"),o=a("./XMLWriterBase"),b.exports=function(a){function b(a,c){this.stream=a,b.__super__.constructor.call(this,c)}return p(b,a),b.prototype.document=function(a){var b,c,e,f,g,h,k,m;for(h=a.children,c=0,f=h.length;c<f;c++)b=h[c],b.isLastRootNode=!1;for(a.children[a.children.length-1].isLastRootNode=!0,k=a.children,m=[],e=0,g=k.length;e<g;e++)switch(b=k[e],!1){case!(b instanceof i):m.push(this.declaration(b));break;case!(b instanceof j):m.push(this.docType(b));break;case!(b instanceof d):m.push(this.comment(b));break;case!(b instanceof l):m.push(this.processingInstruction(b));break;default:m.push(this.element(b))}return m},b.prototype.attribute=function(a){return this.stream.write(" "+a.name+'="'+a.value+'"')},b.prototype.cdata=function(a,b){return this.stream.write(this.space(b)+"<![CDATA["+a.text+"]]>"+this.endline(a))},b.prototype.comment=function(a,b){return this.stream.write(this.space(b)+"\x3c!-- "+a.text+" --\x3e"+this.endline(a))},b.prototype.declaration=function(a,b){return this.stream.write(this.space(b)),this.stream.write('<?xml version="'+a.version+'"'),null!=a.encoding&&this.stream.write(' encoding="'+a.encoding+'"'),null!=a.standalone&&this.stream.write(' standalone="'+a.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(a))},b.prototype.docType=function(a,b){var i,j,k,m;if(b||(b=0),this.stream.write(this.space(b)),this.stream.write("<!DOCTYPE "+a.root().name),a.pubID&&a.sysID?this.stream.write(' PUBLIC "'+a.pubID+'" "'+a.sysID+'"'):a.sysID&&this.stream.write(' SYSTEM "'+a.sysID+'"'),a.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(a)),m=a.children,j=0,k=m.length;j<k;j++)switch(i=m[j],!1){case!(i instanceof e):this.dtdAttList(i,b+1);break;case!(i instanceof f):this.dtdElement(i,b+1);break;case!(i instanceof g):this.dtdEntity(i,b+1);break;case!(i instanceof h):this.dtdNotation(i,b+1);break;case!(i instanceof c):this.cdata(i,b+1);break;case!(i instanceof d):this.comment(i,b+1);break;case!(i instanceof l):this.processingInstruction(i,b+1);break;default:throw new Error("Unknown DTD node type: "+i.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(a))},b.prototype.element=function(a,b){var e,f,g,h,i,j,o,p;b||(b=0),p=this.space(b),this.stream.write(p+"<"+a.name),j=a.attributes;for(i in j)q.call(j,i)&&(e=j[i],this.attribute(e));if(0===a.children.length||a.children.every(function(a){return""===a.value}))this.allowEmpty?this.stream.write("></"+a.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&1===a.children.length&&null!=a.children[0].value)this.stream.write(">"),this.stream.write(a.children[0].value),this.stream.write("</"+a.name+">");else{for(this.stream.write(">"+this.newline),o=a.children,g=0,h=o.length;g<h;g++)switch(f=o[g],!1){case!(f instanceof c):this.cdata(f,b+1);break;case!(f instanceof d):this.comment(f,b+1);break;case!(f instanceof k):this.element(f,b+1);break;case!(f instanceof m):this.raw(f,b+1);break;case!(f instanceof n):this.text(f,b+1);break;case!(f instanceof l):this.processingInstruction(f,b+1);break;default:throw new Error("Unknown XML node type: "+f.constructor.name)}this.stream.write(p+"</"+a.name+">")}return this.stream.write(this.endline(a))},b.prototype.processingInstruction=function(a,b){return this.stream.write(this.space(b)+"<?"+a.target),a.value&&this.stream.write(" "+a.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(a))},b.prototype.raw=function(a,b){return this.stream.write(this.space(b)+a.value+this.endline(a))},b.prototype.text=function(a,b){return this.stream.write(this.space(b)+a.value+this.endline(a))},b.prototype.dtdAttList=function(a,b){return this.stream.write(this.space(b)+"<!ATTLIST "+a.elementName+" "+a.attributeName+" "+a.attributeType),"#DEFAULT"!==a.defaultValueType&&this.stream.write(" "+a.defaultValueType),a.defaultValue&&this.stream.write(' "'+a.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(a))},b.prototype.dtdElement=function(a,b){return this.stream.write(this.space(b)+"<!ELEMENT "+a.name+" "+a.value),this.stream.write(this.spacebeforeslash+">"+this.endline(a))},b.prototype.dtdEntity=function(a,b){return this.stream.write(this.space(b)+"<!ENTITY"),a.pe&&this.stream.write(" %"),this.stream.write(" "+a.name),a.value?this.stream.write(' "'+a.value+'"'):(a.pubID&&a.sysID?this.stream.write(' PUBLIC "'+a.pubID+'" "'+a.sysID+'"'):a.sysID&&this.stream.write(' SYSTEM "'+a.sysID+'"'),a.nData&&this.stream.write(" NDATA "+a.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(a))},b.prototype.dtdNotation=function(a,b){return this.stream.write(this.space(b)+"<!NOTATION "+a.name),a.pubID&&a.sysID?this.stream.write(' PUBLIC "'+a.pubID+'" "'+a.sysID+'"'):a.pubID?this.stream.write(' PUBLIC "'+a.pubID+'"'):a.sysID&&this.stream.write(' SYSTEM "'+a.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(a))},b.prototype.endline=function(a){return a.isLastRootNode?"":this.newline},b}(o)}).call(void 0)},{"./XMLCData":360,"./XMLComment":361,"./XMLDTDAttList":362,"./XMLDTDElement":363,"./XMLDTDEntity":364,"./XMLDTDNotation":365,"./XMLDeclaration":366,"./XMLDocType":367,"./XMLElement":370,"./XMLProcessingInstruction":372,"./XMLRaw":373,"./XMLText":377,"./XMLWriterBase":378}],375:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p=function(a,b){function c(){this.constructor=a}for(var d in b)q.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},q={}.hasOwnProperty;i=a("./XMLDeclaration"),j=a("./XMLDocType"),c=a("./XMLCData"),d=a("./XMLComment"),k=a("./XMLElement"),m=a("./XMLRaw"),n=a("./XMLText"),l=a("./XMLProcessingInstruction"),e=a("./XMLDTDAttList"),f=a("./XMLDTDElement"),g=a("./XMLDTDEntity"),h=a("./XMLDTDNotation"),o=a("./XMLWriterBase"),b.exports=function(a){function b(a){b.__super__.constructor.call(this,a)}return p(b,a),b.prototype.document=function(a){var b,c,e,f,g;for(this.textispresent=!1,f="",g=a.children,c=0,e=g.length;c<e;c++)b=g[c],f+=function(){switch(!1){case!(b instanceof i):return this.declaration(b);case!(b instanceof j):return this.docType(b);case!(b instanceof d):return this.comment(b);case!(b instanceof l):return this.processingInstruction(b);default:return this.element(b,0)}}.call(this);return this.pretty&&f.slice(-this.newline.length)===this.newline&&(f=f.slice(0,-this.newline.length)),f},b.prototype.attribute=function(a){return" "+a.name+'="'+a.value+'"'},b.prototype.cdata=function(a,b){return this.space(b)+"<![CDATA["+a.text+"]]>"+this.newline},b.prototype.comment=function(a,b){return this.space(b)+"\x3c!-- "+a.text+" --\x3e"+this.newline},b.prototype.declaration=function(a,b){var c;return c=this.space(b),c+='<?xml version="'+a.version+'"',null!=a.encoding&&(c+=' encoding="'+a.encoding+'"'),null!=a.standalone&&(c+=' standalone="'+a.standalone+'"'),c+=this.spacebeforeslash+"?>",c+=this.newline},b.prototype.docType=function(a,b){var i,j,k,m,n;if(b||(b=0),m=this.space(b),m+="<!DOCTYPE "+a.root().name,a.pubID&&a.sysID?m+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.sysID&&(m+=' SYSTEM "'+a.sysID+'"'),a.children.length>0){for(m+=" [",m+=this.newline,n=a.children,j=0,k=n.length;j<k;j++)i=n[j],m+=function(){switch(!1){case!(i instanceof e):return this.dtdAttList(i,b+1);case!(i instanceof f):return this.dtdElement(i,b+1);case!(i instanceof g):return this.dtdEntity(i,b+1);case!(i instanceof h):return this.dtdNotation(i,b+1);case!(i instanceof c):return this.cdata(i,b+1);case!(i instanceof d):return this.comment(i,b+1);case!(i instanceof l):return this.processingInstruction(i,b+1);default:throw new Error("Unknown DTD node type: "+i.constructor.name)}}.call(this);m+="]"}return m+=this.spacebeforeslash+">",m+=this.newline},b.prototype.element=function(a,b){var e,f,g,h,i,j,o,p,r,s,t,u,v;b||(b=0),v=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),u=this.space(b),p="",p+=u+"<"+a.name,r=a.attributes;for(o in r)q.call(r,o)&&(e=r[o],p+=this.attribute(e));if(0===a.children.length||a.children.every(function(a){return""===a.value}))this.allowEmpty?p+="></"+a.name+">"+this.newline:p+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&1===a.children.length&&null!=a.children[0].value)p+=">",p+=a.children[0].value,p+="</"+a.name+">"+this.newline;else{if(this.dontprettytextnodes)for(s=a.children,g=0,i=s.length;g<i;g++)if(f=s[g],null!=f.value){this.textispresent++,v=!0;break}for(this.textispresent&&(this.newline="",this.pretty=!1,u=this.space(b)),p+=">"+this.newline,t=a.children,h=0,j=t.length;h<j;h++)f=t[h],p+=function(){switch(!1){case!(f instanceof c):return this.cdata(f,b+1);case!(f instanceof d):return this.comment(f,b+1);case!(f instanceof k):return this.element(f,b+1);case!(f instanceof m):return this.raw(f,b+1);case!(f instanceof n):return this.text(f,b+1);case!(f instanceof l):return this.processingInstruction(f,b+1);default:throw new Error("Unknown XML node type: "+f.constructor.name)}}.call(this);v&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),p+=u+"</"+a.name+">"+this.newline}return p},b.prototype.processingInstruction=function(a,b){var c;return c=this.space(b)+"<?"+a.target,a.value&&(c+=" "+a.value),c+=this.spacebeforeslash+"?>"+this.newline},b.prototype.raw=function(a,b){return this.space(b)+a.value+this.newline},b.prototype.text=function(a,b){return this.space(b)+a.value+this.newline},b.prototype.dtdAttList=function(a,b){var c;return c=this.space(b)+"<!ATTLIST "+a.elementName+" "+a.attributeName+" "+a.attributeType,"#DEFAULT"!==a.defaultValueType&&(c+=" "+a.defaultValueType),a.defaultValue&&(c+=' "'+a.defaultValue+'"'),c+=this.spacebeforeslash+">"+this.newline},b.prototype.dtdElement=function(a,b){return this.space(b)+"<!ELEMENT "+a.name+" "+a.value+this.spacebeforeslash+">"+this.newline},b.prototype.dtdEntity=function(a,b){var c;return c=this.space(b)+"<!ENTITY",a.pe&&(c+=" %"),c+=" "+a.name,a.value?c+=' "'+a.value+'"':(a.pubID&&a.sysID?c+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.sysID&&(c+=' SYSTEM "'+a.sysID+'"'),a.nData&&(c+=" NDATA "+a.nData)),c+=this.spacebeforeslash+">"+this.newline},b.prototype.dtdNotation=function(a,b){var c;return c=this.space(b)+"<!NOTATION "+a.name,a.pubID&&a.sysID?c+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.pubID?c+=' PUBLIC "'+a.pubID+'"':a.sysID&&(c+=' SYSTEM "'+a.sysID+'"'),c+=this.spacebeforeslash+">"+this.newline},b.prototype.openNode=function(a,b){var c,d,e,f;if(b||(b=0),a instanceof k){e=this.space(b)+"<"+a.name,f=a.attributes;for(d in f)q.call(f,d)&&(c=f[d],e+=this.attribute(c));return e+=(a.children?">":"/>")+this.newline}return e=this.space(b)+"<!DOCTYPE "+a.rootNodeName,a.pubID&&a.sysID?e+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.sysID&&(e+=' SYSTEM "'+a.sysID+'"'),e+=(a.children?" [":">")+this.newline},b.prototype.closeNode=function(a,b){switch(b||(b=0),!1){case!(a instanceof k):return this.space(b)+"</"+a.name+">"+this.newline;case!(a instanceof j):return this.space(b)+"]>"+this.newline}},b}(o)}).call(void 0)},{"./XMLCData":360,"./XMLComment":361,"./XMLDTDAttList":362,"./XMLDTDElement":363,"./XMLDTDEntity":364,"./XMLDTDNotation":365,"./XMLDeclaration":366,"./XMLDocType":367,"./XMLElement":370,"./XMLProcessingInstruction":372,"./XMLRaw":373,"./XMLText":377,"./XMLWriterBase":378}],376:[function(a,b,c){"use strict";(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},c={}.hasOwnProperty;b.exports=function(){function b(b){this.assertLegalChar=a(this.assertLegalChar,this);var d,e,f;b||(b={}),this.noDoubleEncoding=b.noDoubleEncoding,e=b.stringify||{};for(d in e)c.call(e,d)&&(f=e[d],this[d]=f)}return b.prototype.eleName=function(a){return a=""+a||"",this.assertLegalChar(a)},b.prototype.eleText=function(a){return a=""+a||"",this.assertLegalChar(this.elEscape(a))},b.prototype.cdata=function(a){return a=""+a||"",a=a.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(a)},b.prototype.comment=function(a){if(a=""+a||"",a.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+a);return this.assertLegalChar(a)},b.prototype.raw=function(a){return""+a||""},b.prototype.attName=function(a){return a=""+a||""},b.prototype.attValue=function(a){return a=""+a||"",this.attEscape(a)},b.prototype.insTarget=function(a){return""+a||""},b.prototype.insValue=function(a){if(a=""+a||"",a.match(/\?>/))throw new Error("Invalid processing instruction value: "+a);return a},b.prototype.xmlVersion=function(a){if(a=""+a||"",!a.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+a);return a},b.prototype.xmlEncoding=function(a){if(a=""+a||"",!a.match(/^[A-Za-z](?:[A-Za-z0-9._-]|-)*$/))throw new Error("Invalid encoding: "+a);return a},b.prototype.xmlStandalone=function(a){return a?"yes":"no"},b.prototype.dtdPubID=function(a){return""+a||""},b.prototype.dtdSysID=function(a){return""+a||""},b.prototype.dtdElementValue=function(a){return""+a||""},b.prototype.dtdAttType=function(a){return""+a||""},b.prototype.dtdAttDefault=function(a){return null!=a?""+a||"":a},b.prototype.dtdEntityValue=function(a){return""+a||""},b.prototype.dtdNData=function(a){return""+a||""},b.prototype.convertAttKey="@",b.prototype.convertPIKey="?",b.prototype.convertTextKey="#text",b.prototype.convertCDataKey="#cdata",b.prototype.convertCommentKey="#comment",b.prototype.convertRawKey="#raw",b.prototype.assertLegalChar=function(a){var b;if(b=a.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+a+" at index "+b.index);return a},b.prototype.elEscape=function(a){var b;return b=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,a.replace(b,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},b.prototype.attEscape=function(a){var b;return b=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,a.replace(b,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},b}()}).call(void 0)},{}],377:[function(a,b,c){"use strict";(function(){var c,d=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},e={}.hasOwnProperty;c=a("./XMLNode"),b.exports=function(a){function b(a,c){if(b.__super__.constructor.call(this,a),null==c)throw new Error("Missing element text");this.value=this.stringify.eleText(c)}return d(b,a),b.prototype.clone=function(){return Object.create(this)},b.prototype.toString=function(a){return this.options.writer.set(a).text(this)},b}(c)}).call(void 0)},{"./XMLNode":371}],378:[function(a,b,c){"use strict";(function(){var a={}.hasOwnProperty;b.exports=function(){function b(b){var c,d,e,f,g,h,i,j,k;b||(b={}),this.pretty=b.pretty||!1,this.allowEmpty=null!=(d=b.allowEmpty)&&d,this.pretty?(this.indent=null!=(e=b.indent)?e:"  ",this.newline=null!=(f=b.newline)?f:"\n",this.offset=null!=(g=b.offset)?g:0,this.dontprettytextnodes=null!=(h=b.dontprettytextnodes)?h:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=null!=(i=b.spacebeforeslash)?i:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,j=b.writer||{};for(c in j)a.call(j,c)&&(k=j[c],this[c]=k)}return b.prototype.set=function(b){var c,d,e;b||(b={}),"pretty"in b&&(this.pretty=b.pretty),"allowEmpty"in b&&(this.allowEmpty=b.allowEmpty),this.pretty?(this.indent="indent"in b?b.indent:"  ",this.newline="newline"in b?b.newline:"\n",this.offset="offset"in b?b.offset:0,this.dontprettytextnodes="dontprettytextnodes"in b?b.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in b?b.spacebeforeslash:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,d=b.writer||{};for(c in d)a.call(d,c)&&(e=d[c],this[c]=e);return this},b.prototype.space=function(a){var b;return this.pretty?(b=(a||0)+this.offset+1,b>0?new Array(b).join(this.indent):""):""},b}()}).call(void 0)},{}],379:[function(a,b,c){"use strict";(function(){var c,d,e,f,g,h,i;i=a("./Utility"),g=i.assign,h=i.isFunction,c=a("./XMLDocument"),d=a("./XMLDocumentCB"),f=a("./XMLStringWriter"),e=a("./XMLStreamWriter"),b.exports.create=function(a,b,d,e){var f,h;if(null==a)throw new Error("Root element needs a name");return e=g({},b,d,e),f=new c(e),h=f.element(a),e.headless||(f.declaration(e),null==e.pubID&&null==e.sysID||f.doctype(e)),h},b.exports.begin=function(a,b,e){var f;return h(a)&&(f=[a,b],b=f[0],e=f[1],a={}),b?new d(a,b,e):new c(a)},b.exports.stringWriter=function(a){return new f(a)},b.exports.streamWriter=function(a,b){return new e(a,b)}}).call(void 0)},{"./Utility":358,"./XMLDocument":368,"./XMLDocumentCB":369,"./XMLStreamWriter":374,"./XMLStringWriter":375}],380:[function(a,b,c){"use strict";function d(){for(var a={},b=0;b<arguments.length;b++){var c=arguments[b];for(var d in c)e.call(c,d)&&(a[d]=c[d])}return a}b.exports=d;var e=Object.prototype.hasOwnProperty},{}]},{},[85])(85)}),function(a){if("object"==typeof exports&&"object"==typeof module)module.exports=a();else{if("function"==typeof define&&define.amd)return define([],a);this.CodeMirror=a()}}(function(){"use strict";function a(c,d){if(!(this instanceof a))return new a(c,d);this.options=d=d||{},de(tf,d,!1),o(d);var e=d.value;"string"==typeof e&&(e=new Rf(e,d.mode)),this.doc=e;var f=this.display=new b(c,e);f.wrapper.CodeMirror=this,k(this),i(this),d.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),d.autofocus&&!Ze&&nb(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Yd},Ke&&setTimeout(ee(mb,this,!0),20),qb(this),se();var g=this;Ya(this,function(){g.curOp.forceUpdate=!0,rd(g,e),d.autofocus&&!Ze||me()==f.input?setTimeout(ee(Nb,g),20):Ob(g);for(var a in uf)uf.hasOwnProperty(a)&&uf[a](g,d[a],vf);for(var b=0;b<zf.length;++b)zf[b](g)})}function b(a,b){var c=this,d=c.input=ie("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");Qe?d.style.width="1000px":d.setAttribute("wrap","off"),Ye&&(d.style.border="1px solid black"),d.setAttribute("autocorrect","off"),d.setAttribute("autocapitalize","off"),d.setAttribute("spellcheck","false"),c.inputDiv=ie("div",[d],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),c.scrollbarH=ie("div",[ie("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar"),c.scrollbarV=ie("div",[ie("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),c.scrollbarFiller=ie("div",null,"CodeMirror-scrollbar-filler"),c.gutterFiller=ie("div",null,"CodeMirror-gutter-filler"),c.lineDiv=ie("div",null,"CodeMirror-code"),c.selectionDiv=ie("div",null,null,"position: relative; z-index: 1"),c.cursorDiv=ie("div",null,"CodeMirror-cursors"),c.measure=ie("div",null,"CodeMirror-measure"),c.lineMeasure=ie("div",null,"CodeMirror-measure"),c.lineSpace=ie("div",[c.measure,c.lineMeasure,c.selectionDiv,c.cursorDiv,c.lineDiv],null,"position: relative; outline: none"),c.mover=ie("div",[ie("div",[c.lineSpace],"CodeMirror-lines")],null,"position: relative"),c.sizer=ie("div",[c.mover],"CodeMirror-sizer"),c.heightForcer=ie("div",null,null,"position: absolute; height: "+ag+"px; width: 1px;"),c.gutters=ie("div",null,"CodeMirror-gutters"),c.lineGutter=null,c.scroller=ie("div",[c.sizer,c.heightForcer,c.gutters],"CodeMirror-scroll"),c.scroller.setAttribute("tabIndex","-1"),c.wrapper=ie("div",[c.inputDiv,c.scrollbarH,c.scrollbarV,c.scrollbarFiller,c.gutterFiller,c.scroller],"CodeMirror"),Le&&(c.gutters.style.zIndex=-1,c.scroller.style.paddingRight=0),Ye&&(d.style.width="0px"),Qe||(c.scroller.draggable=!0),Ve&&(c.inputDiv.style.height="1px",c.inputDiv.style.position="absolute"),Le&&(c.scrollbarH.style.minHeight=c.scrollbarV.style.minWidth="18px"),a.appendChild?a.appendChild(c.wrapper):a(c.wrapper),c.viewFrom=c.viewTo=b.first,c.view=[],c.externalMeasured=null,c.viewOffset=0,c.lastSizeC=0,c.updateLineNumbers=null,c.lineNumWidth=c.lineNumInnerWidth=c.lineNumChars=null,c.prevInput="",c.alignWidgets=!1,c.pollingFast=!1,c.poll=new Yd,c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null,c.inaccurateSelection=!1,c.maxLine=null,c.maxLineLength=0,c.maxLineChanged=!1,c.wheelDX=c.wheelDY=c.wheelStartX=c.wheelStartY=null,c.shift=!1,c.selForContextMenu=null}function c(b){b.doc.mode=a.getMode(b.options,b.doc.modeOption),d(b)}function d(a){a.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),a.doc.frontier=a.doc.first,sa(a,100),a.state.modeGen++,a.curOp&&cb(a)}function e(a){a.options.lineWrapping?(pe(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth=""):(oe(a.display.wrapper,"CodeMirror-wrap"),n(a)),g(a),cb(a),Ja(a),setTimeout(function(){q(a)},100)}function f(a){var b=Ua(a.display),c=a.options.lineWrapping,d=c&&Math.max(5,a.display.scroller.clientWidth/Va(a.display)-3);return function(e){if(Sc(a.doc,e))return 0;var f=0;if(e.widgets)for(var g=0;g<e.widgets.length;g++)e.widgets[g].height&&(f+=e.widgets[g].height);return c?f+(Math.ceil(e.text.length/d)||1)*b:f+b}}function g(a){var b=a.doc,c=f(a);b.iter(function(a){var b=c(a);b!=a.height&&vd(a,b)})}function h(a){var b=Ef[a.options.keyMap],c=b.style;a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(c?" cm-keymap-"+c:"")}function i(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ja(a)}function j(a){k(a),cb(a),setTimeout(function(){s(a)},20)}function k(a){var b=a.display.gutters,c=a.options.gutters;je(b);for(var d=0;d<c.length;++d){var e=c[d],f=b.appendChild(ie("div",null,"CodeMirror-gutter "+e));"CodeMirror-linenumbers"==e&&(a.display.lineGutter=f,f.style.width=(a.display.lineNumWidth||1)+"px")}b.style.display=d?"":"none",l(a)}function l(a){var b=a.display.gutters.offsetWidth;a.display.sizer.style.marginLeft=b+"px",a.display.scrollbarH.style.left=a.options.fixedGutter?b+"px":0}function m(a){if(0==a.height)return 0;for(var b,c=a.text.length,d=a;b=Lc(d);){var e=b.find(0,!0);d=e.from.line,c+=e.from.ch-e.to.ch}for(d=a;b=Mc(d);){var e=b.find(0,!0);c-=d.text.length-e.from.ch,d=e.to.line,c+=d.text.length-e.to.ch}return c}function n(a){var b=a.display,c=a.doc;b.maxLine=sd(c,c.first),b.maxLineLength=m(b.maxLine),b.maxLineChanged=!0,c.iter(function(a){var c=m(a);c>b.maxLineLength&&(b.maxLineLength=c,b.maxLine=a)})}function o(a){var b=ae(a.gutters,"CodeMirror-linenumbers");-1==b&&a.lineNumbers?a.gutters=a.gutters.concat(["CodeMirror-linenumbers"]):b>-1&&!a.lineNumbers&&(a.gutters=a.gutters.slice(0),a.gutters.splice(b,1))}function p(a){var b=a.display.scroller;return{clientHeight:b.clientHeight,barHeight:a.display.scrollbarV.clientHeight,scrollWidth:b.scrollWidth,clientWidth:b.clientWidth,barWidth:a.display.scrollbarH.clientWidth,docHeight:Math.round(a.doc.height+xa(a.display))}}function q(a,b){b||(b=p(a));var c=a.display,d=b.docHeight+ag,e=b.scrollWidth>b.clientWidth,f=d>b.clientHeight;if(f?(c.scrollbarV.style.display="block",c.scrollbarV.style.bottom=e?ue(c.measure)+"px":"0",c.scrollbarV.firstChild.style.height=Math.max(0,d-b.clientHeight+(b.barHeight||c.scrollbarV.clientHeight))+"px"):(c.scrollbarV.style.display="",c.scrollbarV.firstChild.style.height="0"),e?(c.scrollbarH.style.display="block",c.scrollbarH.style.right=f?ue(c.measure)+"px":"0",c.scrollbarH.firstChild.style.width=b.scrollWidth-b.clientWidth+(b.barWidth||c.scrollbarH.clientWidth)+"px"):(c.scrollbarH.style.display="",c.scrollbarH.firstChild.style.width="0"),e&&f?(c.scrollbarFiller.style.display="block",c.scrollbarFiller.style.height=c.scrollbarFiller.style.width=ue(c.measure)+"px"):c.scrollbarFiller.style.display="",e&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(c.gutterFiller.style.display="block",c.gutterFiller.style.height=ue(c.measure)+"px",c.gutterFiller.style.width=c.gutters.offsetWidth+"px"):c.gutterFiller.style.display="",!a.state.checkedOverlayScrollbar&&b.clientHeight>0){if(0===ue(c.measure)){var g=$e&&!We?"12px":"18px";c.scrollbarV.style.minWidth=c.scrollbarH.style.minHeight=g;var h=function(b){Qd(b)!=c.scrollbarV&&Qd(b)!=c.scrollbarH&&Za(a,ub)(b)};Yf(c.scrollbarV,"mousedown",h),Yf(c.scrollbarH,"mousedown",h)}a.state.checkedOverlayScrollbar=!0}}function r(a,b,c){var d=c&&null!=c.top?Math.max(0,c.top):a.scroller.scrollTop;d=Math.floor(d-wa(a));var e=c&&null!=c.bottom?c.bottom:d+a.wrapper.clientHeight,f=xd(b,d),g=xd(b,e);if(c&&c.ensure){var h=c.ensure.from.line,i=c.ensure.to.line;if(h<f)return{from:h,to:xd(b,yd(sd(b,h))+a.wrapper.clientHeight)};if(Math.min(i,b.lastLine())>=g)return{from:xd(b,yd(sd(b,i))-a.wrapper.clientHeight),to:i}}return{from:f,to:Math.max(g,f+1)}}function s(a){var b=a.display,c=b.view;if(b.alignWidgets||b.gutters.firstChild&&a.options.fixedGutter){for(var d=v(b)-b.scroller.scrollLeft+a.doc.scrollLeft,e=b.gutters.offsetWidth,f=d+"px",g=0;g<c.length;g++)if(!c[g].hidden){a.options.fixedGutter&&c[g].gutter&&(c[g].gutter.style.left=f);var h=c[g].alignable;if(h)for(var i=0;i<h.length;i++)h[i].style.left=f}a.options.fixedGutter&&(b.gutters.style.left=d+e+"px")}}function t(a){if(!a.options.lineNumbers)return!1;var b=a.doc,c=u(a.options,b.first+b.size-1),d=a.display;if(c.length!=d.lineNumChars){var e=d.measure.appendChild(ie("div",[ie("div",c)],"CodeMirror-linenumber CodeMirror-gutter-elt")),f=e.firstChild.offsetWidth,g=e.offsetWidth-f;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(f,d.lineGutter.offsetWidth-g),d.lineNumWidth=d.lineNumInnerWidth+g,d.lineNumChars=d.lineNumInnerWidth?c.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",l(a),!0}return!1}function u(a,b){
return String(a.lineNumberFormatter(b+a.firstLineNumber))}function v(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function w(a,b,c){for(var d,e=a.display.viewFrom,f=a.display.viewTo,g=r(a.display,a.doc,b),h=!0;;h=!1){var i=a.display.scroller.clientWidth;if(!x(a,g,c))break;d=!0,a.display.maxLineChanged&&!a.options.lineWrapping&&y(a);var j=p(a);if(oa(a),z(a,j),q(a,j),Qe&&a.options.lineWrapping&&A(a,j),h&&a.options.lineWrapping&&i!=a.display.scroller.clientWidth)c=!0;else if(c=!1,b&&null!=b.top&&(b={top:Math.min(j.docHeight-ag-j.clientHeight,b.top)}),g=r(a.display,a.doc,b),g.from>=a.display.viewFrom&&g.to<=a.display.viewTo)break}return a.display.updateLineNumbers=null,d&&(Sd(a,"update",a),a.display.viewFrom==e&&a.display.viewTo==f||Sd(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo)),d}function x(a,b,c){var d=a.display,e=a.doc;if(!d.wrapper.offsetWidth)return void eb(a);if(!(!c&&b.from>=d.viewFrom&&b.to<=d.viewTo&&0==ib(a))){t(a)&&eb(a);var f=D(a),g=e.first+e.size,h=Math.max(b.from-a.options.viewportMargin,e.first),i=Math.min(g,b.to+a.options.viewportMargin);d.viewFrom<h&&h-d.viewFrom<20&&(h=Math.max(e.first,d.viewFrom)),d.viewTo>i&&d.viewTo-i<20&&(i=Math.min(g,d.viewTo)),ef&&(h=Qc(a.doc,h),i=Rc(a.doc,i));var j=h!=d.viewFrom||i!=d.viewTo||d.lastSizeC!=d.wrapper.clientHeight;hb(a,h,i),d.viewOffset=yd(sd(a.doc,d.viewFrom)),a.display.mover.style.top=d.viewOffset+"px";var k=ib(a);if(j||0!=k||c){var l=me();return k>4&&(d.lineDiv.style.display="none"),E(a,d.updateLineNumbers,f),k>4&&(d.lineDiv.style.display=""),l&&me()!=l&&l.offsetHeight&&l.focus(),je(d.cursorDiv),je(d.selectionDiv),j&&(d.lastSizeC=d.wrapper.clientHeight,sa(a,400)),B(a),!0}}}function y(a){var b=a.display,c=Ca(a,b.maxLine,b.maxLine.text.length).left;b.maxLineChanged=!1;var d=Math.max(0,c+3),e=Math.max(0,b.sizer.offsetLeft+d+ag-b.scroller.clientWidth);b.sizer.style.minWidth=d+"px",e<a.doc.scrollLeft&&Db(a,Math.min(b.scroller.scrollLeft,e),!0)}function z(a,b){a.display.sizer.style.minHeight=a.display.heightForcer.style.top=b.docHeight+"px",a.display.gutters.style.height=Math.max(b.docHeight,b.clientHeight-ag)+"px"}function A(a,b){a.display.sizer.offsetWidth+a.display.gutters.offsetWidth<a.display.scroller.clientWidth-1&&(a.display.sizer.style.minHeight=a.display.heightForcer.style.top="0px",a.display.gutters.style.height=b.docHeight+"px")}function B(a){for(var b=a.display,c=b.lineDiv.offsetTop,d=0;d<b.view.length;d++){var e,f=b.view[d];if(!f.hidden){if(Le){var g=f.node.offsetTop+f.node.offsetHeight;e=g-c,c=g}else{var h=f.node.getBoundingClientRect();e=h.bottom-h.top}var i=f.line.height-e;if(e<2&&(e=Ua(b)),(i>.001||i<-.001)&&(vd(f.line,e),C(f.line),f.rest))for(var j=0;j<f.rest.length;j++)C(f.rest[j])}}}function C(a){if(a.widgets)for(var b=0;b<a.widgets.length;++b)a.widgets[b].height=a.widgets[b].node.offsetHeight}function D(a){for(var b=a.display,c={},d={},e=b.gutters.firstChild,f=0;e;e=e.nextSibling,++f)c[a.options.gutters[f]]=e.offsetLeft,d[a.options.gutters[f]]=e.offsetWidth;return{fixedPos:v(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:c,gutterWidth:d,wrapperWidth:b.wrapper.clientWidth}}function E(a,b,c){function d(b){var c=b.nextSibling;return Qe&&$e&&a.display.currentWheelTarget==b?b.style.display="none":b.parentNode.removeChild(b),c}for(var e=a.display,f=a.options.lineNumbers,g=e.lineDiv,h=g.firstChild,i=e.view,j=e.viewFrom,k=0;k<i.length;k++){var l=i[k];if(l.hidden);else if(l.node){for(;h!=l.node;)h=d(h);var m=f&&null!=b&&b<=j&&l.lineNumber;l.changes&&(ae(l.changes,"gutter")>-1&&(m=!1),F(a,l,j,c)),m&&(je(l.lineNumber),l.lineNumber.appendChild(document.createTextNode(u(a.options,j)))),h=l.node.nextSibling}else{var n=N(a,l,j,c);g.insertBefore(n,h)}j+=l.size}for(;h;)h=d(h)}function F(a,b,c,d){for(var e=0;e<b.changes.length;e++){var f=b.changes[e];"text"==f?J(a,b):"gutter"==f?L(a,b,c,d):"class"==f?K(b):"widget"==f&&M(b,d)}b.changes=null}function G(a){return a.node==a.text&&(a.node=ie("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),Le&&(a.node.style.zIndex=2)),a.node}function H(a){var b=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;if(b&&(b+=" CodeMirror-linebackground"),a.background)b?a.background.className=b:(a.background.parentNode.removeChild(a.background),a.background=null);else if(b){var c=G(a);a.background=c.insertBefore(ie("div",null,b),c.firstChild)}}function I(a,b){var c=a.display.externalMeasured;return c&&c.line==b.line?(a.display.externalMeasured=null,b.measure=c.measure,c.built):fd(a,b)}function J(a,b){var c=b.text.className,d=I(a,b);b.text==b.node&&(b.node=d.pre),b.text.parentNode.replaceChild(d.pre,b.text),b.text=d.pre,d.bgClass!=b.bgClass||d.textClass!=b.textClass?(b.bgClass=d.bgClass,b.textClass=d.textClass,K(b)):c&&(b.text.className=c)}function K(a){H(a),a.line.wrapClass?G(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");var b=a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass;a.text.className=b||""}function L(a,b,c,d){b.gutter&&(b.node.removeChild(b.gutter),b.gutter=null);var e=b.line.gutterMarkers;if(a.options.lineNumbers||e){var f=G(b),g=b.gutter=f.insertBefore(ie("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px"),b.text);if(!a.options.lineNumbers||e&&e["CodeMirror-linenumbers"]||(b.lineNumber=g.appendChild(ie("div",u(a.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),e)for(var h=0;h<a.options.gutters.length;++h){var i=a.options.gutters[h],j=e.hasOwnProperty(i)&&e[i];j&&g.appendChild(ie("div",[j],"CodeMirror-gutter-elt","left: "+d.gutterLeft[i]+"px; width: "+d.gutterWidth[i]+"px"))}}}function M(a,b){a.alignable&&(a.alignable=null);for(var c,d=a.node.firstChild;d;d=c){var c=d.nextSibling;"CodeMirror-linewidget"==d.className&&a.node.removeChild(d)}O(a,b)}function N(a,b,c,d){var e=I(a,b);return b.text=b.node=e.pre,e.bgClass&&(b.bgClass=e.bgClass),e.textClass&&(b.textClass=e.textClass),K(b),L(a,b,c,d),O(b,d),b.node}function O(a,b){if(P(a.line,a,b,!0),a.rest)for(var c=0;c<a.rest.length;c++)P(a.rest[c],a,b,!1)}function P(a,b,c,d){if(a.widgets)for(var e=G(b),f=0,g=a.widgets;f<g.length;++f){var h=g[f],i=ie("div",[h.node],"CodeMirror-linewidget");h.handleMouseEvents||(i.ignoreEvents=!0),Q(h,i,b,c),d&&h.above?e.insertBefore(i,b.gutter||b.text):e.appendChild(i),Sd(h,"redraw")}}function Q(a,b,c,d){if(a.noHScroll){(c.alignable||(c.alignable=[])).push(b);var e=d.wrapperWidth;b.style.left=d.fixedPos+"px",a.coverGutter||(e-=d.gutterTotalWidth,b.style.paddingLeft=d.gutterTotalWidth+"px"),b.style.width=e+"px"}a.coverGutter&&(b.style.zIndex=5,b.style.position="relative",a.noHScroll||(b.style.marginLeft=-d.gutterTotalWidth+"px"))}function R(a){return ff(a.line,a.ch)}function S(a,b){return gf(a,b)<0?b:a}function T(a,b){return gf(a,b)<0?a:b}function U(a,b){this.ranges=a,this.primIndex=b}function V(a,b){this.anchor=a,this.head=b}function W(a,b){var c=a[b];a.sort(function(a,b){return gf(a.from(),b.from())}),b=ae(a,c);for(var d=1;d<a.length;d++){var e=a[d],f=a[d-1];if(gf(f.to(),e.from())>=0){var g=T(f.from(),e.from()),h=S(f.to(),e.to()),i=f.empty()?e.from()==e.head:f.from()==f.head;d<=b&&--b,a.splice(--d,2,new V(i?h:g,i?g:h))}}return new U(a,b)}function X(a,b){return new U([new V(a,b||a)],0)}function Y(a,b){return Math.max(a.first,Math.min(b,a.first+a.size-1))}function Z(a,b){if(b.line<a.first)return ff(a.first,0);var c=a.first+a.size-1;return b.line>c?ff(c,sd(a,c).text.length):$(b,sd(a,b.line).text.length)}function $(a,b){var c=a.ch;return null==c||c>b?ff(a.line,b):c<0?ff(a.line,0):a}function _(a,b){return b>=a.first&&b<a.first+a.size}function aa(a,b){for(var c=[],d=0;d<b.length;d++)c[d]=Z(a,b[d]);return c}function ba(a,b,c,d){if(a.cm&&a.cm.display.shift||a.extend){var e=b.anchor;if(d){var f=gf(c,e)<0;f!=gf(d,e)<0?(e=c,c=d):f!=gf(c,d)<0&&(c=d)}return new V(e,c)}return new V(d||c,c)}function ca(a,b,c,d){ia(a,new U([ba(a,a.sel.primary(),b,c)],0),d)}function da(a,b,c){for(var d=[],e=0;e<a.sel.ranges.length;e++)d[e]=ba(a,a.sel.ranges[e],b[e],null);ia(a,W(d,a.sel.primIndex),c)}function ea(a,b,c,d){var e=a.sel.ranges.slice(0);e[b]=c,ia(a,W(e,a.sel.primIndex),d)}function fa(a,b,c,d){ia(a,X(b,c),d)}function ga(a,b){var c={ranges:b.ranges,update:function(b){this.ranges=[];for(var c=0;c<b.length;c++)this.ranges[c]=new V(Z(a,b[c].anchor),Z(a,b[c].head))}};return $f(a,"beforeSelectionChange",a,c),a.cm&&$f(a.cm,"beforeSelectionChange",a.cm,c),c.ranges!=b.ranges?W(c.ranges,c.ranges.length-1):b}function ha(a,b,c){var d=a.history.done,e=_d(d);e&&e.ranges?(d[d.length-1]=b,ja(a,b,c)):ia(a,b,c)}function ia(a,b,c){ja(a,b,c),Gd(a,a.sel,a.cm?a.cm.curOp.id:NaN,c)}function ja(a,b,c){(Wd(a,"beforeSelectionChange")||a.cm&&Wd(a.cm,"beforeSelectionChange"))&&(b=ga(a,b)),ka(a,ma(a,b,c&&c.bias||(gf(b.primary().head,a.sel.primary().head)<0?-1:1),!0)),c&&!1===c.scroll||!a.cm||gc(a.cm)}function ka(a,b){b.equals(a.sel)||(a.sel=b,a.cm&&(a.cm.curOp.updateInput=a.cm.curOp.selectionChanged=!0,Vd(a.cm)),Sd(a,"cursorActivity",a))}function la(a){ka(a,ma(a,a.sel,null,!1),cg)}function ma(a,b,c,d){for(var e,f=0;f<b.ranges.length;f++){var g=b.ranges[f],h=na(a,g.anchor,c,d),i=na(a,g.head,c,d);(e||h!=g.anchor||i!=g.head)&&(e||(e=b.ranges.slice(0,f)),e[f]=new V(h,i))}return e?W(e,b.primIndex):b}function na(a,b,c,d){var e=!1,f=b,g=c||1;a.cantEdit=!1;a:for(;;){var h=sd(a,f.line);if(h.markedSpans)for(var i=0;i<h.markedSpans.length;++i){var j=h.markedSpans[i],k=j.marker;if((null==j.from||(k.inclusiveLeft?j.from<=f.ch:j.from<f.ch))&&(null==j.to||(k.inclusiveRight?j.to>=f.ch:j.to>f.ch))){if(d&&($f(k,"beforeCursorEnter"),k.explicitlyCleared)){if(h.markedSpans){--i;continue}break}if(!k.atomic)continue;var l=k.find(g<0?-1:1);if(0==gf(l,f)&&(l.ch+=g,l.ch<0?l=l.line>a.first?Z(a,ff(l.line-1)):null:l.ch>h.text.length&&(l=l.line<a.first+a.size-1?ff(l.line+1,0):null),!l)){if(e)return d?(a.cantEdit=!0,ff(a.first,0)):na(a,b,c,!0);e=!0,l=b,g=-g}f=l;continue a}}return f}}function oa(a){for(var b=a.display,c=a.doc,d=document.createDocumentFragment(),e=document.createDocumentFragment(),f=0;f<c.sel.ranges.length;f++){var g=c.sel.ranges[f],h=g.empty();(h||a.options.showCursorWhenSelecting)&&pa(a,g,d),h||qa(a,g,e)}if(a.options.moveInputWithCursor){var i=Pa(a,c.sel.primary().head,"div"),j=b.wrapper.getBoundingClientRect(),k=b.lineDiv.getBoundingClientRect(),l=Math.max(0,Math.min(b.wrapper.clientHeight-10,i.top+k.top-j.top)),m=Math.max(0,Math.min(b.wrapper.clientWidth-10,i.left+k.left-j.left));b.inputDiv.style.top=l+"px",b.inputDiv.style.left=m+"px"}ke(b.cursorDiv,d),ke(b.selectionDiv,e)}function pa(a,b,c){var d=Pa(a,b.head,"div"),e=c.appendChild(ie("div"," ","CodeMirror-cursor"));if(e.style.left=d.left+"px",e.style.top=d.top+"px",e.style.height=Math.max(0,d.bottom-d.top)*a.options.cursorHeight+"px",d.other){var f=c.appendChild(ie("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));f.style.display="",f.style.left=d.other.left+"px",f.style.top=d.other.top+"px",f.style.height=.85*(d.other.bottom-d.other.top)+"px"}}function qa(a,b,c){function d(a,b,c,d){b<0&&(b=0),b=Math.round(b),d=Math.round(d),h.appendChild(ie("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px; top: "+b+"px; width: "+(null==c?k-a:c)+"px; height: "+(d-b)+"px"))}function e(b,c,e){function f(c,d){return Oa(a,ff(b,c),"div",l,d)}var h,i,l=sd(g,b),m=l.text.length;return xe(zd(l),c||0,null==e?m:e,function(a,b,g){var l,n,o,p=f(a,"left");if(a==b)l=p,n=o=p.left;else{if(l=f(b-1,"right"),"rtl"==g){var q=p;p=l,l=q}n=p.left,o=l.right}null==c&&0==a&&(n=j),l.top-p.top>3&&(d(n,p.top,null,p.bottom),n=j,p.bottom<l.top&&d(n,p.bottom,null,l.top)),null==e&&b==m&&(o=k),(!h||p.top<h.top||p.top==h.top&&p.left<h.left)&&(h=p),(!i||l.bottom>i.bottom||l.bottom==i.bottom&&l.right>i.right)&&(i=l),n<j+1&&(n=j),d(n,l.top,o-n,l.bottom)}),{start:h,end:i}}var f=a.display,g=a.doc,h=document.createDocumentFragment(),i=ya(a.display),j=i.left,k=f.lineSpace.offsetWidth-i.right,l=b.from(),m=b.to();if(l.line==m.line)e(l.line,l.ch,m.ch);else{var n=sd(g,l.line),o=sd(g,m.line),p=Oc(n)==Oc(o),q=e(l.line,l.ch,p?n.text.length+1:null).end,r=e(m.line,p?0:null,m.ch).start;p&&(q.top<r.top-2?(d(q.right,q.top,null,q.bottom),d(j,r.top,r.left,r.bottom)):d(q.right,q.top,r.left-q.right,q.bottom)),q.bottom<r.top&&d(j,q.bottom,null,r.top)}c.appendChild(h)}function ra(a){if(a.state.focused){var b=a.display;clearInterval(b.blinker);var c=!0;b.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0&&(b.blinker=setInterval(function(){b.cursorDiv.style.visibility=(c=!c)?"":"hidden"},a.options.cursorBlinkRate))}}function sa(a,b){a.doc.mode.startState&&a.doc.frontier<a.display.viewTo&&a.state.highlight.set(b,ee(ta,a))}function ta(a){var b=a.doc;if(b.frontier<b.first&&(b.frontier=b.first),!(b.frontier>=a.display.viewTo)){var c=+new Date+a.options.workTime,d=Bf(b.mode,va(a,b.frontier));Ya(a,function(){b.iter(b.frontier,Math.min(b.first+b.size,a.display.viewTo+500),function(e){if(b.frontier>=a.display.viewFrom){var f=e.styles,g=bd(a,e,d,!0);e.styles=g.styles,g.classes?e.styleClasses=g.classes:e.styleClasses&&(e.styleClasses=null);for(var h=!f||f.length!=e.styles.length,i=0;!h&&i<f.length;++i)h=f[i]!=e.styles[i];h&&db(a,b.frontier,"text"),e.stateAfter=Bf(b.mode,d)}else dd(a,e.text,d),e.stateAfter=b.frontier%5==0?Bf(b.mode,d):null;if(++b.frontier,+new Date>c)return sa(a,a.options.workDelay),!0})})}}function ua(a,b,c){for(var d,e,f=a.doc,g=c?-1:b-(a.doc.mode.innerMode?1e3:100),h=b;h>g;--h){if(h<=f.first)return f.first;var i=sd(f,h-1);if(i.stateAfter&&(!c||h<=f.frontier))return h;var j=fg(i.text,null,a.options.tabSize);(null==e||d>j)&&(e=h-1,d=j)}return e}function va(a,b,c){var d=a.doc,e=a.display;if(!d.mode.startState)return!0;var f=ua(a,b,c),g=f>d.first&&sd(d,f-1).stateAfter;return g=g?Bf(d.mode,g):Cf(d.mode),d.iter(f,b,function(c){dd(a,c.text,g);var h=f==b-1||f%5==0||f>=e.viewFrom&&f<e.viewTo;c.stateAfter=h?Bf(d.mode,g):null,++f}),c&&(d.frontier=f),g}function wa(a){return a.lineSpace.offsetTop}function xa(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function ya(a){if(a.cachedPaddingH)return a.cachedPaddingH;var b=ke(a.measure,ie("pre","x")),c=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,d={left:parseInt(c.paddingLeft),right:parseInt(c.paddingRight)};return isNaN(d.left)||isNaN(d.right)||(a.cachedPaddingH=d),d}function za(a,b,c){var d=a.options.lineWrapping,e=d&&a.display.scroller.clientWidth;if(!b.measure.heights||d&&b.measure.width!=e){var f=b.measure.heights=[];if(d){b.measure.width=e;for(var g=b.text.firstChild.getClientRects(),h=0;h<g.length-1;h++){var i=g[h],j=g[h+1];Math.abs(i.bottom-j.bottom)>2&&f.push((i.bottom+j.top)/2-c.top)}}f.push(c.bottom-c.top)}}function Aa(a,b,c){if(a.line==b)return{map:a.measure.map,cache:a.measure.cache};for(var d=0;d<a.rest.length;d++)if(a.rest[d]==b)return{map:a.measure.maps[d],cache:a.measure.caches[d]};for(var d=0;d<a.rest.length;d++)if(wd(a.rest[d])>c)return{map:a.measure.maps[d],cache:a.measure.caches[d],before:!0}}function Ba(a,b){b=Oc(b);var c=wd(b),d=a.display.externalMeasured=new ab(a.doc,b,c);d.lineN=c;var e=d.built=fd(a,d);return d.text=e.pre,ke(a.display.lineMeasure,e.pre),d}function Ca(a,b,c,d){return Fa(a,Ea(a,b),c,d)}function Da(a,b){if(b>=a.display.viewFrom&&b<a.display.viewTo)return a.display.view[fb(a,b)];var c=a.display.externalMeasured;return c&&b>=c.lineN&&b<c.lineN+c.size?c:void 0}function Ea(a,b){var c=wd(b),d=Da(a,c);d&&!d.text?d=null:d&&d.changes&&F(a,d,c,D(a)),d||(d=Ba(a,b));var e=Aa(d,b,c);return{line:b,view:d,rect:null,map:e.map,cache:e.cache,before:e.before,hasHeights:!1}}function Fa(a,b,c,d){b.before&&(c=-1);var e,f=c+(d||"");return b.cache.hasOwnProperty(f)?e=b.cache[f]:(b.rect||(b.rect=b.view.text.getBoundingClientRect()),b.hasHeights||(za(a,b.view,b.rect),b.hasHeights=!0),e=Ga(a,b,c,d),e.bogus||(b.cache[f]=e)),{left:e.left,right:e.right,top:e.top,bottom:e.bottom}}function Ga(a,b,c,d){for(var e,f,g,h,i=b.map,j=0;j<i.length;j+=3){var k=i[j],l=i[j+1];if(c<k?(f=0,g=1,h="left"):c<l?(f=c-k,g=f+1):(j==i.length-3||c==l&&i[j+3]>c)&&(g=l-k,f=g-1,c>=l&&(h="right")),null!=f){if(e=i[j+2],k==l&&d==(e.insertLeft?"left":"right")&&(h=d),"left"==d&&0==f)for(;j&&i[j-2]==i[j-3]&&i[j-1].insertLeft;)e=i[2+(j-=3)],h="left";if("right"==d&&f==l-k)for(;j<i.length-3&&i[j+3]==i[j+4]&&!i[j+5].insertLeft;)e=i[(j+=3)+2],h="right";break}}var m;if(3==e.nodeType){for(;f&&he(b.line.text.charAt(k+f));)--f;for(;k+g<l&&he(b.line.text.charAt(k+g));)++g;if(Me&&0==f&&g==l-k)m=e.parentNode.getBoundingClientRect();else if(Pe&&a.options.lineWrapping){var n=ig(e,f,g).getClientRects();m=n.length?n["right"==d?n.length-1:0]:lf}else m=ig(e,f,g).getBoundingClientRect()||lf}else{f>0&&(h=d="right");var n;m=a.options.lineWrapping&&(n=e.getClientRects()).length>1?n["right"==d?n.length-1:0]:e.getBoundingClientRect()}if(Me&&!f&&(!m||!m.left&&!m.right)){var o=e.parentNode.getClientRects()[0];m=o?{left:o.left,right:o.left+Va(a.display),top:o.top,bottom:o.bottom}:lf}for(var p,q=(m.bottom+m.top)/2-b.rect.top,r=b.view.measure.heights,j=0;j<r.length-1&&!(q<r[j]);j++);p=j?r[j-1]:0,q=r[j];var s={left:("right"==h?m.right:m.left)-b.rect.left,right:("left"==h?m.left:m.right)-b.rect.left,top:p,bottom:q};return m.left||m.right||(s.bogus=!0),s}function Ha(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var b=0;b<a.rest.length;b++)a.measure.caches[b]={}}function Ia(a){a.display.externalMeasure=null,je(a.display.lineMeasure);for(var b=0;b<a.display.view.length;b++)Ha(a.display.view[b])}function Ja(a){Ia(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function Ka(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function La(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ma(a,b,c,d){if(b.widgets)for(var e=0;e<b.widgets.length;++e)if(b.widgets[e].above){var f=Vc(b.widgets[e]);c.top+=f,c.bottom+=f}if("line"==d)return c;d||(d="local");var g=yd(b);if("local"==d?g+=wa(a.display):g-=a.display.viewOffset,"page"==d||"window"==d){var h=a.display.lineSpace.getBoundingClientRect();g+=h.top+("window"==d?0:La());var i=h.left+("window"==d?0:Ka());c.left+=i,c.right+=i}return c.top+=g,c.bottom+=g,c}function Na(a,b,c){if("div"==c)return b;var d=b.left,e=b.top;if("page"==c)d-=Ka(),e-=La();else if("local"==c||!c){var f=a.display.sizer.getBoundingClientRect();d+=f.left,e+=f.top}var g=a.display.lineSpace.getBoundingClientRect();return{left:d-g.left,top:e-g.top}}function Oa(a,b,c,d,e){return d||(d=sd(a.doc,b.line)),Ma(a,d,Ca(a,d,b.ch,e),c)}function Pa(a,b,c,d,e){function f(b,f){var g=Fa(a,e,b,f?"right":"left");return f?g.left=g.right:g.right=g.left,Ma(a,d,g,c)}function g(a,b){var c=h[b],d=c.level%2;return a==ye(c)&&b&&c.level<h[b-1].level?(c=h[--b],a=ze(c)-(c.level%2?0:1),d=!0):a==ze(c)&&b<h.length-1&&c.level<h[b+1].level&&(c=h[++b],a=ye(c)-c.level%2,d=!1),d&&a==c.to&&a>c.from?f(a-1):f(a,d)}d=d||sd(a.doc,b.line),e||(e=Ea(a,d));var h=zd(d),i=b.ch;if(!h)return f(i);var j=Fe(h,i),k=g(i,j);return null!=vg&&(k.other=g(i,vg)),k}function Qa(a,b){var c=0,b=Z(a.doc,b);a.options.lineWrapping||(c=Va(a.display)*b.ch);var d=sd(a.doc,b.line),e=yd(d)+wa(a.display);return{left:c,right:c,top:e,bottom:e+d.height}}function Ra(a,b,c,d){var e=ff(a,b);return e.xRel=d,c&&(e.outside=!0),e}function Sa(a,b,c){var d=a.doc;if((c+=a.display.viewOffset)<0)return Ra(d.first,0,!0,-1);var e=xd(d,c),f=d.first+d.size-1;if(e>f)return Ra(d.first+d.size-1,sd(d,f).text.length,!0,1);b<0&&(b=0);for(var g=sd(d,e);;){var h=Ta(a,g,e,b,c),i=Mc(g),j=i&&i.find(0,!0);if(!i||!(h.ch>j.from.ch||h.ch==j.from.ch&&h.xRel>0))return h;e=wd(g=j.to.line)}}function Ta(a,b,c,d,e){function f(d){var e=Pa(a,ff(c,d),"line",b,j);return h=!0,g>e.bottom?e.left-i:g<e.top?e.left+i:(h=!1,e.left)}var g=e-yd(b),h=!1,i=2*a.display.wrapper.clientWidth,j=Ea(a,b),k=zd(b),l=b.text.length,m=Ae(b),n=Be(b),o=f(m),p=h,q=f(n),r=h;if(d>q)return Ra(c,n,r,1);for(;;){if(k?n==m||n==He(b,m,1):n-m<=1){for(var s=d<o||d-o<=q-d?m:n,t=d-(s==m?o:q);he(b.text.charAt(s));)++s;return Ra(c,s,s==m?p:r,t<-1?-1:t>1?1:0)}var u=Math.ceil(l/2),v=m+u;if(k){v=m;for(var w=0;w<u;++w)v=He(b,v,1)}var x=f(v);x>d?(n=v,q=x,(r=h)&&(q+=1e3),l=u):(m=v,o=x,p=h,l-=u)}}function Ua(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==hf){hf=ie("pre");for(var b=0;b<49;++b)hf.appendChild(document.createTextNode("x")),hf.appendChild(ie("br"));hf.appendChild(document.createTextNode("x"))}ke(a.measure,hf);var c=hf.offsetHeight/50;return c>3&&(a.cachedTextHeight=c),je(a.measure),c||1}function Va(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var b=ie("span","xxxxxxxxxx"),c=ie("pre",[b]);ke(a.measure,c);var d=b.getBoundingClientRect(),e=(d.right-d.left)/10;return e>2&&(a.cachedCharWidth=e),e||10}function Wa(a){a.curOp={viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++mf},_f++||(Uf=[])}function Xa(a){var b=a.curOp,c=a.doc,d=a.display;if(a.curOp=null,b.updateMaxLine&&n(a),b.viewChanged||b.forceUpdate||null!=b.scrollTop||b.scrollToPos&&(b.scrollToPos.from.line<d.viewFrom||b.scrollToPos.to.line>=d.viewTo)||d.maxLineChanged&&a.options.lineWrapping){var e=w(a,{top:b.scrollTop,ensure:b.scrollToPos},b.forceUpdate);a.display.scroller.offsetHeight&&(a.doc.scrollTop=a.display.scroller.scrollTop)}if(!e&&b.selectionChanged&&oa(a),e||b.startHeight==a.doc.height||q(a),null==d.wheelStartX||null==b.scrollTop&&null==b.scrollLeft&&!b.scrollToPos||(d.wheelStartX=d.wheelStartY=null),null!=b.scrollTop&&d.scroller.scrollTop!=b.scrollTop){var f=Math.max(0,Math.min(d.scroller.scrollHeight-d.scroller.clientHeight,b.scrollTop));d.scroller.scrollTop=d.scrollbarV.scrollTop=c.scrollTop=f}if(null!=b.scrollLeft&&d.scroller.scrollLeft!=b.scrollLeft){var g=Math.max(0,Math.min(d.scroller.scrollWidth-d.scroller.clientWidth,b.scrollLeft));d.scroller.scrollLeft=d.scrollbarH.scrollLeft=c.scrollLeft=g,s(a)}if(b.scrollToPos){var h=cc(a,Z(a.doc,b.scrollToPos.from),Z(a.doc,b.scrollToPos.to),b.scrollToPos.margin);b.scrollToPos.isCursor&&a.state.focused&&bc(a,h)}b.selectionChanged&&ra(a),a.state.focused&&b.updateInput&&mb(a,b.typing);var i=b.maybeHiddenMarkers,j=b.maybeUnhiddenMarkers;if(i)for(var k=0;k<i.length;++k)i[k].lines.length||$f(i[k],"hide");if(j)for(var k=0;k<j.length;++k)j[k].lines.length&&$f(j[k],"unhide");var l;if(--_f||(l=Uf,Uf=null),b.changeObjs&&$f(a,"changes",a,b.changeObjs),l)for(var k=0;k<l.length;++k)l[k]();if(b.cursorActivityHandlers)for(var k=0;k<b.cursorActivityHandlers.length;k++)b.cursorActivityHandlers[k](a)}function Ya(a,b){if(a.curOp)return b();Wa(a);try{return b()}finally{Xa(a)}}function Za(a,b){return function(){if(a.curOp)return b.apply(a,arguments);Wa(a);try{return b.apply(a,arguments)}finally{Xa(a)}}}function $a(a){return function(){if(this.curOp)return a.apply(this,arguments);Wa(this);try{return a.apply(this,arguments)}finally{Xa(this)}}}function _a(a){return function(){var b=this.cm;if(!b||b.curOp)return a.apply(this,arguments);Wa(b);try{return a.apply(this,arguments)}finally{Xa(b)}}}function ab(a,b,c){this.line=b,this.rest=Pc(b),this.size=this.rest?wd(_d(this.rest))-c+1:1,this.node=this.text=null,this.hidden=Sc(a,b)}function bb(a,b,c){for(var d,e=[],f=b;f<c;f=d){var g=new ab(a.doc,sd(a.doc,f),f);d=f+g.size,e.push(g)}return e}function cb(a,b,c,d){null==b&&(b=a.doc.first),null==c&&(c=a.doc.first+a.doc.size),d||(d=0);var e=a.display;if(d&&c<e.viewTo&&(null==e.updateLineNumbers||e.updateLineNumbers>b)&&(e.updateLineNumbers=b),a.curOp.viewChanged=!0,b>=e.viewTo)ef&&Qc(a.doc,b)<e.viewTo&&eb(a);else if(c<=e.viewFrom)ef&&Rc(a.doc,c+d)>e.viewFrom?eb(a):(e.viewFrom+=d,e.viewTo+=d);else if(b<=e.viewFrom&&c>=e.viewTo)eb(a);else if(b<=e.viewFrom){var f=gb(a,c,c+d,1);f?(e.view=e.view.slice(f.index),e.viewFrom=f.lineN,e.viewTo+=d):eb(a)}else if(c>=e.viewTo){var f=gb(a,b,b,-1);f?(e.view=e.view.slice(0,f.index),e.viewTo=f.lineN):eb(a)}else{var g=gb(a,b,b,-1),h=gb(a,c,c+d,1);g&&h?(e.view=e.view.slice(0,g.index).concat(bb(a,g.lineN,h.lineN)).concat(e.view.slice(h.index)),e.viewTo+=d):eb(a)}var i=e.externalMeasured;i&&(c<i.lineN?i.lineN+=d:b<i.lineN+i.size&&(e.externalMeasured=null))}function db(a,b,c){a.curOp.viewChanged=!0;var d=a.display,e=a.display.externalMeasured;if(e&&b>=e.lineN&&b<e.lineN+e.size&&(d.externalMeasured=null),!(b<d.viewFrom||b>=d.viewTo)){var f=d.view[fb(a,b)];if(null!=f.node){var g=f.changes||(f.changes=[]);-1==ae(g,c)&&g.push(c)}}}function eb(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function fb(a,b){if(b>=a.display.viewTo)return null;if((b-=a.display.viewFrom)<0)return null;for(var c=a.display.view,d=0;d<c.length;d++)if((b-=c[d].size)<0)return d}function gb(a,b,c,d){var e,f=fb(a,b),g=a.display.view;if(!ef||c==a.doc.first+a.doc.size)return{index:f,lineN:c};for(var h=0,i=a.display.viewFrom;h<f;h++)i+=g[h].size;if(i!=b){if(d>0){if(f==g.length-1)return null;e=i+g[f].size-b,f++}else e=i-b;b+=e,c+=e}for(;Qc(a.doc,c)!=c;){if(f==(d<0?0:g.length-1))return null;c+=d*g[f-(d<0?1:0)].size,f+=d}return{index:f,lineN:c}}function hb(a,b,c){var d=a.display;0==d.view.length||b>=d.viewTo||c<=d.viewFrom?(d.view=bb(a,b,c),d.viewFrom=b):(d.viewFrom>b?d.view=bb(a,b,d.viewFrom).concat(d.view):d.viewFrom<b&&(d.view=d.view.slice(fb(a,b))),d.viewFrom=b,d.viewTo<c?d.view=d.view.concat(bb(a,d.viewTo,c)):d.viewTo>c&&(d.view=d.view.slice(0,fb(a,c)))),d.viewTo=c}function ib(a){for(var b=a.display.view,c=0,d=0;d<b.length;d++){var e=b[d];e.hidden||e.node&&!e.changes||++c}return c}function jb(a){a.display.pollingFast||a.display.poll.set(a.options.pollInterval,function(){lb(a),a.state.focused&&jb(a)})}function kb(a){function b(){lb(a)||c?(a.display.pollingFast=!1,jb(a)):(c=!0,a.display.poll.set(60,b))}var c=!1;a.display.pollingFast=!0,a.display.poll.set(20,b)}function lb(a){var b=a.display.input,c=a.display.prevInput,d=a.doc;if(!a.state.focused||sg(b)&&!c||pb(a)||a.options.disableInput)return!1;a.state.pasteIncoming&&a.state.fakedLastChar&&(b.value=b.value.substring(0,b.value.length-1),a.state.fakedLastChar=!1);var e=b.value;if(e==c&&!a.somethingSelected())return!1;if(Pe&&!Me&&a.display.inputHasSelection===e)return mb(a),!1;var f=!a.curOp;f&&Wa(a),a.display.shift=!1,8203!=e.charCodeAt(0)||d.sel!=a.display.selForContextMenu||c||(c="​");for(var g=0,h=Math.min(c.length,e.length);g<h&&c.charCodeAt(g)==e.charCodeAt(g);)++g;for(var i=e.slice(g),j=rg(i),k=a.state.pasteIncoming&&j.length>1&&d.sel.ranges.length==j.length,l=d.sel.ranges.length-1;l>=0;l--){var m=d.sel.ranges[l],n=m.from(),o=m.to();g<c.length?n=ff(n.line,n.ch-(c.length-g)):a.state.overwrite&&m.empty()&&!a.state.pasteIncoming&&(o=ff(o.line,Math.min(sd(d,o.line).text.length,o.ch+_d(j).length)));var p=a.curOp.updateInput,q={from:n,to:o,text:k?[j[l]]:j,origin:a.state.pasteIncoming?"paste":a.state.cutIncoming?"cut":"+input"};if(Wb(a.doc,q),Sd(a,"inputRead",a,q),i&&!a.state.pasteIncoming&&a.options.electricChars&&a.options.smartIndent&&m.head.ch<100&&(!l||d.sel.ranges[l-1].head.line!=m.head.line)){var r=a.getModeAt(m.head);if(r.electricChars){for(var s=0;s<r.electricChars.length;s++)if(i.indexOf(r.electricChars.charAt(s))>-1){ic(a,m.head.line,"smart");break}}else if(r.electricInput){var t=sf(q);r.electricInput.test(sd(d,t.line).text.slice(0,t.ch))&&ic(a,m.head.line,"smart")}}}return gc(a),a.curOp.updateInput=p,a.curOp.typing=!0,e.length>1e3||e.indexOf("\n")>-1?b.value=a.display.prevInput="":a.display.prevInput=e,f&&Xa(a),a.state.pasteIncoming=a.state.cutIncoming=!1,!0}function mb(a,b){var c,d,e=a.doc;if(a.somethingSelected()){a.display.prevInput="";var f=e.sel.primary();c=tg&&(f.to().line-f.from().line>100||(d=a.getSelection()).length>1e3);var g=c?"-":d||a.getSelection();a.display.input.value=g,a.state.focused&&hg(a.display.input),Pe&&!Me&&(a.display.inputHasSelection=g)}else b||(a.display.prevInput=a.display.input.value="",Pe&&!Me&&(a.display.inputHasSelection=null));a.display.inaccurateSelection=c}function nb(a){"nocursor"==a.options.readOnly||Ze&&me()==a.display.input||a.display.input.focus()}function ob(a){a.state.focused||(nb(a),Nb(a))}function pb(a){return a.options.readOnly||a.doc.cantEdit}function qb(a){function b(){a.state.focused&&setTimeout(ee(nb,a),0)}function c(b){Ud(a,b)||Xf(b)}function d(b){if(a.somethingSelected())e.inaccurateSelection&&(e.prevInput="",e.inaccurateSelection=!1,e.input.value=a.getSelection(),hg(e.input));else{for(var c="",d=[],f=0;f<a.doc.sel.ranges.length;f++){var g=a.doc.sel.ranges[f].head.line,h={anchor:ff(g,0),head:ff(g+1,0)};d.push(h),c+=a.getRange(h.anchor,h.head)}"cut"==b.type?a.setSelections(d,null,cg):(e.prevInput="",e.input.value=c,hg(e.input))}"cut"==b.type&&(a.state.cutIncoming=!0)}var e=a.display;Yf(e.scroller,"mousedown",Za(a,ub)),Ke?Yf(e.scroller,"dblclick",Za(a,function(b){if(!Ud(a,b)){var c=tb(a,b);if(c&&!zb(a,b)&&!sb(a.display,b)){Vf(b);var d=nc(a,c);ca(a.doc,d.anchor,d.head)}}})):Yf(e.scroller,"dblclick",function(b){Ud(a,b)||Vf(b)}),Yf(e.lineSpace,"selectstart",function(a){sb(e,a)||Vf(a)}),cf||Yf(e.scroller,"contextmenu",function(b){Pb(a,b)}),Yf(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Cb(a,e.scroller.scrollTop),Db(a,e.scroller.scrollLeft,!0),$f(a,"scroll",a))}),Yf(e.scrollbarV,"scroll",function(){e.scroller.clientHeight&&Cb(a,e.scrollbarV.scrollTop)}),Yf(e.scrollbarH,"scroll",function(){e.scroller.clientHeight&&Db(a,e.scrollbarH.scrollLeft)}),Yf(e.scroller,"mousewheel",function(b){Eb(a,b)}),Yf(e.scroller,"DOMMouseScroll",function(b){Eb(a,b)}),Yf(e.scrollbarH,"mousedown",b),Yf(e.scrollbarV,"mousedown",b),Yf(e.wrapper,"scroll",function(){e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),Yf(e.input,"keyup",Za(a,Lb)),Yf(e.input,"input",function(){Pe&&!Me&&a.display.inputHasSelection&&(a.display.inputHasSelection=null),kb(a)}),Yf(e.input,"keydown",Za(a,Jb)),Yf(e.input,"keypress",Za(a,Mb)),Yf(e.input,"focus",ee(Nb,a)),Yf(e.input,"blur",ee(Ob,a)),a.options.dragDrop&&(Yf(e.scroller,"dragstart",function(b){Bb(a,b)}),Yf(e.scroller,"dragenter",c),Yf(e.scroller,"dragover",c),Yf(e.scroller,"drop",Za(a,Ab))),Yf(e.scroller,"paste",function(b){sb(e,b)||(a.state.pasteIncoming=!0,nb(a),kb(a))}),Yf(e.input,"paste",function(){if(Qe&&!a.state.fakedLastChar&&!(new Date-a.state.lastMiddleDown<200)){var b=e.input.selectionStart,c=e.input.selectionEnd;e.input.value+="$",e.input.selectionStart=b,e.input.selectionEnd=c,a.state.fakedLastChar=!0}a.state.pasteIncoming=!0,kb(a)}),Yf(e.input,"cut",d),Yf(e.input,"copy",d),Ve&&Yf(e.sizer,"mouseup",function(){me()==e.input&&e.input.blur(),nb(a)})}function rb(a){var b=a.display;b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,a.setSize()}function sb(a,b){for(var c=Qd(b);c!=a.wrapper;c=c.parentNode)if(!c||c.ignoreEvents||c.parentNode==a.sizer&&c!=a.mover)return!0}function tb(a,b,c,d){var e=a.display;if(!c){var f=Qd(b);if(f==e.scrollbarH||f==e.scrollbarV||f==e.scrollbarFiller||f==e.gutterFiller)return null}var g,h,i=e.lineSpace.getBoundingClientRect();try{g=b.clientX-i.left,h=b.clientY-i.top}catch(b){return null}var j,k=Sa(a,g,h);if(d&&1==k.xRel&&(j=sd(a.doc,k.line).text).length==k.ch){var l=fg(j,j.length,a.options.tabSize)-j.length;k=ff(k.line,Math.max(0,Math.round((g-ya(a.display).left)/Va(a.display))-l))}return k}function ub(a){if(!Ud(this,a)){var b=this,c=b.display;if(c.shift=a.shiftKey,sb(c,a))return void(Qe||(c.scroller.draggable=!1,setTimeout(function(){c.scroller.draggable=!0},100)));if(!zb(b,a)){var d=tb(b,a);switch(window.focus(),Rd(a)){case 1:d?vb(b,a,d):Qd(a)==c.scroller&&Vf(a);break;case 2:Qe&&(b.state.lastMiddleDown=+new Date),d&&ca(b.doc,d),setTimeout(ee(nb,b),20),Vf(a);break;case 3:cf&&Pb(b,a)}}}}function vb(a,b,c){setTimeout(ee(ob,a),0);var d,e=+new Date
;kf&&kf.time>e-400&&0==gf(kf.pos,c)?d="triple":jf&&jf.time>e-400&&0==gf(jf.pos,c)?(d="double",kf={time:e,pos:c}):(d="single",jf={time:e,pos:c});var f=a.doc.sel,g=$e?b.metaKey:b.ctrlKey;a.options.dragDrop&&qg&&!pb(a)&&"single"==d&&f.contains(c)>-1&&f.somethingSelected()?wb(a,b,c,g):xb(a,b,c,d,g)}function wb(a,b,c,d){var e=a.display,f=Za(a,function(g){Qe&&(e.scroller.draggable=!1),a.state.draggingText=!1,Zf(document,"mouseup",f),Zf(e.scroller,"drop",f),Math.abs(b.clientX-g.clientX)+Math.abs(b.clientY-g.clientY)<10&&(Vf(g),d||ca(a.doc,c),nb(a),Ke&&!Me&&setTimeout(function(){document.body.focus(),nb(a)},20))});Qe&&(e.scroller.draggable=!0),a.state.draggingText=f,e.scroller.dragDrop&&e.scroller.dragDrop(),Yf(document,"mouseup",f),Yf(e.scroller,"drop",f)}function xb(a,b,c,d,e){function f(b){if(0!=gf(p,b))if(p=b,"rect"==d){for(var e=[],f=a.options.tabSize,g=fg(sd(j,c.line).text,c.ch,f),h=fg(sd(j,b.line).text,b.ch,f),i=Math.min(g,h),n=Math.max(g,h),o=Math.min(c.line,b.line),q=Math.min(a.lastLine(),Math.max(c.line,b.line));o<=q;o++){var r=sd(j,o).text,s=Zd(r,i,f);i==n?e.push(new V(ff(o,s),ff(o,s))):r.length>s&&e.push(new V(ff(o,s),ff(o,Zd(r,n,f))))}e.length||e.push(new V(c,c)),ia(j,W(m.ranges.slice(0,l).concat(e),l),{origin:"*mouse",scroll:!1}),a.scrollIntoView(b)}else{var t=k,u=t.anchor,v=b;if("single"!=d){if("double"==d)var w=nc(a,b);else var w=new V(ff(b.line,0),Z(j,ff(b.line+1,0)));gf(w.anchor,u)>0?(v=w.head,u=T(t.from(),w.anchor)):(v=w.anchor,u=S(t.to(),w.head))}var e=m.ranges.slice(0);e[l]=new V(Z(j,u),v),ia(j,W(e,l),dg)}}function g(b){var c=++s,e=tb(a,b,!0,"rect"==d);if(e)if(0!=gf(e,p)){ob(a),f(e);var h=r(i,j);(e.line>=h.to||e.line<h.from)&&setTimeout(Za(a,function(){s==c&&g(b)}),150)}else{var k=b.clientY<q.top?-20:b.clientY>q.bottom?20:0;k&&setTimeout(Za(a,function(){s==c&&(i.scroller.scrollTop+=k,g(b))}),50)}}function h(b){s=1/0,Vf(b),nb(a),Zf(document,"mousemove",t),Zf(document,"mouseup",u),j.history.lastSelOrigin=null}var i=a.display,j=a.doc;Vf(b);var k,l,m=j.sel;if(e&&!b.shiftKey?(l=j.sel.contains(c),k=l>-1?j.sel.ranges[l]:new V(c,c)):k=j.sel.primary(),b.altKey)d="rect",e||(k=new V(c,c)),c=tb(a,b,!0,!0),l=-1;else if("double"==d){var n=nc(a,c);k=a.display.shift||j.extend?ba(j,k,n.anchor,n.head):n}else if("triple"==d){var o=new V(ff(c.line,0),Z(j,ff(c.line+1,0)));k=a.display.shift||j.extend?ba(j,k,o.anchor,o.head):o}else k=ba(j,k,c);e?l>-1?ea(j,l,k,dg):(l=j.sel.ranges.length,ia(j,W(j.sel.ranges.concat([k]),l),{scroll:!1,origin:"*mouse"})):(l=0,ia(j,new U([k],0),dg),m=j.sel);var p=c,q=i.wrapper.getBoundingClientRect(),s=0,t=Za(a,function(a){(Pe&&!Ne?a.buttons:Rd(a))?g(a):h(a)}),u=Za(a,h);Yf(document,"mousemove",t),Yf(document,"mouseup",u)}function yb(a,b,c,d,e){try{var f=b.clientX,g=b.clientY}catch(b){return!1}if(f>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;d&&Vf(b);var h=a.display,i=h.lineDiv.getBoundingClientRect();if(g>i.bottom||!Wd(a,c))return Pd(b);g-=i.top-h.viewOffset;for(var j=0;j<a.options.gutters.length;++j){var k=h.gutters.childNodes[j];if(k&&k.getBoundingClientRect().right>=f){return e(a,c,a,xd(a.doc,g),a.options.gutters[j],b),Pd(b)}}}function zb(a,b){return yb(a,b,"gutterClick",!0,Sd)}function Ab(a){var b=this;if(!Ud(b,a)&&!sb(b.display,a)){Vf(a),Pe&&(nf=+new Date);var c=tb(b,a,!0),d=a.dataTransfer.files;if(c&&!pb(b))if(d&&d.length&&window.FileReader&&window.File)for(var e=d.length,f=Array(e),g=0,h=function(a,d){var h=new FileReader;h.onload=Za(b,function(){if(f[d]=h.result,++g==e){c=Z(b.doc,c);var a={from:c,to:c,text:rg(f.join("\n")),origin:"paste"};Wb(b.doc,a),ha(b.doc,X(c,sf(a)))}}),h.readAsText(a)},i=0;i<e;++i)h(d[i],i);else{if(b.state.draggingText&&b.doc.sel.contains(c)>-1)return b.state.draggingText(a),void setTimeout(ee(nb,b),20);try{var f=a.dataTransfer.getData("Text");if(f){if(b.state.draggingText&&!($e?a.metaKey:a.ctrlKey))var j=b.listSelections();if(ja(b.doc,X(c,c)),j)for(var i=0;i<j.length;++i)ac(b.doc,"",j[i].anchor,j[i].head,"drag");b.replaceSelection(f,"around","paste"),nb(b)}}catch(a){}}}}function Bb(a,b){if(Pe&&(!a.state.draggingText||+new Date-nf<100))return void Xf(b);if(!Ud(a,b)&&!sb(a.display,b)&&(b.dataTransfer.setData("Text",a.getSelection()),b.dataTransfer.setDragImage&&!Ue)){var c=ie("img",null,null,"position: fixed; left: 0; top: 0;");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Te&&(c.width=c.height=1,a.display.wrapper.appendChild(c),c._top=c.offsetTop),b.dataTransfer.setDragImage(c,0,0),Te&&c.parentNode.removeChild(c)}}function Cb(a,b){Math.abs(a.doc.scrollTop-b)<2||(a.doc.scrollTop=b,Je||w(a,{top:b}),a.display.scroller.scrollTop!=b&&(a.display.scroller.scrollTop=b),a.display.scrollbarV.scrollTop!=b&&(a.display.scrollbarV.scrollTop=b),Je&&w(a),sa(a,100))}function Db(a,b,c){(c?b==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-b)<2)||(b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth),a.doc.scrollLeft=b,s(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=b),a.display.scrollbarH.scrollLeft!=b&&(a.display.scrollbarH.scrollLeft=b))}function Eb(a,b){var c=b.wheelDeltaX,d=b.wheelDeltaY;null==c&&b.detail&&b.axis==b.HORIZONTAL_AXIS&&(c=b.detail),null==d&&b.detail&&b.axis==b.VERTICAL_AXIS?d=b.detail:null==d&&(d=b.wheelDelta);var e=a.display,f=e.scroller;if(c&&f.scrollWidth>f.clientWidth||d&&f.scrollHeight>f.clientHeight){if(d&&$e&&Qe)a:for(var g=b.target,h=e.view;g!=f;g=g.parentNode)for(var i=0;i<h.length;i++)if(h[i].node==g){a.display.currentWheelTarget=g;break a}if(c&&!Je&&!Te&&null!=pf)return d&&Cb(a,Math.max(0,Math.min(f.scrollTop+d*pf,f.scrollHeight-f.clientHeight))),Db(a,Math.max(0,Math.min(f.scrollLeft+c*pf,f.scrollWidth-f.clientWidth))),Vf(b),void(e.wheelStartX=null);if(d&&null!=pf){var j=d*pf,k=a.doc.scrollTop,l=k+e.wrapper.clientHeight;j<0?k=Math.max(0,k+j-50):l=Math.min(a.doc.height,l+j+50),w(a,{top:k,bottom:l})}of<20&&(null==e.wheelStartX?(e.wheelStartX=f.scrollLeft,e.wheelStartY=f.scrollTop,e.wheelDX=c,e.wheelDY=d,setTimeout(function(){if(null!=e.wheelStartX){var a=f.scrollLeft-e.wheelStartX,b=f.scrollTop-e.wheelStartY,c=b&&e.wheelDY&&b/e.wheelDY||a&&e.wheelDX&&a/e.wheelDX;e.wheelStartX=e.wheelStartY=null,c&&(pf=(pf*of+c)/(of+1),++of)}},200)):(e.wheelDX+=c,e.wheelDY+=d))}}function Fb(a,b,c){if("string"==typeof b&&!(b=Df[b]))return!1;a.display.pollingFast&&lb(a)&&(a.display.pollingFast=!1);var d=a.display.shift,e=!1;try{pb(a)&&(a.state.suppressEdits=!0),c&&(a.display.shift=!1),e=b(a)!=bg}finally{a.display.shift=d,a.state.suppressEdits=!1}return e}function Gb(a){var b=a.state.keyMaps.slice(0);return a.options.extraKeys&&b.push(a.options.extraKeys),b.push(a.options.keyMap),b}function Hb(a,b){var c=pc(a.options.keyMap),d=c.auto;clearTimeout(qf),d&&!Gf(b)&&(qf=setTimeout(function(){pc(a.options.keyMap)==c&&(a.options.keyMap=d.call?d.call(null,a):d,h(a))},50));var e=Hf(b,!0),f=!1;if(!e)return!1;var g=Gb(a);return f=b.shiftKey?Ff("Shift-"+e,g,function(b){return Fb(a,b,!0)})||Ff(e,g,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion)return Fb(a,b)}):Ff(e,g,function(b){return Fb(a,b)}),f&&(Vf(b),ra(a),Sd(a,"keyHandled",a,e,b)),f}function Ib(a,b,c){var d=Ff("'"+c+"'",Gb(a),function(b){return Fb(a,b,!0)});return d&&(Vf(b),ra(a),Sd(a,"keyHandled",a,"'"+c+"'",b)),d}function Jb(a){var b=this;if(ob(b),!Ud(b,a)){Ke&&27==a.keyCode&&(a.returnValue=!1);var c=a.keyCode;b.display.shift=16==c||a.shiftKey;var d=Hb(b,a);Te&&(rf=d?c:null,!d&&88==c&&!tg&&($e?a.metaKey:a.ctrlKey)&&b.replaceSelection("",null,"cut")),18!=c||/\bCodeMirror-crosshair\b/.test(b.display.lineDiv.className)||Kb(b)}}function Kb(a){function b(a){18!=a.keyCode&&a.altKey||(oe(c,"CodeMirror-crosshair"),Zf(document,"keyup",b),Zf(document,"mouseover",b))}var c=a.display.lineDiv;pe(c,"CodeMirror-crosshair"),Yf(document,"keyup",b),Yf(document,"mouseover",b)}function Lb(a){Ud(this,a)||16==a.keyCode&&(this.doc.sel.shift=!1)}function Mb(a){var b=this;if(!Ud(b,a)){var c=a.keyCode,d=a.charCode;if(Te&&c==rf)return rf=null,void Vf(a);if(!(Te&&(!a.which||a.which<10)||Ve)||!Hb(b,a)){Ib(b,a,String.fromCharCode(null==d?c:d))||(Pe&&!Me&&(b.display.inputHasSelection=null),kb(b))}}}function Nb(a){"nocursor"!=a.options.readOnly&&(a.state.focused||($f(a,"focus",a),a.state.focused=!0,pe(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(mb(a),Qe&&setTimeout(ee(mb,a,!0),0))),jb(a),ra(a))}function Ob(a){a.state.focused&&($f(a,"blur",a),a.state.focused=!1,oe(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150)}function Pb(a,b){function c(){if(null!=e.input.selectionStart){var b=a.somethingSelected(),c=e.input.value="​"+(b?e.input.value:"");e.prevInput=b?"":"​",e.input.selectionStart=1,e.input.selectionEnd=c.length,e.selForContextMenu=a.doc.sel}}function d(){if(e.inputDiv.style.position="relative",e.input.style.cssText=h,Me&&(e.scrollbarV.scrollTop=e.scroller.scrollTop=g),jb(a),null!=e.input.selectionStart){Pe&&!Me||c();var b=0,d=function(){e.selForContextMenu==a.doc.sel&&0==e.input.selectionStart?Za(a,Df.selectAll)(a):b++<10?e.detectingSelectAll=setTimeout(d,500):mb(a)};e.detectingSelectAll=setTimeout(d,200)}}if(!Ud(a,b,"contextmenu")){var e=a.display;if(!sb(e,b)&&!Qb(a,b)){var f=tb(a,b),g=e.scroller.scrollTop;if(f&&!Te){a.options.resetSelectionOnContextMenu&&-1==a.doc.sel.contains(f)&&Za(a,ia)(a.doc,X(f),cg);var h=e.input.style.cssText;if(e.inputDiv.style.position="absolute",e.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(b.clientY-5)+"px; left: "+(b.clientX-5)+"px; z-index: 1000; background: "+(Pe?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",nb(a),mb(a),a.somethingSelected()||(e.input.value=e.prevInput=" "),e.selForContextMenu=a.doc.sel,clearTimeout(e.detectingSelectAll),Pe&&!Me&&c(),cf){Xf(b);var i=function(){Zf(window,"mouseup",i),setTimeout(d,20)};Yf(window,"mouseup",i)}else setTimeout(d,50)}}}}function Qb(a,b){return!!Wd(a,"gutterContextMenu")&&yb(a,b,"gutterContextMenu",!1,$f)}function Rb(a,b){if(gf(a,b.from)<0)return a;if(gf(a,b.to)<=0)return sf(b);var c=a.line+b.text.length-(b.to.line-b.from.line)-1,d=a.ch;return a.line==b.to.line&&(d+=sf(b).ch-b.to.ch),ff(c,d)}function Sb(a,b){for(var c=[],d=0;d<a.sel.ranges.length;d++){var e=a.sel.ranges[d];c.push(new V(Rb(e.anchor,b),Rb(e.head,b)))}return W(c,a.sel.primIndex)}function Tb(a,b,c){return a.line==b.line?ff(c.line,a.ch-b.ch+c.ch):ff(c.line+(a.line-b.line),a.ch)}function Ub(a,b,c){for(var d=[],e=ff(a.first,0),f=e,g=0;g<b.length;g++){var h=b[g],i=Tb(h.from,e,f),j=Tb(sf(h),e,f);if(e=h.to,f=j,"around"==c){var k=a.sel.ranges[g],l=gf(k.head,k.anchor)<0;d[g]=new V(l?j:i,l?i:j)}else d[g]=new V(i,i)}return new U(d,a.sel.primIndex)}function Vb(a,b,c){var d={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){this.canceled=!0}};return c&&(d.update=function(b,c,d,e){b&&(this.from=Z(a,b)),c&&(this.to=Z(a,c)),d&&(this.text=d),void 0!==e&&(this.origin=e)}),$f(a,"beforeChange",a,d),a.cm&&$f(a.cm,"beforeChange",a.cm,d),d.canceled?null:{from:d.from,to:d.to,text:d.text,origin:d.origin}}function Wb(a,b,c){if(a.cm){if(!a.cm.curOp)return Za(a.cm,Wb)(a,b,c);if(a.cm.state.suppressEdits)return}if(!(Wd(a,"beforeChange")||a.cm&&Wd(a.cm,"beforeChange"))||(b=Vb(a,b,!0))){var d=df&&!c&&Ec(a,b.from,b.to);if(d)for(var e=d.length-1;e>=0;--e)Xb(a,{from:d[e].from,to:d[e].to,text:e?[""]:b.text});else Xb(a,b)}}function Xb(a,b){if(1!=b.text.length||""!=b.text[0]||0!=gf(b.from,b.to)){var c=Sb(a,b);Ed(a,b,c,a.cm?a.cm.curOp.id:NaN),$b(a,b,c,Bc(a,b));var d=[];qd(a,function(a,c){c||-1!=ae(d,a.history)||(Od(a.history,b),d.push(a.history)),$b(a,b,null,Bc(a,b))})}}function Yb(a,b,c){if(!a.cm||!a.cm.state.suppressEdits){for(var d,e=a.history,f=a.sel,g="undo"==b?e.done:e.undone,h="undo"==b?e.undone:e.done,i=0;i<g.length&&(d=g[i],c?!d.ranges||d.equals(a.sel):d.ranges);i++);if(i!=g.length){for(e.lastOrigin=e.lastSelOrigin=null;d=g.pop(),d.ranges;){if(Hd(d,h),c&&!d.equals(a.sel))return void ia(a,d,{clearRedo:!1});f=d}var j=[];Hd(f,h),h.push({changes:j,generation:e.generation}),e.generation=d.generation||++e.maxGeneration;for(var k=Wd(a,"beforeChange")||a.cm&&Wd(a.cm,"beforeChange"),i=d.changes.length-1;i>=0;--i){var l=d.changes[i];if(l.origin=b,k&&!Vb(a,l,!1))return void(g.length=0);j.push(Bd(a,l));var m=i?Sb(a,l,null):_d(g);$b(a,l,m,Dc(a,l)),!i&&a.cm&&a.cm.scrollIntoView(l);var n=[];qd(a,function(a,b){b||-1!=ae(n,a.history)||(Od(a.history,l),n.push(a.history)),$b(a,l,null,Dc(a,l))})}}}}function Zb(a,b){if(0!=b&&(a.first+=b,a.sel=new U(be(a.sel.ranges,function(a){return new V(ff(a.anchor.line+b,a.anchor.ch),ff(a.head.line+b,a.head.ch))}),a.sel.primIndex),a.cm)){cb(a.cm,a.first,a.first-b,b);for(var c=a.cm.display,d=c.viewFrom;d<c.viewTo;d++)db(a.cm,d,"gutter")}}function $b(a,b,c,d){if(a.cm&&!a.cm.curOp)return Za(a.cm,$b)(a,b,c,d);if(b.to.line<a.first)return void Zb(a,b.text.length-1-(b.to.line-b.from.line));if(!(b.from.line>a.lastLine())){if(b.from.line<a.first){var e=b.text.length-1-(a.first-b.from.line);Zb(a,e),b={from:ff(a.first,0),to:ff(b.to.line+e,b.to.ch),text:[_d(b.text)],origin:b.origin}}var f=a.lastLine();b.to.line>f&&(b={from:b.from,to:ff(f,sd(a,f).text.length),text:[b.text[0]],origin:b.origin}),b.removed=td(a,b.from,b.to),c||(c=Sb(a,b,null)),a.cm?_b(a.cm,b,d):nd(a,b,d),ja(a,c,cg)}}function _b(a,b,c){var d=a.doc,e=a.display,g=b.from,h=b.to,i=!1,j=g.line;a.options.lineWrapping||(j=wd(Oc(sd(d,g.line))),d.iter(j,h.line+1,function(a){if(a==e.maxLine)return i=!0,!0})),d.sel.contains(b.from,b.to)>-1&&Vd(a),nd(d,b,c,f(a)),a.options.lineWrapping||(d.iter(j,g.line+b.text.length,function(a){var b=m(a);b>e.maxLineLength&&(e.maxLine=a,e.maxLineLength=b,e.maxLineChanged=!0,i=!1)}),i&&(a.curOp.updateMaxLine=!0)),d.frontier=Math.min(d.frontier,g.line),sa(a,400);var k=b.text.length-(h.line-g.line)-1;g.line!=h.line||1!=b.text.length||md(a.doc,b)?cb(a,g.line,h.line+1,k):db(a,g.line,"text");var l=Wd(a,"changes"),n=Wd(a,"change");if(n||l){var o={from:g,to:h,text:b.text,removed:b.removed,origin:b.origin};n&&Sd(a,"change",a,o),l&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(o)}a.display.selForContextMenu=null}function ac(a,b,c,d,e){if(d||(d=c),gf(d,c)<0){var f=d;d=c,c=f}"string"==typeof b&&(b=rg(b)),Wb(a,{from:c,to:d,text:b,origin:e})}function bc(a,b){var c=a.display,d=c.sizer.getBoundingClientRect(),e=null;if(b.top+d.top<0?e=!0:b.bottom+d.top>(window.innerHeight||document.documentElement.clientHeight)&&(e=!1),null!=e&&!Xe){var f=ie("div","​",null,"position: absolute; top: "+(b.top-c.viewOffset-wa(a.display))+"px; height: "+(b.bottom-b.top+ag)+"px; left: "+b.left+"px; width: 2px;");a.display.lineSpace.appendChild(f),f.scrollIntoView(e),a.display.lineSpace.removeChild(f)}}function cc(a,b,c,d){for(null==d&&(d=0);;){var e=!1,f=Pa(a,b),g=c&&c!=b?Pa(a,c):f,h=ec(a,Math.min(f.left,g.left),Math.min(f.top,g.top)-d,Math.max(f.left,g.left),Math.max(f.bottom,g.bottom)+d),i=a.doc.scrollTop,j=a.doc.scrollLeft;if(null!=h.scrollTop&&(Cb(a,h.scrollTop),Math.abs(a.doc.scrollTop-i)>1&&(e=!0)),null!=h.scrollLeft&&(Db(a,h.scrollLeft),Math.abs(a.doc.scrollLeft-j)>1&&(e=!0)),!e)return f}}function dc(a,b,c,d,e){var f=ec(a,b,c,d,e);null!=f.scrollTop&&Cb(a,f.scrollTop),null!=f.scrollLeft&&Db(a,f.scrollLeft)}function ec(a,b,c,d,e){var f=a.display,g=Ua(a.display);c<0&&(c=0);var h=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:f.scroller.scrollTop,i=f.scroller.clientHeight-ag,j={},k=a.doc.height+xa(f),l=c<g,m=e>k-g;if(c<h)j.scrollTop=l?0:c;else if(e>h+i){var n=Math.min(c,(m?k:e)-i);n!=h&&(j.scrollTop=n)}var o=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:f.scroller.scrollLeft,p=f.scroller.clientWidth-ag;b+=f.gutters.offsetWidth,d+=f.gutters.offsetWidth;var q=f.gutters.offsetWidth,r=b<q+10;return b<o+q||r?(r&&(b=0),j.scrollLeft=Math.max(0,b-10-q)):d>p+o-3&&(j.scrollLeft=d+10-p),j}function fc(a,b,c){null==b&&null==c||hc(a),null!=b&&(a.curOp.scrollLeft=(null==a.curOp.scrollLeft?a.doc.scrollLeft:a.curOp.scrollLeft)+b),null!=c&&(a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+c)}function gc(a){hc(a);var b=a.getCursor(),c=b,d=b;a.options.lineWrapping||(c=b.ch?ff(b.line,b.ch-1):b,d=ff(b.line,b.ch+1)),a.curOp.scrollToPos={from:c,to:d,margin:a.options.cursorScrollMargin,isCursor:!0}}function hc(a){var b=a.curOp.scrollToPos;if(b){a.curOp.scrollToPos=null;var c=Qa(a,b.from),d=Qa(a,b.to),e=ec(a,Math.min(c.left,d.left),Math.min(c.top,d.top)-b.margin,Math.max(c.right,d.right),Math.max(c.bottom,d.bottom)+b.margin);a.scrollTo(e.scrollLeft,e.scrollTop)}}function ic(a,b,c,d){var e,f=a.doc;null==c&&(c="add"),"smart"==c&&(a.doc.mode.indent?e=va(a,b):c="prev");var g=a.options.tabSize,h=sd(f,b),i=fg(h.text,null,g);h.stateAfter&&(h.stateAfter=null);var j,k=h.text.match(/^\s*/)[0];if(d||/\S/.test(h.text)){if("smart"==c&&(j=a.doc.mode.indent(e,h.text.slice(k.length),h.text))==bg){if(!d)return;c="prev"}}else j=0,c="not";"prev"==c?j=b>f.first?fg(sd(f,b-1).text,null,g):0:"add"==c?j=i+a.options.indentUnit:"subtract"==c?j=i-a.options.indentUnit:"number"==typeof c&&(j=i+c),j=Math.max(0,j);var l="",m=0;if(a.options.indentWithTabs)for(var n=Math.floor(j/g);n;--n)m+=g,l+="\t";if(m<j&&(l+=$d(j-m)),l!=k)ac(a.doc,l,ff(b,0),ff(b,k.length),"+input");else for(var n=0;n<f.sel.ranges.length;n++){var o=f.sel.ranges[n];if(o.head.line==b&&o.head.ch<k.length){var m=ff(b,k.length);ea(f,n,new V(m,m));break}}h.stateAfter=null}function jc(a,b,c,d){var e=b,f=b,g=a.doc;return"number"==typeof b?f=sd(g,Y(g,b)):e=wd(b),null==e?null:(d(f,e)&&db(a,e,c),f)}function kc(a,b){for(var c=a.doc.sel.ranges,d=[],e=0;e<c.length;e++){for(var f=b(c[e]);d.length&&gf(f.from,_d(d).to)<=0;){var g=d.pop();if(gf(g.from,f.from)<0){f.from=g.from;break}}d.push(f)}Ya(a,function(){for(var b=d.length-1;b>=0;b--)ac(a.doc,"",d[b].from,d[b].to,"+delete");gc(a)})}function lc(a,b,c,d,e){function f(){var b=h+c;return b<a.first||b>=a.first+a.size?l=!1:(h=b,k=sd(a,b))}function g(a){var b=(e?He:Ie)(k,i,c,!0);if(null==b){if(a||!f())return l=!1;i=e?(c<0?Be:Ae)(k):c<0?k.text.length:0}else i=b;return!0}var h=b.line,i=b.ch,j=c,k=sd(a,h),l=!0;if("char"==d)g();else if("column"==d)g(!0);else if("word"==d||"group"==d)for(var m=null,n="group"==d,o=a.cm&&a.cm.getHelper(b,"wordChars"),p=!0;!(c<0)||g(!p);p=!1){var q=k.text.charAt(i)||"\n",r=fe(q,o)?"w":n&&"\n"==q?"n":!n||/\s/.test(q)?null:"p";if(!n||p||r||(r="s"),m&&m!=r){c<0&&(c=1,g());break}if(r&&(m=r),c>0&&!g(!p))break}var s=na(a,ff(h,i),j,!0);return l||(s.hitSide=!0),s}function mc(a,b,c,d){var e,f=a.doc,g=b.left;if("page"==d){var h=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);e=b.top+c*(h-(c<0?1.5:.5)*Ua(a.display))}else"line"==d&&(e=c>0?b.bottom+3:b.top-3);for(;;){var i=Sa(a,g,e);if(!i.outside)break;if(c<0?e<=0:e>=f.height){i.hitSide=!0;break}e+=5*c}return i}function nc(a,b){var c=a.doc,d=sd(c,b.line).text,e=b.ch,f=b.ch;if(d){var g=a.getHelper(b,"wordChars");(b.xRel<0||f==d.length)&&e?--e:++f;for(var h=d.charAt(e),i=fe(h,g)?function(a){return fe(a,g)}:/\s/.test(h)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!fe(a)};e>0&&i(d.charAt(e-1));)--e;for(;f<d.length&&i(d.charAt(f));)++f}return new V(ff(b.line,e),ff(b.line,f))}function oc(b,c,d,e){a.defaults[b]=c,d&&(uf[b]=e?function(a,b,c){c!=vf&&d(a,b,c)}:d)}function pc(a){return"string"==typeof a?Ef[a]:a}function qc(a,b,c,d,e){if(d&&d.shared)return rc(a,b,c,d,e);if(a.cm&&!a.cm.curOp)return Za(a.cm,qc)(a,b,c,d,e);var f=new Jf(a,e),g=gf(b,c);if(d&&de(d,f,!1),g>0||0==g&&!1!==f.clearWhenEmpty)return f;if(f.replacedWith&&(f.collapsed=!0,f.widgetNode=ie("span",[f.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||(f.widgetNode.ignoreEvents=!0),d.insertLeft&&(f.widgetNode.insertLeft=!0)),f.collapsed){if(Nc(a,b.line,b,c,f)||b.line!=c.line&&Nc(a,c.line,b,c,f))throw new Error("Inserting collapsed marker partially overlapping an existing one");ef=!0}f.addToHistory&&Ed(a,{from:b,to:c,origin:"markText"},a.sel,NaN);var h,i=b.line,j=a.cm;if(a.iter(i,c.line+1,function(a){j&&f.collapsed&&!j.options.lineWrapping&&Oc(a)==j.display.maxLine&&(h=!0),f.collapsed&&i!=b.line&&vd(a,0),yc(a,new vc(f,i==b.line?b.ch:null,i==c.line?c.ch:null)),++i}),f.collapsed&&a.iter(b.line,c.line+1,function(b){Sc(a,b)&&vd(b,0)}),f.clearOnEnter&&Yf(f,"beforeCursorEnter",function(){f.clear()}),f.readOnly&&(df=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory()),f.collapsed&&(f.id=++Kf,f.atomic=!0),j){if(h&&(j.curOp.updateMaxLine=!0),f.collapsed)cb(j,b.line,c.line+1);else if(f.className||f.title||f.startStyle||f.endStyle)for(var k=b.line;k<=c.line;k++)db(j,k,"text");f.atomic&&la(j.doc),Sd(j,"markerAdded",j,f)}return f}function rc(a,b,c,d,e){d=de(d),d.shared=!1;var f=[qc(a,b,c,d,e)],g=f[0],h=d.widgetNode;return qd(a,function(a){h&&(d.widgetNode=h.cloneNode(!0)),f.push(qc(a,Z(a,b),Z(a,c),d,e));for(var i=0;i<a.linked.length;++i)if(a.linked[i].isParent)return;g=_d(f)}),new Lf(f,g)}function sc(a){return a.findMarks(ff(a.first,0),a.clipPos(ff(a.lastLine())),function(a){return a.parent})}function tc(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.find(),f=a.clipPos(e.from),g=a.clipPos(e.to);if(gf(f,g)){var h=qc(a,f,g,d.primary,d.primary.type);d.markers.push(h),h.parent=d}}}function uc(a){for(var b=0;b<a.length;b++){var c=a[b],d=[c.primary.doc];qd(c.primary.doc,function(a){d.push(a)});for(var e=0;e<c.markers.length;e++){var f=c.markers[e];-1==ae(d,f.doc)&&(f.parent=null,c.markers.splice(e--,1))}}}function vc(a,b,c){this.marker=a,this.from=b,this.to=c}function wc(a,b){if(a)for(var c=0;c<a.length;++c){var d=a[c];if(d.marker==b)return d}}function xc(a,b){for(var c,d=0;d<a.length;++d)a[d]!=b&&(c||(c=[])).push(a[d]);return c}function yc(a,b){a.markedSpans=a.markedSpans?a.markedSpans.concat([b]):[b],b.marker.attachLine(a)}function zc(a,b,c){if(a)for(var d,e=0;e<a.length;++e){var f=a[e],g=f.marker,h=null==f.from||(g.inclusiveLeft?f.from<=b:f.from<b);if(h||f.from==b&&"bookmark"==g.type&&(!c||!f.marker.insertLeft)){var i=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);(d||(d=[])).push(new vc(g,f.from,i?null:f.to))}}return d}function Ac(a,b,c){if(a)for(var d,e=0;e<a.length;++e){var f=a[e],g=f.marker,h=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);if(h||f.from==b&&"bookmark"==g.type&&(!c||f.marker.insertLeft)){var i=null==f.from||(g.inclusiveLeft?f.from<=b:f.from<b);(d||(d=[])).push(new vc(g,i?null:f.from-b,null==f.to?null:f.to-b))}}return d}function Bc(a,b){var c=_(a,b.from.line)&&sd(a,b.from.line).markedSpans,d=_(a,b.to.line)&&sd(a,b.to.line).markedSpans;if(!c&&!d)return null;var e=b.from.ch,f=b.to.ch,g=0==gf(b.from,b.to),h=zc(c,e,g),i=Ac(d,f,g),j=1==b.text.length,k=_d(b.text).length+(j?e:0);if(h)for(var l=0;l<h.length;++l){var m=h[l];if(null==m.to){var n=wc(i,m.marker);n?j&&(m.to=null==n.to?null:n.to+k):m.to=e}}if(i)for(var l=0;l<i.length;++l){var m=i[l];if(null!=m.to&&(m.to+=k),null==m.from){var n=wc(h,m.marker);n||(m.from=k,j&&(h||(h=[])).push(m))}else m.from+=k,j&&(h||(h=[])).push(m)}h&&(h=Cc(h)),i&&i!=h&&(i=Cc(i));var o=[h];if(!j){var p,q=b.text.length-2;if(q>0&&h)for(var l=0;l<h.length;++l)null==h[l].to&&(p||(p=[])).push(new vc(h[l].marker,null,null));for(var l=0;l<q;++l)o.push(p);o.push(i)}return o}function Cc(a){for(var b=0;b<a.length;++b){var c=a[b];null!=c.from&&c.from==c.to&&!1!==c.marker.clearWhenEmpty&&a.splice(b--,1)}return a.length?a:null}function Dc(a,b){var c=Kd(a,b),d=Bc(a,b);if(!c)return d;if(!d)return c;for(var e=0;e<c.length;++e){var f=c[e],g=d[e];if(f&&g)a:for(var h=0;h<g.length;++h){for(var i=g[h],j=0;j<f.length;++j)if(f[j].marker==i.marker)continue a;f.push(i)}else g&&(c[e]=g)}return c}function Ec(a,b,c){var d=null;if(a.iter(b.line,c.line+1,function(a){if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var c=a.markedSpans[b].marker;!c.readOnly||d&&-1!=ae(d,c)||(d||(d=[])).push(c)}}),!d)return null;for(var e=[{from:b,to:c}],f=0;f<d.length;++f)for(var g=d[f],h=g.find(0),i=0;i<e.length;++i){var j=e[i];if(!(gf(j.to,h.from)<0||gf(j.from,h.to)>0)){var k=[i,1],l=gf(j.from,h.from),m=gf(j.to,h.to);(l<0||!g.inclusiveLeft&&!l)&&k.push({from:j.from,to:h.from}),(m>0||!g.inclusiveRight&&!m)&&k.push({from:h.to,to:j.to}),e.splice.apply(e,k),i+=k.length-1}}return e}function Fc(a){var b=a.markedSpans;if(b){for(var c=0;c<b.length;++c)b[c].marker.detachLine(a);a.markedSpans=null}}function Gc(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.attachLine(a);a.markedSpans=b}}function Hc(a){return a.inclusiveLeft?-1:0}function Ic(a){return a.inclusiveRight?1:0}function Jc(a,b){var c=a.lines.length-b.lines.length;if(0!=c)return c;var d=a.find(),e=b.find(),f=gf(d.from,e.from)||Hc(a)-Hc(b);if(f)return-f;var g=gf(d.to,e.to)||Ic(a)-Ic(b);return g||b.id-a.id}function Kc(a,b){var c,d=ef&&a.markedSpans;if(d)for(var e,f=0;f<d.length;++f)e=d[f],e.marker.collapsed&&null==(b?e.from:e.to)&&(!c||Jc(c,e.marker)<0)&&(c=e.marker);return c}function Lc(a){return Kc(a,!0)}function Mc(a){return Kc(a,!1)}function Nc(a,b,c,d,e){var f=sd(a,b),g=ef&&f.markedSpans;if(g)for(var h=0;h<g.length;++h){var i=g[h];if(i.marker.collapsed){var j=i.marker.find(0),k=gf(j.from,c)||Hc(i.marker)-Hc(e),l=gf(j.to,d)||Ic(i.marker)-Ic(e);if(!(k>=0&&l<=0||k<=0&&l>=0)&&(k<=0&&(gf(j.to,c)||Ic(i.marker)-Hc(e))>0||k>=0&&(gf(j.from,d)||Hc(i.marker)-Ic(e))<0))return!0}}}function Oc(a){for(var b;b=Lc(a);)a=b.find(-1,!0).line;return a}function Pc(a){for(var b,c;b=Mc(a);)a=b.find(1,!0).line,(c||(c=[])).push(a);return c}function Qc(a,b){var c=sd(a,b),d=Oc(c);return c==d?b:wd(d)}function Rc(a,b){if(b>a.lastLine())return b;var c,d=sd(a,b);if(!Sc(a,d))return b;for(;c=Mc(d);)d=c.find(1,!0).line;return wd(d)+1}function Sc(a,b){var c=ef&&b.markedSpans;if(c)for(var d,e=0;e<c.length;++e)if(d=c[e],d.marker.collapsed){if(null==d.from)return!0;if(!d.marker.widgetNode&&0==d.from&&d.marker.inclusiveLeft&&Tc(a,b,d))return!0}}function Tc(a,b,c){if(null==c.to){var d=c.marker.find(1,!0);return Tc(a,d.line,wc(d.line.markedSpans,c.marker))}if(c.marker.inclusiveRight&&c.to==b.text.length)return!0;for(var e,f=0;f<b.markedSpans.length;++f)if(e=b.markedSpans[f],e.marker.collapsed&&!e.marker.widgetNode&&e.from==c.to&&(null==e.to||e.to!=c.from)&&(e.marker.inclusiveLeft||c.marker.inclusiveRight)&&Tc(a,b,e))return!0}function Uc(a,b,c){yd(b)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&fc(a,null,c)}function Vc(a){return null!=a.height?a.height:(le(document.body,a.node)||ke(a.cm.display.measure,ie("div",[a.node],null,"position: relative")),a.height=a.node.offsetHeight)}function Wc(a,b,c,d){var e=new Mf(a,c,d);return e.noHScroll&&(a.display.alignWidgets=!0),jc(a,b,"widget",function(b){var c=b.widgets||(b.widgets=[]);if(null==e.insertAt?c.push(e):c.splice(Math.min(c.length-1,Math.max(0,e.insertAt)),0,e),e.line=b,!Sc(a.doc,b)){var d=yd(b)<a.doc.scrollTop;vd(b,b.height+Vc(e)),d&&fc(a,null,e.height),a.curOp.forceUpdate=!0}return!0}),e}function Xc(a,b,c,d){a.text=b,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),Fc(a),Gc(a,c);var e=d?d(a):1;e!=a.height&&vd(a,e)}function Yc(a){a.parent=null,Fc(a)}function Zc(a,b){if(a)for(;;){var c=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!c)break;a=a.slice(0,c.index)+a.slice(c.index+c[0].length);var d=c[1]?"bgClass":"textClass";null==b[d]?b[d]=c[2]:new RegExp("(?:^|s)"+c[2]+"(?:$|s)").test(b[d])||(b[d]+=" "+c[2])}return a}function $c(b,c){if(b.blankLine)return b.blankLine(c);if(b.innerMode){var d=a.innerMode(b,c);return d.mode.blankLine?d.mode.blankLine(d.state):void 0}}function _c(a,b,c){for(var d=0;d<10;d++){var e=a.token(b,c);if(b.pos>b.start)return e}throw new Error("Mode "+a.name+" failed to advance stream.")}function ad(b,c,d,e,f,g,h){var i=d.flattenSpans;null==i&&(i=b.options.flattenSpans);var j,k=0,l=null,m=new If(c,b.options.tabSize);for(""==c&&Zc($c(d,e),g);!m.eol();){if(m.pos>b.options.maxHighlightLength?(i=!1,h&&dd(b,c,e,m.pos),m.pos=c.length,j=null):j=Zc(_c(d,m,e),g),b.options.addModeClass){var n=a.innerMode(d,e).mode.name;n&&(j="m-"+(j?n+" "+j:n))}i&&l==j||(k<m.start&&f(m.start,l),k=m.start,l=j),m.start=m.pos}for(;k<m.pos;){var o=Math.min(m.pos,k+5e4);f(o,l),k=o}}function bd(a,b,c,d){var e=[a.state.modeGen],f={};ad(a,b.text,a.doc.mode,c,function(a,b){e.push(a,b)},f,d);for(var g=0;g<a.state.overlays.length;++g){var h=a.state.overlays[g],i=1,j=0;ad(a,b.text,h.mode,!0,function(a,b){for(var c=i;j<a;){var d=e[i];d>a&&e.splice(i,1,a,e[i+1],d),i+=2,j=Math.min(a,d)}if(b)if(h.opaque)e.splice(c,i-c,a,"cm-overlay "+b),i=c+2;else for(;c<i;c+=2){var f=e[c+1];e[c+1]=(f?f+" ":"")+"cm-overlay "+b}},f)}return{styles:e,classes:f.bgClass||f.textClass?f:null}}function cd(a,b){if(!b.styles||b.styles[0]!=a.state.modeGen){var c=bd(a,b,b.stateAfter=va(a,wd(b)));b.styles=c.styles,c.classes?b.styleClasses=c.classes:b.styleClasses&&(b.styleClasses=null)}return b.styles}function dd(a,b,c,d){var e=a.doc.mode,f=new If(b,a.options.tabSize);for(f.start=f.pos=d||0,""==b&&$c(e,c);!f.eol()&&f.pos<=a.options.maxHighlightLength;)_c(e,f,c),f.start=f.pos}function ed(a,b){if(!a||/^\s*$/.test(a))return null;var c=b.addModeClass?Pf:Of;return c[a]||(c[a]=a.replace(/\S+/g,"cm-$&"))}function fd(a,b){var c=ie("span",null,null,Qe?"padding-right: .1px":null),d={pre:ie("pre",[c]),content:c,col:0,pos:0,cm:a};b.measure={};for(var e=0;e<=(b.rest?b.rest.length:0);e++){var f,g=e?b.rest[e-1]:b.line;d.pos=0,d.addToken=hd,(Pe||Qe)&&a.getOption("lineWrapping")&&(d.addToken=id(d.addToken)),we(a.display.measure)&&(f=zd(g))&&(d.addToken=jd(d.addToken,f)),d.map=[],ld(g,d,cd(a,g)),g.styleClasses&&(g.styleClasses.bgClass&&(d.bgClass=qe(g.styleClasses.bgClass,d.bgClass||"")),g.styleClasses.textClass&&(d.textClass=qe(g.styleClasses.textClass,d.textClass||""))),0==d.map.length&&d.map.push(0,0,d.content.appendChild(ve(a.display.measure))),0==e?(b.measure.map=d.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(d.map),(b.measure.caches||(b.measure.caches=[])).push({}))}return $f(a,"renderLine",a,b.line,d.pre),d.pre.className&&(d.textClass=qe(d.pre.className,d.textClass||"")),d}function gd(a){var b=ie("span","•","cm-invalidchar");return b.title="\\u"+a.charCodeAt(0).toString(16),b}function hd(a,b,c,d,e,f){if(b){var g=a.cm.options.specialChars,h=!1;if(g.test(b))for(var i=document.createDocumentFragment(),j=0;;){g.lastIndex=j;var k=g.exec(b),l=k?k.index-j:b.length-j;if(l){var m=document.createTextNode(b.slice(j,j+l));Me?i.appendChild(ie("span",[m])):i.appendChild(m),a.map.push(a.pos,a.pos+l,m),a.col+=l,a.pos+=l}if(!k)break;if(j+=l+1,"\t"==k[0]){var n=a.cm.options.tabSize,o=n-a.col%n,m=i.appendChild(ie("span",$d(o),"cm-tab"));a.col+=o}else{var m=a.cm.options.specialCharPlaceholder(k[0]);Me?i.appendChild(ie("span",[m])):i.appendChild(m),a.col+=1}a.map.push(a.pos,a.pos+1,m),a.pos++}else{a.col+=b.length;var i=document.createTextNode(b);a.map.push(a.pos,a.pos+b.length,i),Me&&(h=!0),a.pos+=b.length}if(c||d||e||h){var p=c||"";d&&(p+=d),e&&(p+=e);var q=ie("span",[i],p);return f&&(q.title=f),a.content.appendChild(q)}a.content.appendChild(i)}}function id(a){function b(a){for(var b=" ",c=0;c<a.length-2;++c)b+=c%2?" ":" ";return b+=" "}return function(c,d,e,f,g,h){a(c,d.replace(/ {3,}/g,b),e,f,g,h)}}function jd(a,b){return function(c,d,e,f,g,h){e=e?e+" cm-force-border":"cm-force-border";for(var i=c.pos,j=i+d.length;;){for(var k=0;k<b.length;k++){var l=b[k];if(l.to>i&&l.from<=i)break}if(l.to>=j)return a(c,d,e,f,g,h);a(c,d.slice(0,l.to-i),e,f,null,h),f=null,d=d.slice(l.to-i),i=l.to}}}function kd(a,b,c,d){var e=!d&&c.widgetNode;e&&(a.map.push(a.pos,a.pos+b,e),a.content.appendChild(e)),a.pos+=b}function ld(a,b,c){var d=a.markedSpans,e=a.text,f=0;if(d)for(var g,h,i,j,k,l,m=e.length,n=0,o=1,p="",q=0;;){if(q==n){h=i=j=k="",l=null,q=1/0;for(var r=[],s=0;s<d.length;++s){var t=d[s],u=t.marker;t.from<=n&&(null==t.to||t.to>n)?(null!=t.to&&q>t.to&&(q=t.to,i=""),u.className&&(h+=" "+u.className),u.startStyle&&t.from==n&&(j+=" "+u.startStyle),u.endStyle&&t.to==q&&(i+=" "+u.endStyle),u.title&&!k&&(k=u.title),
u.collapsed&&(!l||Jc(l.marker,u)<0)&&(l=t)):t.from>n&&q>t.from&&(q=t.from),"bookmark"==u.type&&t.from==n&&u.widgetNode&&r.push(u)}if(l&&(l.from||0)==n&&(kd(b,(null==l.to?m+1:l.to)-n,l.marker,null==l.from),null==l.to))return;if(!l&&r.length)for(var s=0;s<r.length;++s)kd(b,0,r[s])}if(n>=m)break;for(var v=Math.min(m,q);;){if(p){var w=n+p.length;if(!l){var x=w>v?p.slice(0,v-n):p;b.addToken(b,x,g?g+h:h,j,n+x.length==q?i:"",k)}if(w>=v){p=p.slice(v-n),n=v;break}n=w,j=""}p=e.slice(f,f=c[o++]),g=ed(c[o++],b.cm.options)}}else for(var o=1;o<c.length;o+=2)b.addToken(b,e.slice(f,f=c[o]),ed(c[o+1],b.cm.options))}function md(a,b){return 0==b.from.ch&&0==b.to.ch&&""==_d(b.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function nd(a,b,c,d){function e(a){return c?c[a]:null}function f(a,c,e){Xc(a,c,e,d),Sd(a,"change",a,b)}var g=b.from,h=b.to,i=b.text,j=sd(a,g.line),k=sd(a,h.line),l=_d(i),m=e(i.length-1),n=h.line-g.line;if(md(a,b)){for(var o=0,p=[];o<i.length-1;++o)p.push(new Nf(i[o],e(o),d));f(k,k.text,m),n&&a.remove(g.line,n),p.length&&a.insert(g.line,p)}else if(j==k)if(1==i.length)f(j,j.text.slice(0,g.ch)+l+j.text.slice(h.ch),m);else{for(var p=[],o=1;o<i.length-1;++o)p.push(new Nf(i[o],e(o),d));p.push(new Nf(l+j.text.slice(h.ch),m,d)),f(j,j.text.slice(0,g.ch)+i[0],e(0)),a.insert(g.line+1,p)}else if(1==i.length)f(j,j.text.slice(0,g.ch)+i[0]+k.text.slice(h.ch),e(0)),a.remove(g.line+1,n);else{f(j,j.text.slice(0,g.ch)+i[0],e(0)),f(k,l+k.text.slice(h.ch),m);for(var o=1,p=[];o<i.length-1;++o)p.push(new Nf(i[o],e(o),d));n>1&&a.remove(g.line+1,n-1),a.insert(g.line+1,p)}Sd(a,"change",a,b)}function od(a){this.lines=a,this.parent=null;for(var b=0,c=0;b<a.length;++b)a[b].parent=this,c+=a[b].height;this.height=c}function pd(a){this.children=a;for(var b=0,c=0,d=0;d<a.length;++d){var e=a[d];b+=e.chunkSize(),c+=e.height,e.parent=this}this.size=b,this.height=c,this.parent=null}function qd(a,b,c){function d(a,e,f){if(a.linked)for(var g=0;g<a.linked.length;++g){var h=a.linked[g];if(h.doc!=e){var i=f&&h.sharedHist;c&&!i||(b(h.doc,i),d(h.doc,a,i))}}}d(a,null,!0)}function rd(a,b){if(b.cm)throw new Error("This document is already in use.");a.doc=b,b.cm=a,g(a),c(a),a.options.lineWrapping||n(a),a.options.mode=b.modeOption,cb(a)}function sd(a,b){if((b-=a.first)<0||b>=a.size)throw new Error("There is no line "+(b+a.first)+" in the document.");for(var c=a;!c.lines;)for(var d=0;;++d){var e=c.children[d],f=e.chunkSize();if(b<f){c=e;break}b-=f}return c.lines[b]}function td(a,b,c){var d=[],e=b.line;return a.iter(b.line,c.line+1,function(a){var f=a.text;e==c.line&&(f=f.slice(0,c.ch)),e==b.line&&(f=f.slice(b.ch)),d.push(f),++e}),d}function ud(a,b,c){var d=[];return a.iter(b,c,function(a){d.push(a.text)}),d}function vd(a,b){var c=b-a.height;if(c)for(var d=a;d;d=d.parent)d.height+=c}function wd(a){if(null==a.parent)return null;for(var b=a.parent,c=ae(b.lines,a),d=b.parent;d;b=d,d=d.parent)for(var e=0;d.children[e]!=b;++e)c+=d.children[e].chunkSize();return c+b.first}function xd(a,b){var c=a.first;a:do{for(var d=0;d<a.children.length;++d){var e=a.children[d],f=e.height;if(b<f){a=e;continue a}b-=f,c+=e.chunkSize()}return c}while(!a.lines);for(var d=0;d<a.lines.length;++d){var g=a.lines[d],h=g.height;if(b<h)break;b-=h}return c+d}function yd(a){a=Oc(a);for(var b=0,c=a.parent,d=0;d<c.lines.length;++d){var e=c.lines[d];if(e==a)break;b+=e.height}for(var f=c.parent;f;c=f,f=c.parent)for(var d=0;d<f.children.length;++d){var g=f.children[d];if(g==c)break;b+=g.height}return b}function zd(a){var b=a.order;return null==b&&(b=a.order=wg(a.text)),b}function Ad(a){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a||1}function Bd(a,b){var c={from:R(b.from),to:sf(b),text:td(a,b.from,b.to)};return Id(a,c,b.from.line,b.to.line+1),qd(a,function(a){Id(a,c,b.from.line,b.to.line+1)},!0),c}function Cd(a){for(;a.length;){if(!_d(a).ranges)break;a.pop()}}function Dd(a,b){return b?(Cd(a.done),_d(a.done)):a.done.length&&!_d(a.done).ranges?_d(a.done):a.done.length>1&&!a.done[a.done.length-2].ranges?(a.done.pop(),_d(a.done)):void 0}function Ed(a,b,c,d){var e=a.history;e.undone.length=0;var f,g=+new Date;if((e.lastOp==d||e.lastOrigin==b.origin&&b.origin&&("+"==b.origin.charAt(0)&&a.cm&&e.lastModTime>g-a.cm.options.historyEventDelay||"*"==b.origin.charAt(0)))&&(f=Dd(e,e.lastOp==d))){var h=_d(f.changes);0==gf(b.from,b.to)&&0==gf(b.from,h.to)?h.to=sf(b):f.changes.push(Bd(a,b))}else{var i=_d(e.done);for(i&&i.ranges||Hd(a.sel,e.done),f={changes:[Bd(a,b)],generation:e.generation},e.done.push(f);e.done.length>e.undoDepth;)e.done.shift(),e.done[0].ranges||e.done.shift()}e.done.push(c),e.generation=++e.maxGeneration,e.lastModTime=e.lastSelTime=g,e.lastOp=d,e.lastOrigin=e.lastSelOrigin=b.origin,h||$f(a,"historyAdded")}function Fd(a,b,c,d){var e=b.charAt(0);return"*"==e||"+"==e&&c.ranges.length==d.ranges.length&&c.somethingSelected()==d.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function Gd(a,b,c,d){var e=a.history,f=d&&d.origin;c==e.lastOp||f&&e.lastSelOrigin==f&&(e.lastModTime==e.lastSelTime&&e.lastOrigin==f||Fd(a,f,_d(e.done),b))?e.done[e.done.length-1]=b:Hd(b,e.done),e.lastSelTime=+new Date,e.lastSelOrigin=f,e.lastOp=c,d&&!1!==d.clearRedo&&Cd(e.undone)}function Hd(a,b){var c=_d(b);c&&c.ranges&&c.equals(a)||b.push(a)}function Id(a,b,c,d){var e=b["spans_"+a.id],f=0;a.iter(Math.max(a.first,c),Math.min(a.first+a.size,d),function(c){c.markedSpans&&((e||(e=b["spans_"+a.id]={}))[f]=c.markedSpans),++f})}function Jd(a){if(!a)return null;for(var b,c=0;c<a.length;++c)a[c].marker.explicitlyCleared?b||(b=a.slice(0,c)):b&&b.push(a[c]);return b?b.length?b:null:a}function Kd(a,b){var c=b["spans_"+a.id];if(!c)return null;for(var d=0,e=[];d<b.text.length;++d)e.push(Jd(c[d]));return e}function Ld(a,b,c){for(var d=0,e=[];d<a.length;++d){var f=a[d];if(f.ranges)e.push(c?U.prototype.deepCopy.call(f):f);else{var g=f.changes,h=[];e.push({changes:h});for(var i=0;i<g.length;++i){var j,k=g[i];if(h.push({from:k.from,to:k.to,text:k.text}),b)for(var l in k)(j=l.match(/^spans_(\d+)$/))&&ae(b,Number(j[1]))>-1&&(_d(h)[l]=k[l],delete k[l])}}}return e}function Md(a,b,c,d){c<a.line?a.line+=d:b<a.line&&(a.line=b,a.ch=0)}function Nd(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e],g=!0;if(f.ranges){f.copied||(f=a[e]=f.deepCopy(),f.copied=!0);for(var h=0;h<f.ranges.length;h++)Md(f.ranges[h].anchor,b,c,d),Md(f.ranges[h].head,b,c,d)}else{for(var h=0;h<f.changes.length;++h){var i=f.changes[h];if(c<i.from.line)i.from=ff(i.from.line+d,i.from.ch),i.to=ff(i.to.line+d,i.to.ch);else if(b<=i.to.line){g=!1;break}}g||(a.splice(0,e+1),e=0)}}}function Od(a,b){var c=b.from.line,d=b.to.line,e=b.text.length-(d-c)-1;Nd(a.done,c,d,e),Nd(a.undone,c,d,e)}function Pd(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function Qd(a){return a.target||a.srcElement}function Rd(a){var b=a.which;return null==b&&(1&a.button?b=1:2&a.button?b=3:4&a.button&&(b=2)),$e&&a.ctrlKey&&1==b&&(b=3),b}function Sd(a,b){function c(a){return function(){a.apply(null,e)}}var d=a._handlers&&a._handlers[b];if(d){var e=Array.prototype.slice.call(arguments,2);Uf||(++_f,Uf=[],setTimeout(Td,0));for(var f=0;f<d.length;++f)Uf.push(c(d[f]))}}function Td(){--_f;var a=Uf;Uf=null;for(var b=0;b<a.length;++b)a[b]()}function Ud(a,b,c){return $f(a,c||b.type,a,b),Pd(b)||b.codemirrorIgnore}function Vd(a){var b=a._handlers&&a._handlers.cursorActivity;if(b)for(var c=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),d=0;d<b.length;++d)-1==ae(c,b[d])&&c.push(b[d])}function Wd(a,b){var c=a._handlers&&a._handlers[b];return c&&c.length>0}function Xd(a){a.prototype.on=function(a,b){Yf(this,a,b)},a.prototype.off=function(a,b){Zf(this,a,b)}}function Yd(){this.id=null}function Zd(a,b,c){for(var d=0,e=0;;){var f=a.indexOf("\t",d);-1==f&&(f=a.length);var g=f-d;if(f==a.length||e+g>=b)return d+Math.min(g,b-e);if(e+=f-d,e+=c-e%c,d=f+1,e>=b)return d}}function $d(a){for(;gg.length<=a;)gg.push(_d(gg)+" ");return gg[a]}function _d(a){return a[a.length-1]}function ae(a,b){for(var c=0;c<a.length;++c)if(a[c]==b)return c;return-1}function be(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d],d);return c}function ce(a,b){var c;if(Object.create)c=Object.create(a);else{var d=function(){};d.prototype=a,c=new d}return b&&de(b,c),c}function de(a,b,c){b||(b={});for(var d in a)!a.hasOwnProperty(d)||!1===c&&b.hasOwnProperty(d)||(b[d]=a[d]);return b}function ee(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function fe(a,b){return b?!!(b.source.indexOf("\\w")>-1&&kg(a))||b.test(a):kg(a)}function ge(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function he(a){return a.charCodeAt(0)>=768&&lg.test(a)}function ie(a,b,c,d){var e=document.createElement(a);if(c&&(e.className=c),d&&(e.style.cssText=d),"string"==typeof b)e.appendChild(document.createTextNode(b));else if(b)for(var f=0;f<b.length;++f)e.appendChild(b[f]);return e}function je(a){for(var b=a.childNodes.length;b>0;--b)a.removeChild(a.firstChild);return a}function ke(a,b){return je(a).appendChild(b)}function le(a,b){if(a.contains)return a.contains(b);for(;b=b.parentNode;)if(b==a)return!0}function me(){return document.activeElement}function ne(a){return new RegExp("\\b"+a+"\\b\\s*")}function oe(a,b){var c=ne(b);c.test(a.className)&&(a.className=a.className.replace(c,""))}function pe(a,b){ne(b).test(a.className)||(a.className+=" "+b)}function qe(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)c[d]&&!ne(c[d]).test(b)&&(b+=" "+c[d]);return b}function re(a){if(document.body.getElementsByClassName)for(var b=document.body.getElementsByClassName("CodeMirror"),c=0;c<b.length;c++){var d=b[c].CodeMirror;d&&a(d)}}function se(){pg||(te(),pg=!0)}function te(){var a;Yf(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null,mg=null,re(rb)},100))}),Yf(window,"blur",function(){re(Ob)})}function ue(a){if(null!=mg)return mg;var b=ie("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return ke(a,b),b.offsetWidth&&(mg=b.offsetHeight-b.clientHeight),mg||0}function ve(a){if(null==ng){var b=ie("span","​");ke(a,ie("span",[b,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(ng=b.offsetWidth<=1&&b.offsetHeight>2&&!Le)}return ng?ie("span","​"):ie("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function we(a){if(null!=og)return og;var b=ke(a,document.createTextNode("AخA")),c=ig(b,0,1).getBoundingClientRect();if(c.left==c.right)return!1;var d=ig(b,1,2).getBoundingClientRect();return og=d.right-c.right<3}function xe(a,b,c,d){if(!a)return d(b,c,"ltr");for(var e=!1,f=0;f<a.length;++f){var g=a[f];(g.from<c&&g.to>b||b==c&&g.to==b)&&(d(Math.max(g.from,b),Math.min(g.to,c),1==g.level?"rtl":"ltr"),e=!0)}e||d(b,c,"ltr")}function ye(a){return a.level%2?a.to:a.from}function ze(a){return a.level%2?a.from:a.to}function Ae(a){var b=zd(a);return b?ye(b[0]):0}function Be(a){var b=zd(a);return b?ze(_d(b)):a.text.length}function Ce(a,b){var c=sd(a.doc,b),d=Oc(c);d!=c&&(b=wd(d));var e=zd(d),f=e?e[0].level%2?Be(d):Ae(d):0;return ff(b,f)}function De(a,b){for(var c,d=sd(a.doc,b);c=Mc(d);)d=c.find(1,!0).line,b=null;var e=zd(d),f=e?e[0].level%2?Ae(d):Be(d):d.text.length;return ff(null==b?wd(d):b,f)}function Ee(a,b,c){var d=a[0].level;return b==d||c!=d&&b<c}function Fe(a,b){vg=null;for(var c,d=0;d<a.length;++d){var e=a[d];if(e.from<b&&e.to>b)return d;if(e.from==b||e.to==b){if(null!=c)return Ee(a,e.level,a[c].level)?(e.from!=e.to&&(vg=c),d):(e.from!=e.to&&(vg=d),c);c=d}}return c}function Ge(a,b,c,d){if(!d)return b+c;do{b+=c}while(b>0&&he(a.text.charAt(b)));return b}function He(a,b,c,d){var e=zd(a);if(!e)return Ie(a,b,c,d);for(var f=Fe(e,b),g=e[f],h=Ge(a,b,g.level%2?-c:c,d);;){if(h>g.from&&h<g.to)return h;if(h==g.from||h==g.to)return Fe(e,h)==f?h:(g=e[f+=c],c>0==g.level%2?g.to:g.from);if(!(g=e[f+=c]))return null;h=c>0==g.level%2?Ge(a,g.to,-1,d):Ge(a,g.from,1,d)}}function Ie(a,b,c,d){var e=b+c;if(d)for(;e>0&&he(a.text.charAt(e));)e+=c;return e<0||e>a.text.length?null:e}var Je=/gecko\/\d/i.test(navigator.userAgent),Ke=/MSIE \d/.test(navigator.userAgent),Le=Ke&&(null==document.documentMode||document.documentMode<8),Me=Ke&&(null==document.documentMode||document.documentMode<9),Ne=Ke&&(null==document.documentMode||document.documentMode<10),Oe=/Trident\/([7-9]|\d{2,})\./.test(navigator.userAgent),Pe=Ke||Oe,Qe=/WebKit\//.test(navigator.userAgent),Re=Qe&&/Qt\/\d+\.\d+/.test(navigator.userAgent),Se=/Chrome\//.test(navigator.userAgent),Te=/Opera\//.test(navigator.userAgent),Ue=/Apple Computer/.test(navigator.vendor),Ve=/KHTML\//.test(navigator.userAgent),We=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),Xe=/PhantomJS/.test(navigator.userAgent),Ye=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Ze=Ye||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),$e=Ye||/Mac/.test(navigator.platform),_e=/win/i.test(navigator.platform),af=Te&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);af&&(af=Number(af[1])),af&&af>=15&&(Te=!1,Qe=!0);var bf=$e&&(Re||Te&&(null==af||af<12.11)),cf=Je||Pe&&!Me,df=!1,ef=!1,ff=a.Pos=function(a,b){if(!(this instanceof ff))return new ff(a,b);this.line=a,this.ch=b},gf=a.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch};U.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var c=this.ranges[b],d=a.ranges[b];if(0!=gf(c.anchor,d.anchor)||0!=gf(c.head,d.head))return!1}return!0},deepCopy:function(){for(var a=[],b=0;b<this.ranges.length;b++)a[b]=new V(R(this.ranges[b].anchor),R(this.ranges[b].head));return new U(a,this.primIndex)},somethingSelected:function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},contains:function(a,b){b||(b=a);for(var c=0;c<this.ranges.length;c++){var d=this.ranges[c];if(gf(b,d.from())>=0&&gf(a,d.to())<=0)return c}return-1}},V.prototype={from:function(){return T(this.anchor,this.head)},to:function(){return S(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var hf,jf,kf,lf={left:0,right:0,top:0,bottom:0},mf=0,nf=0,of=0,pf=null;Pe?pf=-.53:Je?pf=15:Se?pf=-.7:Ue&&(pf=-1/3);var qf,rf=null,sf=a.changeEnd=function(a){return a.text?ff(a.from.line+a.text.length-1,_d(a.text).length+(1==a.text.length?a.from.ch:0)):a.to};a.prototype={constructor:a,focus:function(){window.focus(),nb(this),kb(this)},setOption:function(a,b){var c=this.options,d=c[a];c[a]==b&&"mode"!=a||(c[a]=b,uf.hasOwnProperty(a)&&Za(this,uf[a])(this,b,d))},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](a)},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==a||"string"!=typeof b[c]&&b[c].name==a)return b.splice(c,1),!0},addOverlay:$a(function(b,c){var d=b.token?b:a.getMode(this.options,b);if(d.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:d,modeSpec:b,opaque:c&&c.opaque}),this.state.modeGen++,cb(this)}),removeOverlay:$a(function(a){for(var b=this.state.overlays,c=0;c<b.length;++c){var d=b[c].modeSpec;if(d==a||"string"==typeof a&&d.name==a)return b.splice(c,1),this.state.modeGen++,void cb(this)}}),indentLine:$a(function(a,b,c){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract"),_(this.doc,a)&&ic(this,a,b,c)}),indentSelection:$a(function(a){for(var b=this.doc.sel.ranges,c=-1,d=0;d<b.length;d++){var e=b[d];if(e.empty())e.head.line>c&&(ic(this,e.head.line,a,!0),c=e.head.line,d==this.doc.sel.primIndex&&gc(this));else{var f=Math.max(c,e.from().line),g=e.to();c=Math.min(this.lastLine(),g.line-(g.ch?0:1))+1;for(var h=f;h<c;++h)ic(this,h,a)}}}),getTokenAt:function(a,b){var c=this.doc;a=Z(c,a);for(var d=va(this,a.line,b),e=this.doc.mode,f=sd(c,a.line),g=new If(f.text,this.options.tabSize);g.pos<a.ch&&!g.eol();){g.start=g.pos;var h=_c(e,g,d)}return{start:g.start,end:g.pos,string:g.current(),type:h||null,state:d}},getTokenTypeAt:function(a){a=Z(this.doc,a);var b,c=cd(this,sd(this.doc,a.line)),d=0,e=(c.length-1)/2,f=a.ch;if(0==f)b=c[2];else for(;;){var g=d+e>>1;if((g?c[2*g-1]:0)>=f)e=g;else{if(!(c[2*g+1]<f)){b=c[2*g+2];break}d=g+1}}var h=b?b.indexOf("cm-overlay "):-1;return h<0?b:0==h?null:b.slice(0,h-1)},getModeAt:function(b){var c=this.doc.mode;return c.innerMode?a.innerMode(c,this.getTokenAt(b).state).mode:c},getHelper:function(a,b){return this.getHelpers(a,b)[0]},getHelpers:function(a,b){var c=[];if(!Af.hasOwnProperty(b))return Af;var d=Af[b],e=this.getModeAt(a);if("string"==typeof e[b])d[e[b]]&&c.push(d[e[b]]);else if(e[b])for(var f=0;f<e[b].length;f++){var g=d[e[b][f]];g&&c.push(g)}else e.helperType&&d[e.helperType]?c.push(d[e.helperType]):d[e.name]&&c.push(d[e.name]);for(var f=0;f<d._global.length;f++){var h=d._global[f];h.pred(e,this)&&-1==ae(c,h.val)&&c.push(h.val)}return c},getStateAfter:function(a,b){var c=this.doc;return a=Y(c,null==a?c.first+c.size-1:a),va(this,a+1,b)},cursorCoords:function(a,b){var c,d=this.doc.sel.primary();return c=null==a?d.head:"object"==typeof a?Z(this.doc,a):a?d.from():d.to(),Pa(this,c,b||"page")},charCoords:function(a,b){return Oa(this,Z(this.doc,a),b||"page")},coordsChar:function(a,b){return a=Na(this,a,b||"page"),Sa(this,a.left,a.top)},lineAtHeight:function(a,b){return a=Na(this,{top:a,left:0},b||"page").top,xd(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b){var c=!1,d=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>d&&(a=d,c=!0);var e=sd(this.doc,a);return Ma(this,e,{top:0,left:0},b||"page").top+(c?this.doc.height-yd(e):0)},defaultTextHeight:function(){return Ua(this.display)},defaultCharWidth:function(){return Va(this.display)},setGutterMarker:$a(function(a,b,c){return jc(this,a,"gutter",function(a){var d=a.gutterMarkers||(a.gutterMarkers={});return d[b]=c,!c&&ge(d)&&(a.gutterMarkers=null),!0})}),clearGutter:$a(function(a){var b=this,c=b.doc,d=c.first;c.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&(c.gutterMarkers[a]=null,db(b,d,"gutter"),ge(c.gutterMarkers)&&(c.gutterMarkers=null)),++d})}),addLineClass:$a(function(a,b,c){return jc(this,a,"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"wrapClass";if(a[d]){if(new RegExp("(?:^|\\s)"+c+"(?:$|\\s)").test(a[d]))return!1;a[d]+=" "+c}else a[d]=c;return!0})}),removeLineClass:$a(function(a,b,c){return jc(this,a,"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"wrapClass",e=a[d];if(!e)return!1;if(null==c)a[d]=null;else{var f=e.match(new RegExp("(?:^|\\s+)"+c+"(?:$|\\s+)"));if(!f)return!1;var g=f.index+f[0].length;a[d]=e.slice(0,f.index)+(f.index&&g!=e.length?" ":"")+e.slice(g)||null}return!0})}),addLineWidget:$a(function(a,b,c){return Wc(this,a,b,c)}),removeLineWidget:function(a){a.clear()},lineInfo:function(a){if("number"==typeof a){if(!_(this.doc,a))return null;var b=a;if(!(a=sd(this.doc,a)))return null}else{var b=wd(a);if(null==b)return null}return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,c,d,e){var f=this.display;a=Pa(this,Z(this.doc,a));var g=a.bottom,h=a.left;if(b.style.position="absolute",f.sizer.appendChild(b),"over"==d)g=a.top;else if("above"==d||"near"==d){var i=Math.max(f.wrapper.clientHeight,this.doc.height),j=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);("above"==d||a.bottom+b.offsetHeight>i)&&a.top>b.offsetHeight?g=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=i&&(g=a.bottom),h+b.offsetWidth>j&&(h=j-b.offsetWidth)}b.style.top=g+"px",b.style.left=b.style.right="","right"==e?(h=f.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?h=0:"middle"==e&&(h=(f.sizer.clientWidth-b.offsetWidth)/2),b.style.left=h+"px"),c&&dc(this,h,g,h+b.offsetWidth,g+b.offsetHeight)},triggerOnKeyDown:$a(Jb),triggerOnKeyPress:$a(Mb),triggerOnKeyUp:$a(Lb),execCommand:function(a){if(Df.hasOwnProperty(a))return Df[a](this)},findPosH:function(a,b,c,d){var e=1;b<0&&(e=-1,b=-b);for(var f=0,g=Z(this.doc,a);f<b&&(g=lc(this.doc,g,e,c,d),!g.hitSide);++f);return g},moveH:$a(function(a,b){var c=this;c.extendSelectionsBy(function(d){return c.display.shift||c.doc.extend||d.empty()?lc(c.doc,d.head,a,b,c.options.rtlMoveVisually):a<0?d.from():d.to()},eg)}),deleteH:$a(function(a,b){var c=this.doc.sel,d=this.doc;c.somethingSelected()?d.replaceSelection("",null,"+delete"):kc(this,function(c){var e=lc(d,c.head,a,b,!1);return a<0?{from:e,to:c.head}:{from:c.head,to:e}})}),findPosV:function(a,b,c,d){var e=1,f=d;b<0&&(e=-1,b=-b);for(var g=0,h=Z(this.doc,a);g<b;++g){var i=Pa(this,h,"div");if(null==f?f=i.left:i.left=f,h=mc(this,i,e,c),h.hitSide)break}return h},moveV:$a(function(a,b){var c=this,d=this.doc,e=[],f=!c.display.shift&&!d.extend&&d.sel.somethingSelected();if(d.extendSelectionsBy(function(g){if(f)return a<0?g.from():g.to();var h=Pa(c,g.head,"div");null!=g.goalColumn&&(h.left=g.goalColumn),e.push(h.left);var i=mc(c,h,a,b);return"page"==b&&g==d.sel.primary()&&fc(c,null,Oa(c,i,"div").top-h.top),i},eg),e.length)for(var g=0;g<d.sel.ranges.length;g++)d.sel.ranges[g].goalColumn=e[g]}),toggleOverwrite:function(a){null!=a&&a==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?pe(this.display.cursorDiv,"CodeMirror-overwrite"):oe(this.display.cursorDiv,"CodeMirror-overwrite"),$f(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return me()==this.display.input},scrollTo:$a(function(a,b){null==a&&null==b||hc(this),null!=a&&(this.curOp.scrollLeft=a),null!=b&&(this.curOp.scrollTop=b)}),getScrollInfo:function(){var a=this.display.scroller,b=ag;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-b,width:a.scrollWidth-b,clientHeight:a.clientHeight-b,clientWidth:a.clientWidth-b}},scrollIntoView:$a(function(a,b){if(null==a?(a={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof a?a={from:ff(a,0),to:null}:null==a.from&&(a={from:a,to:null}),a.to||(a.to=a.from),a.margin=b||0,null!=a.from.line)hc(this),this.curOp.scrollToPos=a;else{var c=ec(this,Math.min(a.from.left,a.to.left),Math.min(a.from.top,a.to.top)-a.margin,Math.max(a.from.right,a.to.right),Math.max(a.from.bottom,a.to.bottom)+a.margin);this.scrollTo(c.scrollLeft,c.scrollTop)}}),setSize:$a(function(a,b){function c(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a}null!=a&&(this.display.wrapper.style.width=c(a)),null!=b&&(this.display.wrapper.style.height=c(b)),this.options.lineWrapping&&Ia(this),this.curOp.forceUpdate=!0,$f(this,"refresh",this)}),operation:function(a){return Ya(this,a)},refresh:$a(function(){var a=this.display.cachedTextHeight;cb(this),this.curOp.forceUpdate=!0,Ja(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),l(this),(null==a||Math.abs(a-Ua(this.display))>.5)&&g(this),$f(this,"refresh",this)}),swapDoc:$a(function(a){var b=this.doc;return b.cm=null,rd(this,a),Ja(this),mb(this),this.scrollTo(a.scrollLeft,a.scrollTop),Sd(this,"swapDoc",this,b),b}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Xd(a);var tf=a.defaults={},uf=a.optionHandlers={},vf=a.Init={toString:function(){return"CodeMirror.Init"}};oc("value","",function(a,b){a.setValue(b)},!0),oc("mode",null,function(a,b){a.doc.modeOption=b,c(a)},!0),oc("indentUnit",2,c,!0),oc("indentWithTabs",!1),oc("smartIndent",!0),oc("tabSize",4,function(a){d(a),Ja(a),cb(a)},!0),oc("specialChars",/[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\ufeff]/g,function(a,b){a.options.specialChars=new RegExp(b.source+(b.test("\t")?"":"|\t"),"g"),a.refresh()},!0),oc("specialCharPlaceholder",gd,function(a){a.refresh()},!0),oc("electricChars",!0),oc("rtlMoveVisually",!_e),oc("wholeLineUpdateBefore",!0),oc("theme","default",function(a){i(a),j(a)},!0),oc("keyMap","default",h),oc("extraKeys",null),oc("lineWrapping",!1,e,!0),oc("gutters",[],function(a){o(a.options),j(a)},!0),oc("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?v(a.display)+"px":"0",a.refresh()},!0),oc("coverGutterNextToScrollbar",!1,q,!0),oc("lineNumbers",!1,function(a){o(a.options),j(a)},!0),oc("firstLineNumber",1,j,!0),oc("lineNumberFormatter",function(a){return a},j,!0),oc("showCursorWhenSelecting",!1,oa,!0),oc("resetSelectionOnContextMenu",!0),oc("readOnly",!1,function(a,b){"nocursor"==b?(Ob(a),a.display.input.blur(),a.display.disabled=!0):(a.display.disabled=!1,b||mb(a))}),oc("disableInput",!1,function(a,b){b||mb(a)},!0),oc("dragDrop",!0),oc("cursorBlinkRate",530),oc("cursorScrollMargin",0),oc("cursorHeight",1),oc("workTime",100),oc("workDelay",100),oc("flattenSpans",!0,d,!0),oc("addModeClass",!1,d,!0),oc("pollInterval",100),oc("undoDepth",200,function(a,b){a.doc.history.undoDepth=b}),oc("historyEventDelay",1250),oc("viewportMargin",10,function(a){a.refresh()},!0),oc("maxHighlightLength",1e4,d,!0),oc("moveInputWithCursor",!0,function(a,b){b||(a.display.inputDiv.style.top=a.display.inputDiv.style.left=0)}),oc("tabindex",null,function(a,b){a.display.input.tabIndex=b||""}),oc("autofocus",null);var wf=a.modes={},xf=a.mimeModes={};a.defineMode=function(b,c){if(a.defaults.mode||"null"==b||(a.defaults.mode=b),arguments.length>2){c.dependencies=[];for(var d=2;d<arguments.length;++d)c.dependencies.push(arguments[d])}wf[b]=c},a.defineMIME=function(a,b){xf[a]=b},a.resolveMode=function(b){if("string"==typeof b&&xf.hasOwnProperty(b))b=xf[b];else if(b&&"string"==typeof b.name&&xf.hasOwnProperty(b.name)){var c=xf[b.name];"string"==typeof c&&(c={name:c}),b=ce(c,b),b.name=c.name}else if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return a.resolveMode("application/xml");return"string"==typeof b?{name:b}:b||{name:"null"}},a.getMode=function(b,c){var c=a.resolveMode(c),d=wf[c.name];if(!d)return a.getMode(b,"text/plain");var e=d(b,c);if(yf.hasOwnProperty(c.name)){var f=yf[c.name];for(var g in f)f.hasOwnProperty(g)&&(e.hasOwnProperty(g)&&(e["_"+g]=e[g]),e[g]=f[g])}if(e.name=c.name,c.helperType&&(e.helperType=c.helperType),c.modeProps)for(var g in c.modeProps)e[g]=c.modeProps[g];return e},a.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}}),a.defineMIME("text/plain","null");var yf=a.modeExtensions={};a.extendMode=function(a,b){de(b,yf.hasOwnProperty(a)?yf[a]:yf[a]={})},a.defineExtension=function(b,c){a.prototype[b]=c},a.defineDocExtension=function(a,b){Rf.prototype[a]=b},a.defineOption=oc;var zf=[];a.defineInitHook=function(a){zf.push(a)};var Af=a.helpers={};a.registerHelper=function(b,c,d){Af.hasOwnProperty(b)||(Af[b]=a[b]={_global:[]}),Af[b][c]=d},a.registerGlobalHelper=function(b,c,d,e){a.registerHelper(b,c,e),Af[b]._global.push({pred:d,val:e})};var Bf=a.copyState=function(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);var c={};for(var d in b){var e=b[d];e instanceof Array&&(e=e.concat([])),c[d]=e}return c},Cf=a.startState=function(a,b,c){return!a.startState||a.startState(b,c)};a.innerMode=function(a,b){for(;a.innerMode;){var c=a.innerMode(b);if(!c||c.mode==a)break;b=c.state,a=c.mode}return c||{mode:a,state:b}};var Df=a.commands={selectAll:function(a){a.setSelection(ff(a.firstLine(),0),ff(a.lastLine()),cg)},singleSelection:function(a){a.setSelection(a.getCursor("anchor"),a.getCursor("head"),cg)},killLine:function(a){kc(a,function(b){if(b.empty()){var c=sd(a.doc,b.head.line).text.length;return b.head.ch==c&&b.head.line<a.lastLine()?{from:b.head,to:ff(b.head.line+1,0)}:{from:b.head,to:ff(b.head.line,c)}}return{from:b.from(),to:b.to()}})},deleteLine:function(a){kc(a,function(b){return{from:ff(b.from().line,0),to:Z(a.doc,ff(b.to().line+1,0))}})},delLineLeft:function(a){kc(a,function(a){return{from:ff(a.from().line,0),to:a.from()}})},undo:function(a){a.undo()},redo:function(a){a.redo()},undoSelection:function(a){a.undoSelection()},redoSelection:function(a){a.redoSelection()},goDocStart:function(a){a.extendSelection(ff(a.firstLine(),0))},goDocEnd:function(a){a.extendSelection(ff(a.lastLine()))},goLineStart:function(a){a.extendSelectionsBy(function(b){return Ce(a,b.head.line)},eg)},goLineStartSmart:function(a){a.extendSelectionsBy(function(b){var c=Ce(a,b.head.line),d=a.getLineHandle(c.line),e=zd(d);if(!e||0==e[0].level){var f=Math.max(0,d.text.search(/\S/)),g=b.head.line==c.line&&b.head.ch<=f&&b.head.ch;return ff(c.line,g?0:f)}return c},eg)},goLineEnd:function(a){a.extendSelectionsBy(function(b){return De(a,b.head.line)},eg)},goLineRight:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div")},eg)},goLineLeft:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:0,top:c},"div")},eg)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goGroupRight:function(a){a.moveH(1,"group")},goGroupLeft:function(a){a.moveH(-1,"group")},goWordRight:function(a){a.moveH(1,"word")},delCharBefore:function(a){a.deleteH(-1,"char")},delCharAfter:function(a){a.deleteH(1,"char")},delWordBefore:function(a){a.deleteH(-1,"word")},delWordAfter:function(a){a.deleteH(1,"word")},delGroupBefore:function(a){a.deleteH(-1,"group")},delGroupAfter:function(a){a.deleteH(1,"group")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t")},insertSoftTab:function(a){for(var b=[],c=a.listSelections(),d=a.options.tabSize,e=0;e<c.length;e++){var f=c[e].from(),g=fg(a.getLine(f.line),f.ch,d);b.push(new Array(d-g%d+1).join(" "))}a.replaceSelections(b)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){Ya(a,function(){for(var b=a.listSelections(),c=[],d=0;d<b.length;d++){var e=b[d].head,f=sd(a.doc,e.line).text;if(f)if(e.ch==f.length&&(e=new ff(e.line,e.ch-1)),e.ch>0)e=new ff(e.line,e.ch+1),a.replaceRange(f.charAt(e.ch-1)+f.charAt(e.ch-2),ff(e.line,e.ch-2),e,"+transpose");else if(e.line>a.doc.first){var g=sd(a.doc,e.line-1).text;g&&a.replaceRange(f.charAt(0)+"\n"+g.charAt(g.length-1),ff(e.line-1,g.length-1),ff(e.line,1),"+transpose")}c.push(new V(e,e))}a.setSelections(c)})},newlineAndIndent:function(a){Ya(a,function(){for(var b=a.listSelections().length,c=0;c<b;c++){var d=a.listSelections()[c];a.replaceRange("\n",d.anchor,d.head,"+input"),a.indentLine(d.from().line+1,null,!0),gc(a)}})},toggleOverwrite:function(a){a.toggleOverwrite()}},Ef=a.keyMap={};Ef.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ef.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore",
"Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ef.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delLineLeft","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]},Ef.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},Ef.default=$e?Ef.macDefault:Ef.pcDefault;var Ff=a.lookupKey=function(a,b,c){function d(b){b=pc(b);var e=b[a];if(!1===e)return"stop";if(null!=e&&c(e))return!0;if(b.nofallthrough)return"stop";var f=b.fallthrough;if(null==f)return!1;if("[object Array]"!=Object.prototype.toString.call(f))return d(f);for(var g=0;g<f.length;++g){var h=d(f[g]);if(h)return h}return!1}for(var e=0;e<b.length;++e){var f=d(b[e]);if(f)return"stop"!=f}},Gf=a.isModifierKey=function(a){var b=ug[a.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b},Hf=a.keyName=function(a,b){if(Te&&34==a.keyCode&&a.char)return!1;var c=ug[a.keyCode];return null!=c&&!a.altGraphKey&&(a.altKey&&(c="Alt-"+c),(bf?a.metaKey:a.ctrlKey)&&(c="Ctrl-"+c),(bf?a.ctrlKey:a.metaKey)&&(c="Cmd-"+c),!b&&a.shiftKey&&(c="Shift-"+c),c)};a.fromTextArea=function(b,c){function d(){b.value=i.getValue()}if(c||(c={}),c.value=b.value,!c.tabindex&&b.tabindex&&(c.tabindex=b.tabindex),!c.placeholder&&b.placeholder&&(c.placeholder=b.placeholder),null==c.autofocus){var e=me();c.autofocus=e==b||null!=b.getAttribute("autofocus")&&e==document.body}if(b.form&&(Yf(b.form,"submit",d),!c.leaveSubmitMethodAlone)){var f=b.form,g=f.submit;try{var h=f.submit=function(){d(),f.submit=g,f.submit(),f.submit=h}}catch(j){}}b.style.display="none";var i=a(function(a){b.parentNode.insertBefore(a,b.nextSibling)},c);return i.save=d,i.getTextArea=function(){return b},i.toTextArea=function(){d(),b.parentNode.removeChild(i.getWrapperElement()),b.style.display="",b.form&&(Zf(b.form,"submit",d),"function"==typeof b.form.submit&&(b.form.submit=g))},i};var If=a.StringStream=function(a,b){this.pos=this.start=0,this.string=a,this.tabSize=b||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};If.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a)var c=b==a;else var c=b&&(a.test?a.test(b):a(b));if(c)return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);if(b>-1)return this.pos=b,!0},backUp:function(a){this.pos-=a},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=fg(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?fg(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return fg(this.string,null,this.tabSize)-(this.lineStart?fg(this.string,this.lineStart,this.tabSize):0)},match:function(a,b,c){if("string"!=typeof a){var d=this.string.slice(this.pos).match(a);return d&&d.index>0?null:(d&&!1!==b&&(this.pos+=d[0].length),d)}var e=function(a){return c?a.toLowerCase():a};if(e(this.string.substr(this.pos,a.length))==e(a))return!1!==b&&(this.pos+=a.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}}};var Jf=a.TextMarker=function(a,b){this.lines=[],this.type=b,this.doc=a};Xd(Jf),Jf.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,b=a&&!a.curOp;if(b&&Wa(a),Wd(this,"clear")){var c=this.find();c&&Sd(this,"clear",c.from,c.to)}for(var d=null,e=null,f=0;f<this.lines.length;++f){var g=this.lines[f],h=wc(g.markedSpans,this);a&&!this.collapsed?db(a,wd(g),"text"):a&&(null!=h.to&&(e=wd(g)),null!=h.from&&(d=wd(g))),g.markedSpans=xc(g.markedSpans,h),null==h.from&&this.collapsed&&!Sc(this.doc,g)&&a&&vd(g,Ua(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var f=0;f<this.lines.length;++f){var i=Oc(this.lines[f]),j=m(i);j>a.display.maxLineLength&&(a.display.maxLine=i,a.display.maxLineLength=j,a.display.maxLineChanged=!0)}null!=d&&a&&this.collapsed&&cb(a,d,e+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&la(a.doc)),a&&Sd(a,"markerCleared",a,this),b&&Xa(a),this.parent&&this.parent.clear()}},Jf.prototype.find=function(a,b){null==a&&"bookmark"==this.type&&(a=1);for(var c,d,e=0;e<this.lines.length;++e){var f=this.lines[e],g=wc(f.markedSpans,this);if(null!=g.from&&(c=ff(b?f:wd(f),g.from),-1==a))return c;if(null!=g.to&&(d=ff(b?f:wd(f),g.to),1==a))return d}return c&&{from:c,to:d}},Jf.prototype.changed=function(){var a=this.find(-1,!0),b=this,c=this.doc.cm;a&&c&&Ya(c,function(){var d=a.line,e=wd(a.line),f=Da(c,e);if(f&&(Ha(f),c.curOp.selectionChanged=c.curOp.forceUpdate=!0),c.curOp.updateMaxLine=!0,!Sc(b.doc,d)&&null!=b.height){var g=b.height;b.height=null;var h=Vc(b)-g;h&&vd(d,d.height+h)}})},Jf.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;b.maybeHiddenMarkers&&-1!=ae(b.maybeHiddenMarkers,this)||(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Jf.prototype.detachLine=function(a){if(this.lines.splice(ae(this.lines,a),1),!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this)}};var Kf=0,Lf=a.SharedTextMarker=function(a,b){this.markers=a,this.primary=b;for(var c=0;c<a.length;++c)a[c].parent=this};Xd(Lf),Lf.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Sd(this,"clear")}},Lf.prototype.find=function(a,b){return this.primary.find(a,b)};var Mf=a.LineWidget=function(a,b,c){if(c)for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);this.cm=a,this.node=b};Xd(Mf),Mf.prototype.clear=function(){var a=this.cm,b=this.line.widgets,c=this.line,d=wd(c);if(null!=d&&b){for(var e=0;e<b.length;++e)b[e]==this&&b.splice(e--,1);b.length||(c.widgets=null);var f=Vc(this);Ya(a,function(){Uc(a,c,-f),db(a,d,"widget"),vd(c,Math.max(0,c.height-f))})}},Mf.prototype.changed=function(){var a=this.height,b=this.cm,c=this.line;this.height=null;var d=Vc(this)-a;d&&Ya(b,function(){b.curOp.forceUpdate=!0,Uc(b,c,d),vd(c,c.height+d)})};var Nf=a.Line=function(a,b,c){this.text=a,Gc(this,b),this.height=c?c(this):1};Xd(Nf),Nf.prototype.lineNo=function(){return wd(this)};var Of={},Pf={};od.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,b){for(var c=a,d=a+b;c<d;++c){var e=this.lines[c];this.height-=e.height,Yc(e),Sd(e,"delete")}this.lines.splice(a,b)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,b,c){this.height+=c,this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(var d=0;d<b.length;++d)b[d].parent=this},iterN:function(a,b,c){for(var d=a+b;a<d;++a)if(c(this.lines[a]))return!0}},pd.prototype={chunkSize:function(){return this.size},removeInner:function(a,b){this.size-=b;for(var c=0;c<this.children.length;++c){var d=this.children[c],e=d.chunkSize();if(a<e){var f=Math.min(b,e-a),g=d.height;if(d.removeInner(a,f),this.height-=g-d.height,e==f&&(this.children.splice(c--,1),d.parent=null),0==(b-=f))break;a=0}else a-=e}if(this.size-b<25&&(this.children.length>1||!(this.children[0]instanceof od))){var h=[];this.collapse(h),this.children=[new od(h)],this.children[0].parent=this}},collapse:function(a){for(var b=0;b<this.children.length;++b)this.children[b].collapse(a)},insertInner:function(a,b,c){this.size+=b.length,this.height+=c;for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(a<=f){if(e.insertInner(a,b,c),e.lines&&e.lines.length>50){for(;e.lines.length>50;){var g=e.lines.splice(e.lines.length-25,25),h=new od(g);e.height-=h.height,this.children.splice(d+1,0,h),h.parent=this}this.maybeSpill()}break}a-=f}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var b=a.children.splice(a.children.length-5,5),c=new pd(b);if(a.parent){a.size-=c.size,a.height-=c.height;var d=ae(a.parent.children,a);a.parent.children.splice(d+1,0,c)}else{var e=new pd(a.children);e.parent=a,a.children=[e,c],a=e}c.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,b,c){for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(a<f){var g=Math.min(b,f-a);if(e.iterN(a,g,c))return!0;if(0==(b-=g))break;a=0}else a-=f}}};var Qf=0,Rf=a.Doc=function(a,b,c){if(!(this instanceof Rf))return new Rf(a,b,c);null==c&&(c=0),pd.call(this,[new od([new Nf("",null)])]),this.first=c,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=c;var d=ff(c,0);this.sel=X(d),this.history=new Ad(null),this.id=++Qf,this.modeOption=b,"string"==typeof a&&(a=rg(a)),nd(this,{from:d,to:d,text:a}),ia(this,X(d),cg)};Rf.prototype=ce(pd.prototype,{constructor:Rf,iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){for(var c=0,d=0;d<b.length;++d)c+=b[d].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=ud(this,this.first,this.first+this.size);return!1===a?b:b.join(a||"\n")},setValue:_a(function(a){var b=ff(this.first,0),c=this.first+this.size-1;Wb(this,{from:b,to:ff(c,sd(this,c).text.length),text:rg(a),origin:"setValue"},!0),ia(this,X(b))}),replaceRange:function(a,b,c,d){b=Z(this,b),c=c?Z(this,c):b,ac(this,a,b,c,d)},getRange:function(a,b,c){var d=td(this,Z(this,a),Z(this,b));return!1===c?d:d.join(c||"\n")},getLine:function(a){var b=this.getLineHandle(a);return b&&b.text},getLineHandle:function(a){if(_(this,a))return sd(this,a)},getLineNumber:function(a){return wd(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=sd(this,a)),Oc(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return Z(this,a)},getCursor:function(a){var b=this.sel.primary();return null==a||"head"==a?b.head:"anchor"==a?b.anchor:"end"==a||"to"==a||!1===a?b.to():b.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:_a(function(a,b,c){fa(this,Z(this,"number"==typeof a?ff(a,b||0):a),null,c)}),setSelection:_a(function(a,b,c){fa(this,Z(this,a),Z(this,b||a),c)}),extendSelection:_a(function(a,b,c){ca(this,Z(this,a),b&&Z(this,b),c)}),extendSelections:_a(function(a,b){da(this,aa(this,a,b))}),extendSelectionsBy:_a(function(a,b){da(this,be(this.sel.ranges,a),b)}),setSelections:_a(function(a,b,c){if(a.length){for(var d=0,e=[];d<a.length;d++)e[d]=new V(Z(this,a[d].anchor),Z(this,a[d].head));null==b&&(b=Math.min(a.length-1,this.sel.primIndex)),ia(this,W(e,b),c)}}),addSelection:_a(function(a,b,c){var d=this.sel.ranges.slice(0);d.push(new V(Z(this,a),Z(this,b||a))),ia(this,W(d,d.length-1),c)}),getSelection:function(a){for(var b,c=this.sel.ranges,d=0;d<c.length;d++){var e=td(this,c[d].from(),c[d].to());b=b?b.concat(e):e}return!1===a?b:b.join(a||"\n")},getSelections:function(a){for(var b=[],c=this.sel.ranges,d=0;d<c.length;d++){var e=td(this,c[d].from(),c[d].to());!1!==a&&(e=e.join(a||"\n")),b[d]=e}return b},replaceSelection:function(a,b,c){for(var d=[],e=0;e<this.sel.ranges.length;e++)d[e]=a;this.replaceSelections(d,b,c||"+input")},replaceSelections:_a(function(a,b,c){for(var d=[],e=this.sel,f=0;f<e.ranges.length;f++){var g=e.ranges[f];d[f]={from:g.from(),to:g.to(),text:rg(a[f]),origin:c}}for(var h=b&&"end"!=b&&Ub(this,d,b),f=d.length-1;f>=0;f--)Wb(this,d[f]);h?ha(this,h):this.cm&&gc(this.cm)}),undo:_a(function(){Yb(this,"undo")}),redo:_a(function(){Yb(this,"redo")}),undoSelection:_a(function(){Yb(this,"undo",!0)}),redoSelection:_a(function(){Yb(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,b=0,c=0,d=0;d<a.done.length;d++)a.done[d].ranges||++b;for(var d=0;d<a.undone.length;d++)a.undone[d].ranges||++c;return{undo:b,redo:c}},clearHistory:function(){this.history=new Ad(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Ld(this.history.done),undone:Ld(this.history.undone)}},setHistory:function(a){var b=this.history=new Ad(this.history.maxGeneration);b.done=Ld(a.done.slice(0),null,!0),b.undone=Ld(a.undone.slice(0),null,!0)},markText:function(a,b,c){return qc(this,Z(this,a),Z(this,b),c,"range")},setBookmark:function(a,b){var c={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared};return a=Z(this,a),qc(this,a,a,c,"bookmark")},findMarksAt:function(a){a=Z(this,a);var b=[],c=sd(this,a.line).markedSpans;if(c)for(var d=0;d<c.length;++d){var e=c[d];(null==e.from||e.from<=a.ch)&&(null==e.to||e.to>=a.ch)&&b.push(e.marker.parent||e.marker)}return b},findMarks:function(a,b,c){a=Z(this,a),b=Z(this,b);var d=[],e=a.line;return this.iter(a.line,b.line+1,function(f){var g=f.markedSpans;if(g)for(var h=0;h<g.length;h++){var i=g[h];e==a.line&&a.ch>i.to||null==i.from&&e!=a.line||e==b.line&&i.from>b.ch||c&&!c(i.marker)||d.push(i.marker.parent||i.marker)}++e}),d},getAllMarks:function(){var a=[];return this.iter(function(b){var c=b.markedSpans;if(c)for(var d=0;d<c.length;++d)null!=c[d].from&&a.push(c[d].marker)}),a},posFromIndex:function(a){var b,c=this.first;return this.iter(function(d){var e=d.text.length+1;if(e>a)return b=a,!0;a-=e,++c}),Z(this,ff(c,b))},indexFromPos:function(a){a=Z(this,a);var b=a.ch;return a.line<this.first||a.ch<0?0:(this.iter(this.first,a.line,function(a){b+=a.text.length+1}),b)},copy:function(a){var b=new Rf(ud(this,this.first,this.first+this.size),this.modeOption,this.first);return b.scrollTop=this.scrollTop,b.scrollLeft=this.scrollLeft,b.sel=this.sel,b.extend=!1,a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory())),b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from),null!=a.to&&a.to<c&&(c=a.to);var d=new Rf(ud(this,b,c),a.mode||this.modeOption,b);return a.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:a.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],tc(d,sc(this)),d},unlinkDoc:function(b){if(b instanceof a&&(b=b.doc),this.linked)for(var c=0;c<this.linked.length;++c){var d=this.linked[c];if(d.doc==b){this.linked.splice(c,1),b.unlinkDoc(this),uc(sc(this));break}}if(b.history==this.history){var e=[b.id];qd(b,function(a){e.push(a.id)},!0),b.history=new Ad(null),b.history.done=Ld(this.history.done,e),b.history.undone=Ld(this.history.undone,e)}},iterLinkedDocs:function(a){qd(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),Rf.prototype.eachLine=Rf.prototype.iter;var Sf="iter insert remove copy getEditor".split(" ");for(var Tf in Rf.prototype)Rf.prototype.hasOwnProperty(Tf)&&ae(Sf,Tf)<0&&(a.prototype[Tf]=function(a){return function(){return a.apply(this.doc,arguments)}}(Rf.prototype[Tf]));Xd(Rf);var Uf,Vf=a.e_preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},Wf=a.e_stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},Xf=a.e_stop=function(a){Vf(a),Wf(a)},Yf=a.on=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent("on"+b,c);else{var d=a._handlers||(a._handlers={}),e=d[b]||(d[b]=[]);e.push(c)}},Zf=a.off=function(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent("on"+b,c);else{var d=a._handlers&&a._handlers[b];if(!d)return;for(var e=0;e<d.length;++e)if(d[e]==c){d.splice(e,1);break}}},$f=a.signal=function(a,b){var c=a._handlers&&a._handlers[b];if(c)for(var d=Array.prototype.slice.call(arguments,2),e=0;e<c.length;++e)c[e].apply(null,d)},_f=0,ag=30,bg=a.Pass={toString:function(){return"CodeMirror.Pass"}},cg={scroll:!1},dg={origin:"*mouse"},eg={origin:"+move"};Yd.prototype.set=function(a,b){clearTimeout(this.id),this.id=setTimeout(b,a)};var fg=a.countColumn=function(a,b,c,d,e){null==b&&-1==(b=a.search(/[^\s\u00a0]/))&&(b=a.length);for(var f=d||0,g=e||0;;){var h=a.indexOf("\t",f);if(h<0||h>=b)return g+(b-f);g+=h-f,g+=c-g%c,f=h+1}},gg=[""],hg=function(a){a.select()};Ye?hg=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:Pe&&(hg=function(a){try{a.select()}catch(b){}}),[].indexOf&&(ae=function(a,b){return a.indexOf(b)}),[].map&&(be=function(a,b){return a.map(b)});var ig,jg=/[\u00df\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,kg=a.isWordChar=function(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||jg.test(a))},lg=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;ig=document.createRange?function(a,b,c){var d=document.createRange();return d.setEnd(a,c),d.setStart(a,b),d}:function(a,b,c){var d=document.body.createTextRange();return d.moveToElementText(a.parentNode),d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",b),d},Ke&&(me=function(){try{return document.activeElement}catch(a){return document.body}});var mg,ng,og,pg=!1,qg=function(){if(Me)return!1;var a=ie("div");return"draggable"in a||"dragDrop"in a}(),rg=a.splitLines=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],d=a.length;b<=d;){var e=a.indexOf("\n",b);-1==e&&(e=a.length);var f=a.slice(b,"\r"==a.charAt(e-1)?e-1:e),g=f.indexOf("\r");-1!=g?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)},sg=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return!(!b||b.parentElement()!=a)&&0!=b.compareEndPoints("StartToEnd",b)},tg=function(){var a=ie("div");return"oncopy"in a||(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy)}(),ug={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};a.keyNames=ug,function(){for(var a=0;a<10;a++)ug[a+48]=ug[a+96]=String(a);for(var a=65;a<=90;a++)ug[a]=String.fromCharCode(a);for(var a=1;a<=12;a++)ug[a+111]=ug[a+63235]="F"+a}();var vg,wg=function(){function a(a){return a<=247?c.charAt(a):1424<=a&&a<=1524?"R":1536<=a&&a<=1773?d.charAt(a-1536):1774<=a&&a<=2220?"r":8192<=a&&a<=8203?"w":8204==a?"b":"L"}function b(a,b,c){this.level=a,this.from=b,this.to=c}var c="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",d="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,f=/[stwN]/,g=/[LRr]/,h=/[Lb1n]/,i=/[1n]/,j="L";return function(c){if(!e.test(c))return!1;for(var d,k=c.length,l=[],m=0;m<k;++m)l.push(d=a(c.charCodeAt(m)));for(var m=0,n=j;m<k;++m){var d=l[m];"m"==d?l[m]=n:n=d}for(var m=0,o=j;m<k;++m){var d=l[m];"1"==d&&"r"==o?l[m]="n":g.test(d)&&(o=d,"r"==d&&(l[m]="R"))}for(var m=1,n=l[0];m<k-1;++m){var d=l[m];"+"==d&&"1"==n&&"1"==l[m+1]?l[m]="1":","!=d||n!=l[m+1]||"1"!=n&&"n"!=n||(l[m]=n),n=d}for(var m=0;m<k;++m){var d=l[m];if(","==d)l[m]="N";else if("%"==d){for(var p=m+1;p<k&&"%"==l[p];++p);for(var q=m&&"!"==l[m-1]||p<k&&"1"==l[p]?"1":"N",r=m;r<p;++r)l[r]=q;m=p-1}}for(var m=0,o=j;m<k;++m){var d=l[m];"L"==o&&"1"==d?l[m]="L":g.test(d)&&(o=d)}for(var m=0;m<k;++m)if(f.test(l[m])){for(var p=m+1;p<k&&f.test(l[p]);++p);for(var s="L"==(m?l[m-1]:j),t="L"==(p<k?l[p]:j),q=s||t?"L":"R",r=m;r<p;++r)l[r]=q;m=p-1}for(var u,v=[],m=0;m<k;)if(h.test(l[m])){var w=m;for(++m;m<k&&h.test(l[m]);++m);v.push(new b(0,w,m))}else{var x=m,y=v.length;for(++m;m<k&&"L"!=l[m];++m);for(var r=x;r<m;)if(i.test(l[r])){x<r&&v.splice(y,0,new b(1,x,r));var z=r;for(++r;r<m&&i.test(l[r]);++r);v.splice(y,0,new b(2,z,r)),x=r}else++r;x<m&&v.splice(y,0,new b(1,x,m))}return 1==v[0].level&&(u=c.match(/^\s+/))&&(v[0].from=u[0].length,v.unshift(new b(0,0,u[0].length))),1==_d(v).level&&(u=c.match(/\s+$/))&&(_d(v).to-=u[0].length,v.push(new b(0,k-u[0].length,k))),v[0].level!=_d(v).level&&v.push(new b(v[0].level,k,k)),v}}();return a.version="4.2.0",a}),function(){"use strict";function a(a,c,d){function e(b){var d=f(a,c);if(!d||d.to.line-d.from.line<g)return null;for(var e=a.findMarksAt(d.from),h=0;h<e.length;++h)if(e[h].__isFold){if(!b)return null;d.cleared=!0,e[h].clear()}return d}var f=d&&(d.call?d:d.rangeFinder);if(f||(f=a.getHelper(c,"fold")),f){"number"==typeof c&&(c=CodeMirror.Pos(c,0));var g=d&&d.minFoldSize||0,h=e(!0);if(d&&d.scanUp)for(;!h&&c.line>a.firstLine();)c=CodeMirror.Pos(c.line-1,0),h=e(!1);if(h&&!h.cleared){var i=b(d);CodeMirror.on(i,"mousedown",function(){j.clear()});var j=a.markText(h.from,h.to,{replacedWith:i,clearOnEnter:!0,__isFold:!0});j.on("clear",function(b,c){CodeMirror.signal(a,"unfold",a,b,c)}),CodeMirror.signal(a,"fold",a,h.from,h.to)}}}function b(a){var b=a&&a.widget||"↔";if("string"==typeof b){var c=document.createTextNode(b);b=document.createElement("span"),b.appendChild(c),b.className="CodeMirror-foldmarker"}return b}CodeMirror.newFoldFunction=function(b,c){return function(d,e){a(d,e,{rangeFinder:b,widget:c})}},CodeMirror.defineExtension("foldCode",function(b,c){a(this,b,c)}),CodeMirror.registerHelper("fold","combine",function(){var a=Array.prototype.slice.call(arguments,0);return function(b,c){for(var d=0;d<a.length;++d){var e=a[d](b,c);if(e)return e}}})}(),function(){"use strict";function a(a){this.options=a,this.from=this.to=0}function b(a){return!0===a&&(a={}),null==a.gutter&&(a.gutter="CodeMirror-foldgutter"),null==a.indicatorOpen&&(a.indicatorOpen="CodeMirror-foldgutter-open"),null==a.indicatorFolded&&(a.indicatorFolded="CodeMirror-foldgutter-folded"),a}function c(a,b){for(var c=a.findMarksAt(k(b)),d=0;d<c.length;++d)if(c[d].__isFold&&c[d].find().from.line==b)return!0}function d(a){if("string"==typeof a){var b=document.createElement("div");return b.className=a,b}return a.cloneNode(!0)}function e(a,b,e){var f=a.state.foldGutter.options,g=b;a.eachLine(b,e,function(b){var e=null;if(c(a,g))e=d(f.indicatorFolded);else{var h=k(g,0),i=f.rangeFinder||a.getHelper(h,"fold"),j=i&&i(a,h);j&&j.from.line+1<j.to.line&&(e=d(f.indicatorOpen))}a.setGutterMarker(b,f.gutter,e),++g})}function f(a){var b=a.getViewport(),c=a.state.foldGutter;c&&(a.operation(function(){e(a,b.from,b.to)}),c.from=b.from,c.to=b.to)}function g(a,b,c){var d=a.state.foldGutter.options;c==d.gutter&&a.foldCode(k(b,0),d.rangeFinder)}function h(a){var b=a.state.foldGutter,c=a.state.foldGutter.options;b.from=b.to=0,clearTimeout(b.changeUpdate),b.changeUpdate=setTimeout(function(){f(a)},c.foldOnChangeTimeSpan||600)}function i(a){var b=a.state.foldGutter,c=a.state.foldGutter.options;clearTimeout(b.changeUpdate),b.changeUpdate=setTimeout(function(){var c=a.getViewport();b.from==b.to||c.from-b.to>20||b.from-c.to>20?f(a):a.operation(function(){c.from<b.from&&(e(a,c.from,b.from),b.from=c.from),c.to>b.to&&(e(a,b.to,c.to),b.to=c.to)})},c.updateViewportTimeSpan)}function j(a,b){var c=a.state.foldGutter,d=b.line;d>=c.from&&d<c.to&&e(a,d,d+1)}CodeMirror.defineOption("foldGutter",!1,function(c,d,e){e&&e!=CodeMirror.Init&&(c.clearGutter(c.state.foldGutter.options.gutter),c.state.foldGutter=null,c.off("gutterClick",g),c.off("change",h),c.off("viewportChange",i),c.off("fold",j),c.off("unfold",j),c.off("swapDoc",f)),d&&(c.state.foldGutter=new a(b(d)),f(c),c.on("gutterClick",g),c.on("change",h),c.on("viewportChange",i),c.on("fold",j),c.on("unfold",j),c.on("swapDoc",f))});var k=CodeMirror.Pos}(),CodeMirror.defineMode("gfm",function(a){function b(a){return a.code=!1,null}var c=0,d={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(a){return{code:a.code,codeBlock:a.codeBlock,ateSpace:a.ateSpace}},token:function(a,b){if(b.codeBlock)return a.match(/^```/)?(b.codeBlock=!1,null):(a.skipToEnd(),null);if(a.sol()&&(b.code=!1),a.sol()&&a.match(/^```/))return a.skipToEnd(),b.codeBlock=!0,null;if("`"===a.peek()){a.next();var d=a.pos;a.eatWhile("`");var e=1+a.pos-d;return b.code?e===c&&(b.code=!1):(c=e,b.code=!0),null}if(b.code)return a.next(),null;if(a.eatSpace())return b.ateSpace=!0,null;if(a.sol()||b.ateSpace){if(b.ateSpace=!1,a.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return"link";if(a.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return"link"}return a.match(/^((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/i)?"link":(a.next(),null)},blankLine:b};return CodeMirror.defineMIME("gfmBase",{name:"markdown",underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:!0}),CodeMirror.overlayMode(CodeMirror.getMode(a,"gfmBase"),d)},"markdown"),CodeMirror.defineMode("javascript",function(a,b){function c(a,b,c){return b.tokenize=c,c(a,b)}function d(a,b){for(var c,d=!1;null!=(c=a.next());){if(c==b&&!d)return!1;d=!d&&"\\"==c}return d}function e(a,b,c){return S=a,T=c,b}function f(a,b){var f=a.next();if('"'==f||"'"==f)return c(a,b,g(f));if("."==f&&a.match(/^\d+(?:[eE][+\-]?\d+)?/))return e("number","number");if(/[\[\]{}\(\),;\:\.]/.test(f))return e(f);if("0"==f&&a.eat(/x/i))return a.eatWhile(/[\da-f]/i),e("number","number");if(/\d/.test(f))return a.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),e("number","number");if("/"==f)return a.eat("*")?c(a,b,h):a.eat("/")?(a.skipToEnd(),e("comment","comment")):"operator"==b.lastType||"keyword c"==b.lastType||/^[\[{}\(,;:]$/.test(b.lastType)?(d(a,"/"),a.eatWhile(/[gimy]/),e("regexp","string-2")):(a.eatWhile(Z),e("operator",null,a.current()));if("#"==f)return a.skipToEnd(),e("error","error");if(Z.test(f))return a.eatWhile(Z),e("operator",null,a.current());a.eatWhile(/[\w\$_]/);var i=a.current(),j=Y.propertyIsEnumerable(i)&&Y[i];return j&&"."!=b.lastType?e(j.type,j.style,i):e("variable","variable",i)}function g(a){return function(b,c){return d(b,a)||(c.tokenize=f),e("string","string")}}function h(a,b){for(var c,d=!1;c=a.next();){if("/"==c&&d){b.tokenize=f;break}d="*"==c}return e("comment","comment")}function i(a,b,c,d,e,f){this.indented=a,this.column=b,this.type=c,this.prev=e,this.info=f,null!=d&&(this.align=d)}function j(a,b){for(var c=a.localVars;c;c=c.next)if(c.name==b)return!0}function k(a,b,c,d,e){var f=a.cc;for(_.state=a,_.stream=e,_.marked=null,_.cc=f,a.lexical.hasOwnProperty("align")||(a.lexical.align=!0);;){if((f.length?f.pop():W?u:t)(c,d)){for(;f.length&&f[f.length-1].lex;)f.pop()();return _.marked?_.marked:"variable"==c&&j(a,d)?"variable-2":b}}}function l(){for(var a=arguments.length-1;a>=0;a--)_.cc.push(arguments[a])}function m(){return l.apply(null,arguments),!0}function n(a){function b(b){for(var c=b;c;c=c.next)if(c.name==a)return!0;return!1}var c=_.state;if(c.context){if(_.marked="def",b(c.localVars))return;c.localVars={name:a,next:c.localVars}}else{if(b(c.globalVars))return;c.globalVars={name:a,next:c.globalVars}}}function o(){_.state.context={prev:_.state.context,vars:_.state.localVars},_.state.localVars=aa}function p(){_.state.localVars=_.state.context.vars,_.state.context=_.state.context.prev}function q(a,b){var c=function(){var c=_.state,d=c.indented;"stat"==c.lexical.type&&(d=c.lexical.indented),c.lexical=new i(d,_.stream.column(),a,null,c.lexical,b)};return c.lex=!0,c}function r(){var a=_.state;a.lexical.prev&&(")"==a.lexical.type&&(a.indented=a.lexical.indented),a.lexical=a.lexical.prev)}function s(a){return function(b){return b==a?m():";"==a?l():m(arguments.callee)}}function t(a){
return"var"==a?m(q("vardef"),J,s(";"),r):"keyword a"==a?m(q("form"),u,t,r):"keyword b"==a?m(q("form"),t,r):"{"==a?m(q("}"),G,r):";"==a?m():"if"==a?m(q("form"),u,t,r,L):"function"==a?m(Q):"for"==a?m(q("form"),s("("),q(")"),M,s(")"),r,t,r):"variable"==a?m(q("stat"),B):"switch"==a?m(q("form"),u,q("}","switch"),s("{"),G,r,r):"case"==a?m(u,s(":")):"default"==a?m(s(":")):"catch"==a?m(q("form"),o,s("("),R,s(")"),t,r,p):l(q("stat"),u,s(";"),r)}function u(a){return w(a,!1)}function v(a){return w(a,!0)}function w(a,b){var c=b?A:z;return $.hasOwnProperty(a)?m(c):"function"==a?m(Q):"keyword c"==a?m(b?y:x):"("==a?m(q(")"),x,s(")"),r,c):"operator"==a?m(b?v:u):"["==a?m(q("]"),F(v,"]"),r,c):"{"==a?m(q("}"),F(D,"}"),r,c):m()}function x(a){return a.match(/[;\}\)\],]/)?l():l(u)}function y(a){return a.match(/[;\}\)\],]/)?l():l(v)}function z(a,b){return","==a?m(u):A(a,b,!1)}function A(a,b,c){var d=0==c?z:A,e=0==c?u:v;return"operator"==a?/\+\+|--/.test(b)?m(d):"?"==b?m(u,s(":"),e):m(e):";"!=a?"("==a?m(q(")","call"),F(v,")"),r,d):"."==a?m(C,d):"["==a?m(q("]"),x,s("]"),r,d):void 0:void 0}function B(a){return":"==a?m(r,t):l(z,s(";"),r)}function C(a){if("variable"==a)return _.marked="property",m()}function D(a,b){if("variable"==a){if(_.marked="property","get"==b||"set"==b)return m(E)}else"number"!=a&&"string"!=a||(_.marked=a+" property");if($.hasOwnProperty(a))return m(s(":"),v)}function E(a){return":"==a?m(u):"variable"!=a?m(s(":"),u):(_.marked="property",m(Q))}function F(a,b){function c(d){if(","==d){var e=_.state.lexical;return"call"==e.info&&(e.pos=(e.pos||0)+1),m(a,c)}return d==b?m():m(s(b))}return function(d){return d==b?m():l(a,c)}}function G(a){return"}"==a?m():l(t,G)}function H(a){return":"==a?m(I):l()}function I(a){return"variable"==a?(_.marked="variable-3",m()):l()}function J(a,b){return"variable"==a?(n(b),X?m(H,K):m(K)):l()}function K(a,b){return"="==b?m(v,K):","==a?m(J):void 0}function L(a,b){if("keyword b"==a&&"else"==b)return m(q("form"),t,r)}function M(a){return"var"==a?m(J,s(";"),O):";"==a?m(O):"variable"==a?m(N):l(u,s(";"),O)}function N(a,b){return"in"==b?m(u):m(z,O)}function O(a,b){return";"==a?m(P):"in"==b?m(u):l(u,s(";"),P)}function P(a){")"!=a&&m(u)}function Q(a,b){return"variable"==a?(n(b),m(Q)):"("==a?m(q(")"),o,F(R,")"),r,t,p):void 0}function R(a,b){if("variable"==a)return n(b),X?m(H):m()}var S,T,U=a.indentUnit,V=b.statementIndent,W=b.json,X=b.typescript,Y=function(){function a(a){return{type:a,style:"keyword"}}var b=a("keyword a"),c=a("keyword b"),d=a("keyword c"),e=a("operator"),f={type:"atom",style:"atom"},g={if:a("if"),while:b,with:b,else:c,do:c,try:c,finally:c,return:d,break:d,continue:d,new:d,delete:d,throw:d,var:a("var"),const:a("var"),let:a("var"),function:a("function"),catch:a("catch"),for:a("for"),switch:a("switch"),case:a("case"),default:a("default"),in:e,typeof:e,instanceof:e,true:f,false:f,null:f,undefined:f,NaN:f,Infinity:f,this:a("this")};if(X){var h={type:"variable",style:"variable-3"},i={interface:a("interface"),class:a("class"),extends:a("extends"),constructor:a("constructor"),public:a("public"),private:a("private"),protected:a("protected"),static:a("static"),super:a("super"),string:h,number:h,bool:h,any:h};for(var j in i)g[j]=i[j]}return g}(),Z=/[+\-*&%=<>!?|~^]/,$={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0},_={state:null,column:null,marked:null,cc:null},aa={name:"this",next:{name:"arguments"}};return r.lex=!0,{startState:function(a){return{tokenize:f,lastType:null,cc:[],lexical:new i((a||0)-U,0,"block",!1),localVars:b.localVars,globalVars:b.globalVars,context:b.localVars&&{vars:b.localVars},indented:0}},token:function(a,b){if(a.sol()&&(b.lexical.hasOwnProperty("align")||(b.lexical.align=!1),b.indented=a.indentation()),b.tokenize!=h&&a.eatSpace())return null;var c=b.tokenize(a,b);return"comment"==S?c:(b.lastType="operator"!=S||"++"!=T&&"--"!=T?S:"incdec",k(b,c,S,T,a))},indent:function(a,c){if(a.tokenize==h)return CodeMirror.Pass;if(a.tokenize!=f)return 0;for(var d=c&&c.charAt(0),e=a.lexical,g=a.cc.length-1;g>=0;--g){var i=a.cc[g];if(i==r)e=e.prev;else if(i!=L||/^else\b/.test(c))break}"stat"==e.type&&"}"==d&&(e=e.prev),V&&")"==e.type&&"stat"==e.prev.type&&(e=e.prev);var j=e.type,k=d==j;return"vardef"==j?e.indented+("operator"==a.lastType||","==a.lastType?4:0):"form"==j&&"{"==d?e.indented:"form"==j?e.indented+U:"stat"==j?e.indented+("operator"==a.lastType||","==a.lastType?V||U:0):"switch"!=e.info||k||0==b.doubleIndentSwitch?e.align?e.column+(k?0:1):e.indented+(k?0:U):e.indented+(/^(?:case|default)\b/.test(c)?U:2*U)},electricChars:":{}",blockCommentStart:W?null:"/*",blockCommentEnd:W?null:"*/",lineComment:W?null:"//",fold:"brace",helperType:W?"json":"javascript",jsonMode:W}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("text/ecmascript","javascript"),CodeMirror.defineMIME("application/javascript","javascript"),CodeMirror.defineMIME("application/ecmascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),CodeMirror.defineMIME("application/x-json",{name:"javascript",json:!0}),CodeMirror.defineMIME("text/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMIME("application/typescript",{name:"javascript",typescript:!0}),CodeMirror.defineMode("markdown",function(a,b){function c(a,b,c){return b.f=b.inline=c,c(a,b)}function d(a,b,c){return b.f=b.block=c,c(a,b)}function e(a){return a.linkTitle=!1,a.em=!1,a.strong=!1,a.quote=0,q||a.f!=g||(a.f=k,a.block=f),a.trailingSpace=0,a.trailingSpaceNewLine=!1,a.thisLineHasContent=!1,null}function f(a,e){var f=!1!==e.list;if(!1!==e.list&&e.indentationDiff>=0?(e.indentationDiff<4&&(e.indentation-=e.indentationDiff),e.list=null):!1!==e.list&&e.indentation>0?(e.list=null,e.listDepth=Math.floor(e.indentation/4)):!1!==e.list&&(e.list=!1,e.listDepth=0),e.indentationDiff>=4)return e.indentation-=4,a.skipToEnd(),w;if(a.eatSpace())return null;if("#"===a.peek()||e.prevLineHasContent&&a.match(O))e.header=!0;else if(a.eat(">"))for(e.indentation++,e.quote=1,a.eatSpace();a.eat(">");)a.eatSpace(),e.quote++;else{if("["===a.peek())return c(a,e,m);if(a.match(K,!0))return C;if(e.prevLineHasContent&&!f||!a.match(L,!0)&&!a.match(M,!0)){if(b.fencedCodeBlocks&&a.match(/^```([\w+#]*)/,!0))return e.localMode=t(RegExp.$1),e.localMode&&(e.localState=e.localMode.startState()),d(a,e,h),w}else e.indentation+=4,e.list=!0,e.listDepth++,b.taskLists&&a.match(N,!1)&&(e.taskList=!0)}return c(a,e,e.inline)}function g(a,b){var c=r.token(a,b.htmlState);return q&&"tag"===c&&"openTag"!==b.htmlState.type&&!b.htmlState.context&&(b.f=k,b.block=f),b.md_inside&&-1!=a.current().indexOf(">")&&(b.f=k,b.block=f,b.htmlState.context=void 0),c}function h(a,b){return a.sol()&&a.match(/^```/,!0)?(b.localMode=b.localState=null,b.f=k,b.block=f,w):b.localMode?b.localMode.token(a,b.localState):(a.skipToEnd(),w)}function i(a){var b=[];if(a.taskOpen)return"meta";if(a.taskClosed)return"property";if(a.strong&&b.push(J),a.em&&b.push(I),a.linkText&&b.push(G),a.code&&b.push(w),a.header&&b.push(v),a.quote&&b.push(a.quote%2?x:y),!1!==a.list){var c=(a.listDepth-1)%3;c?1===c?b.push(A):b.push(B):b.push(z)}return a.trailingSpaceNewLine?b.push("trailing-space-new-line"):a.trailingSpace&&b.push("trailing-space-"+(a.trailingSpace%2?"a":"b")),b.length?b.join(" "):null}function j(a,b){if(a.match(P,!0))return i(b)}function k(a,e){var f=e.text(a,e);if(void 0!==f)return f;if(e.list)return e.list=null,i(e);if(e.taskList){return"x"!==a.match(N,!0)[1]?e.taskOpen=!0:e.taskClosed=!0,e.taskList=!1,i(e)}e.taskOpen=!1,e.taskClosed=!1;var h=a.next();if("\\"===h)return a.next(),i(e);if(e.linkTitle){e.linkTitle=!1;var j=h;"("===h&&(j=")"),j=(j+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var k="^\\s*(?:[^"+j+"\\\\]+|\\\\\\\\|\\\\.)"+j;if(a.match(new RegExp(k),!0))return H}if("`"===h){var m=i(e),n=a.pos;a.eatWhile("`");var o=1+a.pos-n;return e.code?o===u?(e.code=!1,m):i(e):(u=o,e.code=!0,i(e))}if(e.code)return i(e);if("!"===h&&a.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return a.match(/\[[^\]]*\]/),e.inline=e.f=l,D;if("["===h&&a.match(/.*\](\(| ?\[)/,!1))return e.linkText=!0,i(e);if("]"===h&&e.linkText){var q=i(e);return e.linkText=!1,e.inline=e.f=l,q}if("<"===h&&a.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return c(a,e,p(E,">"));if("<"===h&&a.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return c(a,e,p(F,">"));if("<"===h&&a.match(/^\w/,!1)){if(-1!=a.string.indexOf(">")){/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(a.string.substring(1,a.string.indexOf(">")))&&(e.md_inside=!0)}return a.backUp(1),d(a,e,g)}if("<"===h&&a.match(/^\/\w*?>/))return e.md_inside=!1,"tag";var r=!1;if(!b.underscoresBreakWords&&"_"===h&&"_"!==a.peek()&&a.match(/(\w)/,!1)){var s=a.pos-2;if(s>=0){var t=a.string.charAt(s);"_"!==t&&t.match(/(\w)/,!1)&&(r=!0)}}var m=i(e);if("*"===h||"_"===h&&!r){if(e.strong===h&&a.eat(h))return e.strong=!1,m;if(!e.strong&&a.eat(h))return e.strong=h,i(e);if(e.em===h)return e.em=!1,m;if(!e.em)return e.em=h,i(e)}else if(" "===h&&(a.eat("*")||a.eat("_"))){if(" "===a.peek())return i(e);a.backUp(1)}return" "===h&&(a.match(/ +$/,!1)?e.trailingSpace++:e.trailingSpace&&(e.trailingSpaceNewLine=!0)),i(e)}function l(a,b){if(a.eatSpace())return null;var d=a.next();return"("===d||"["===d?c(a,b,p(H,"("===d?")":"]")):"error"}function m(a,b){return a.match(/^[^\]]*\]:/,!0)?(b.f=n,G):c(a,b,k)}function n(a,b){return a.eatSpace()?null:(a.match(/^[^\s]+/,!0),void 0===a.peek()?b.linkTitle=!0:a.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),b.f=b.inline=k,H)}function o(a){return Q[a]||(a=(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),Q[a]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+a+")")),Q[a]}function p(a,b,c){return c=c||k,function(d,e){return d.match(o(b)),e.inline=e.f=c,a}}var q=CodeMirror.modes.hasOwnProperty("xml"),r=CodeMirror.getMode(a,q?{name:"xml",htmlMode:!0}:"text/plain"),s={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},t=function(){var b,c,d={},e={},f=[];for(var g in CodeMirror.modes)CodeMirror.modes.propertyIsEnumerable(g)&&f.push(g);for(b=0;b<f.length;b++)d[f[b]]=f[b];var h=[];for(var g in CodeMirror.mimeModes)CodeMirror.mimeModes.propertyIsEnumerable(g)&&h.push({mime:g,mode:CodeMirror.mimeModes[g]});for(b=0;b<h.length;b++)c=h[b].mime,e[c]=h[b].mime;for(var i in s)(s[i]in d||s[i]in e)&&(d[i]=s[i]);return function(b){return d[b]?CodeMirror.getMode(a,d[b]):null}}();void 0===b.underscoresBreakWords&&(b.underscoresBreakWords=!0),void 0===b.fencedCodeBlocks&&(b.fencedCodeBlocks=!1),void 0===b.taskLists&&(b.taskLists=!1);var u=0,v="header",w="comment",x="atom",y="number",z="variable-2",A="variable-3",B="keyword",C="hr",D="tag",E="link",F="link",G="link",H="string",I="em",J="strong",K=/^([*\-=_])(?:\s*\1){2,}\s*$/,L=/^[*\-+]\s+/,M=/^[0-9]+\.\s+/,N=/^\[(x| )\](?=\s)/,O=/^(?:\={1,}|-{1,})$/,P=/^[^!\[\]*_\\<>` "'(]+/,Q=[];return{startState:function(){return{f:f,prevLineHasContent:!1,thisLineHasContent:!1,block:f,htmlState:CodeMirror.startState(r),indentation:0,inline:k,text:j,linkText:!1,linkTitle:!1,em:!1,strong:!1,header:!1,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1,parentIndentation:0}},copyState:function(a){return{f:a.f,prevLineHasContent:a.prevLineHasContent,thisLineHasContent:a.thisLineHasContent,block:a.block,htmlState:CodeMirror.copyState(r,a.htmlState),indentation:a.indentation,localMode:a.localMode,localState:a.localMode?CodeMirror.copyState(a.localMode,a.localState):null,inline:a.inline,text:a.text,linkTitle:a.linkTitle,em:a.em,strong:a.strong,header:a.header,taskList:a.taskList,list:a.list,listDepth:a.listDepth,quote:a.quote,trailingSpace:a.trailingSpace,trailingSpaceNewLine:a.trailingSpaceNewLine,parentIndentation:a.parentIndentation,md_inside:a.md_inside}},token:function(a,b){if(a.sol()){if(a.match(/^\s*$/,!0))return b.prevLineHasContent=!1,e(b);b.prevLineHasContent=b.thisLineHasContent,b.thisLineHasContent=!0,b.header=!1,b.taskList=!1,b.code=!1,b.trailingSpace=0,b.trailingSpaceNewLine=!1,b.f=b.block;var c=a.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length-b.parentIndentation,d=4*Math.floor((c-b.indentation-b.parentIndentation)/4);d>4&&(d=4);var f=b.indentation+d-b.parentIndentation;if(b.indentationDiff=f-b.indentation-b.parentIndentation,b.indentation=f,c>0)return null}return b.f(a,b)},blankLine:e,getType:i}},"xml"),CodeMirror.defineMIME("text/x-markdown","markdown"),CodeMirror.overlayMode=CodeMirror.overlayParser=function(a,b,c){return{startState:function(){return{base:CodeMirror.startState(a),overlay:CodeMirror.startState(b),basePos:0,baseCur:null,overlayPos:0,overlayCur:null}},copyState:function(c){return{base:CodeMirror.copyState(a,c.base),overlay:CodeMirror.copyState(b,c.overlay),basePos:c.basePos,baseCur:null,overlayPos:c.overlayPos,overlayCur:null}},token:function(d,e){return d.start==e.basePos&&(e.baseCur=a.token(d,e.base),e.basePos=d.pos),d.start==e.overlayPos&&(d.pos=d.start,e.overlayCur=b.token(d,e.overlay),e.overlayPos=d.pos),d.pos=Math.min(e.basePos,e.overlayPos),d.eol()&&(e.basePos=e.overlayPos=0),null==e.overlayCur?e.baseCur:null!=e.baseCur&&c?e.baseCur+" "+e.overlayCur:e.overlayCur},indent:a.indent&&function(b,c){return a.indent(b.base,c)},electricChars:a.electricChars,innerMode:function(b){return{state:b.base,mode:a}},blankLine:function(c){a.blankLine&&a.blankLine(c.base),b.blankLine&&b.blankLine(c.overlay)}}},function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){"use strict";function b(a,b){this.cm=a,this.options=this.buildOptions(b),this.widget=this.onClose=null}function c(a){return"string"==typeof a?a:a.text}function d(a,b){function c(a,c){var e;e="string"!=typeof c?function(a){return c(a,b)}:d.hasOwnProperty(c)?d[c]:c,f[a]=e}var d={Up:function(){b.moveFocus(-1)},Down:function(){b.moveFocus(1)},PageUp:function(){b.moveFocus(1-b.menuSize(),!0)},PageDown:function(){b.moveFocus(b.menuSize()-1,!0)},Home:function(){b.setFocus(0)},End:function(){b.setFocus(b.length-1)},Enter:b.pick,Esc:b.close},e=a.options.customKeys,f=e?{}:d;if(e)for(var g in e)e.hasOwnProperty(g)&&c(g,e[g]);var h=a.options.extraKeys;if(h)for(var g in h)h.hasOwnProperty(g)&&c(g,h[g]);return f}function e(a,b){for(;b&&b!=a;){if("LI"===b.nodeName.toUpperCase()&&b.parentNode==a)return b;b=b.parentNode}}function f(b,f){this.completion=b,this.data=f;var i=this,j=b.cm,k=this.hints=document.createElement("ul");k.className="CodeMirror-hints",this.selectedHint=f.selectedHint||0;for(var l=f.list,m=0;m<l.length;++m){var n=k.appendChild(document.createElement("li")),o=l[m],p=g+(m!=this.selectedHint?"":" "+h);null!=o.className&&(p=o.className+" "+p),n.className=p,o.render?o.render(n,f,o):n.appendChild(document.createTextNode(o.displayText||c(o))),n.hintId=m}var q=j.cursorCoords(b.options.alignWithWord?f.from:null),r=q.left,s=q.bottom,t=!0;k.style.left=r+"px",k.style.top=s+"px";var u=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),v=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(b.options.container||document.body).appendChild(k);var w=k.getBoundingClientRect();if(w.bottom-v>0){var x=w.bottom-w.top,y=w.top-(q.bottom-q.top);if(y-x>0)k.style.top=(s=y-x)+"px",t=!1;else if(x>v){k.style.height=v-5+"px",k.style.top=(s=q.bottom-w.top)+"px";var z=j.getCursor();f.from.ch!=z.ch&&(q=j.cursorCoords(z),k.style.left=(r=q.left)+"px",w=k.getBoundingClientRect())}}var A=w.left-u;if(A>0&&(w.right-w.left>u&&(k.style.width=u-5+"px",A-=w.right-w.left-u),k.style.left=(r=q.left-A)+"px"),j.addKeyMap(this.keyMap=d(b,{moveFocus:function(a,b){i.changeActive(i.selectedHint+a,b)},setFocus:function(a){i.changeActive(a)},menuSize:function(){return i.screenAmount()},length:l.length,close:function(){b.close()},pick:function(){i.pick()},data:f})),b.options.closeOnUnfocus){var B;j.on("blur",this.onBlur=function(){B=setTimeout(function(){b.close()},100)}),j.on("focus",this.onFocus=function(){clearTimeout(B)})}var C=j.getScrollInfo();return j.on("scroll",this.onScroll=function(){var a=j.getScrollInfo(),c=j.getWrapperElement().getBoundingClientRect(),d=s+C.top-a.top,e=d-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(t||(e+=k.offsetHeight),e<=c.top||e>=c.bottom)return b.close();k.style.top=d+"px",k.style.left=r+C.left-a.left+"px"}),a.on(k,"dblclick",function(a){var b=e(k,a.target||a.srcElement);b&&null!=b.hintId&&(i.changeActive(b.hintId),i.pick())}),a.on(k,"click",function(a){var c=e(k,a.target||a.srcElement);c&&null!=c.hintId&&(i.changeActive(c.hintId),b.options.completeOnSingleClick&&i.pick())}),a.on(k,"mousedown",function(){setTimeout(function(){j.focus()},20)}),a.signal(f,"select",l[0],k.firstChild),!0}var g="CodeMirror-hint",h="CodeMirror-hint-active";a.showHint=function(a,b,c){if(!b)return a.showHint(c);c&&c.async&&(b.async=!0);var d={hint:b};if(c)for(var e in c)d[e]=c[e];return a.showHint(d)},a.defineExtension("showHint",function(c){if(!(this.listSelections().length>1||this.somethingSelected())){this.state.completionActive&&this.state.completionActive.close();var d=this.state.completionActive=new b(this,c),e=d.options.hint;if(e){if(a.signal(this,"startCompletion",this),!e.async)return d.showHints(e(this,d.options));e(this,function(a){d.showHints(a)},d.options)}}}),b.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.widget&&this.widget.close(),this.onClose&&this.onClose(),a.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(b,d){var e=b.list[d];e.hint?e.hint(this.cm,b,e):this.cm.replaceRange(c(e),e.from||b.from,e.to||b.to,"complete"),a.signal(b,"pick",e),this.close()},showHints:function(a){if(!a||!a.list.length||!this.active())return this.close();this.options.completeSingle&&1==a.list.length?this.pick(a,0):this.showWidget(a)},showWidget:function(b){function c(){i||(i=!0,k.close(),k.cm.off("cursorActivity",h),b&&a.signal(b,"close"))}function d(){if(!i){a.signal(b,"update");var c=k.options.hint;c.async?c(k.cm,e,k.options):e(c(k.cm,k.options))}}function e(a){if(b=a,!i){if(!b||!b.list.length)return c();k.widget&&k.widget.close(),k.widget=new f(k,b)}}function g(){j&&(p(j),j=0)}function h(){g();var a=k.cm.getCursor(),b=k.cm.getLine(a.line);a.line!=m.line||b.length-a.ch!=n-m.ch||a.ch<m.ch||k.cm.somethingSelected()||a.ch&&l.test(b.charAt(a.ch-1))?k.close():(j=o(d),k.widget&&k.widget.close())}this.widget=new f(this,b),a.signal(b,"shown");var i,j=0,k=this,l=this.options.closeCharacters,m=this.cm.getCursor(),n=this.cm.getLine(m.line).length,o=window.requestAnimationFrame||function(a){return setTimeout(a,1e3/60)},p=window.cancelAnimationFrame||clearTimeout;this.cm.on("cursorActivity",h),this.onClose=c},buildOptions:function(a){var b=this.cm.options.hintOptions,c={};for(var d in i)c[d]=i[d];if(b)for(var d in b)void 0!==b[d]&&(c[d]=b[d]);if(a)for(var d in a)void 0!==a[d]&&(c[d]=a[d]);return c}},f.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var a=this.completion.cm;this.completion.options.closeOnUnfocus&&(a.off("blur",this.onBlur),a.off("focus",this.onFocus)),a.off("scroll",this.onScroll)}},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(b,c){if(b>=this.data.list.length?b=c?this.data.list.length-1:0:b<0&&(b=c?0:this.data.list.length-1),this.selectedHint!=b){var d=this.hints.childNodes[this.selectedHint];d.className=d.className.replace(" "+h,""),d=this.hints.childNodes[this.selectedHint=b],d.className+=" "+h,d.offsetTop<this.hints.scrollTop?this.hints.scrollTop=d.offsetTop-3:d.offsetTop+d.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=d.offsetTop+d.offsetHeight-this.hints.clientHeight+3),a.signal(this.data,"select",this.data.list[this.selectedHint],d)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},a.registerHelper("hint","auto",function(b,c){var d,e=b.getHelpers(b.getCursor(),"hint");if(e.length)for(var f=0;f<e.length;f++){var g=e[f](b,c);if(g&&g.list.length)return g}else if(d=b.getHelper(b.getCursor(),"hintWords")){if(d)return a.hint.fromList(b,{words:d})}else if(a.hint.anyword)return a.hint.anyword(b,c)}),a.registerHelper("hint","fromList",function(b,c){for(var d=b.getCursor(),e=b.getTokenAt(d),f=[],g=0;g<c.words.length;g++){var h=c.words[g];h.slice(0,e.string.length)==e.string&&f.push(h)}if(f.length)return{list:f,from:a.Pos(d.line,e.start),to:a.Pos(d.line,e.end)}}),a.commands.autocomplete=a.showHint;var i={hint:a.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!1,container:null,customKeys:null,extraKeys:null};a.defineOption("hintOptions",null)}),CodeMirror.defineMode("xml",function(a,b){function c(a,b){function c(c){return b.tokenize=c,c(a,b)}var e=a.next();if("<"==e){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?c(f("atom","]]>")):null:a.match("--")?c(f("comment","--\x3e")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),c(g(1))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),b.tokenize=f("meta","?>"),"meta";var h=a.eat("/");t="";for(var i;i=a.eat(/[^\s\u00a0=<>\"\'\/?]/);)t+=i;return t?(u=h?"closeTag":"openTag",b.tokenize=d,"tag"):"error"}if("&"==e){var j;return j=a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"),j?"atom":"error"}return a.eatWhile(/[^&<]/),null}function d(a,b){var d=a.next();return">"==d||"/"==d&&a.eat(">")?(b.tokenize=c,u=">"==d?"endTag":"selfcloseTag","tag"):"="==d?(u="equals",null):"<"==d?"error":/[\'\"]/.test(d)?(b.tokenize=e(d),b.stringStartCol=a.column(),b.tokenize(a,b)):(a.eatWhile(/[^\s\u00a0=<>\"\']/),"word")}function e(a){var b=function(b,c){for(;!b.eol();)if(b.next()==a){c.tokenize=d;break}return"string"};return b.isInAttribute=!0,b}function f(a,b){return function(d,e){for(;!d.eol();){if(d.match(b)){e.tokenize=c;break}d.next()}return a}}function g(a){return function(b,d){for(var e;null!=(e=b.next());){if("<"==e)return d.tokenize=g(a+1),d.tokenize(b,d);if(">"==e){if(1==a){d.tokenize=c;break}return d.tokenize=g(a-1),d.tokenize(b,d)}}return"meta"}}function h(){for(var a=arguments.length-1;a>=0;a--)v.cc.push(arguments[a])}function i(){return h.apply(null,arguments),!0}function j(a,b){var c=B.doNotIndent.hasOwnProperty(a)||v.context&&v.context.noIndent;v.context={prev:v.context,tagName:a,indent:v.indented,startOfLine:b,noIndent:c}}function k(){v.context&&(v.context=v.context.prev)}function l(a){if("openTag"==a)return v.tagName=t,v.tagStart=w.column(),i(p,m(v.startOfLine));if("closeTag"==a){var b=!1;return v.context?v.context.tagName!=t&&(B.implicitlyClosed.hasOwnProperty(v.context.tagName.toLowerCase())&&k(),b=!v.context||v.context.tagName!=t):b=!0,b&&(x="error"),i(n(b))}return i()}function m(a){return function(b){var c=v.tagName;return v.tagName=v.tagStart=null,"selfcloseTag"==b||"endTag"==b&&B.autoSelfClosers.hasOwnProperty(c.toLowerCase())?(o(c.toLowerCase()),i()):"endTag"==b?(o(c.toLowerCase()),j(c,a),i()):i()}}function n(a){return function(b){return a&&(x="error"),"endTag"==b?(k(),i()):(x="error",i(arguments.callee))}}function o(a){for(var b;;){if(!v.context)return;if(b=v.context.tagName.toLowerCase(),!B.contextGrabbers.hasOwnProperty(b)||!B.contextGrabbers[b].hasOwnProperty(a))return;k()}}function p(a){return"word"==a?(x="attribute",i(q,p)):"endTag"==a||"selfcloseTag"==a?h():(x="error",i(p))}function q(a){if("equals"==a)return i(r,p);if(B.allowMissing){if("word"==a)return x="attribute",i(q,p)}else x="error";return"endTag"==a||"selfcloseTag"==a?h():i()}function r(a){return"string"==a?i(s):"word"==a&&B.allowUnquoted?(x="string",i()):(x="error","endTag"==a||"selfCloseTag"==a?h():i())}function s(a){return"string"==a?i(s):h()}var t,u,v,w,x,y=a.indentUnit,z=b.multilineTagIndentFactor||1,A=b.multilineTagIndentPastTag||!0,B=b.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},C=b.alignCDATA;return{startState:function(){return{tokenize:c,cc:[],indented:0,startOfLine:!0,tagName:null,tagStart:null,context:null}},token:function(a,b){if(!b.tagName&&a.sol()&&(b.startOfLine=!0,b.indented=a.indentation()),a.eatSpace())return null;x=u=t=null;var c=b.tokenize(a,b);if(b.type=u,(c||u)&&"comment"!=c)for(v=b,w=a;;){var d=b.cc.pop()||l;if(d(u||c))break}return b.startOfLine=!1,x||c},indent:function(a,b,e){var f=a.context;if(a.tokenize.isInAttribute)return a.stringStartCol+1;if(a.tokenize!=d&&a.tokenize!=c||f&&f.noIndent)return e?e.match(/^(\s*)/)[0].length:0;if(a.tagName)return A?a.tagStart+a.tagName.length+2:a.tagStart+y*z;if(C&&/<!\[CDATA\[/.test(b))return 0;for(f&&/^<\//.test(b)&&(f=f.prev);f&&!f.startOfLine;)f=f.prev;return f?f.indent+y:0},electricChars:"/",blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:b.htmlMode?"html":"xml",helperType:b.htmlMode?"html":"xml"}}),CodeMirror.defineMIME("text/xml","xml"),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0}),function(){"use strict";angular.module("ramlEditorApp",["ui.bootstrap.modal","ui.bootstrap.tpls","ui.tree","ramlConsoleApp","codeMirror","fs","raml","stringFilters","utils","lightweightDOM","splitter","validate","autoFocus","rightClick","dragAndDrop"])}(),Array.prototype.find||(Array.prototype.find=function(a){for(var b=0,c=this.length;b<c;b++){var d=this[b];if(a(d))return d}}),Array.prototype.includes||(Array.prototype.includes=function(a){for(var b=0,c=this.length;b<c;b++){if(this[b]===a)return!0}return!1}),String.prototype.startsWith||(String.prototype.startsWith=function(a){return 0===this.indexOf(a)}),String.prototype.endsWith||(String.prototype.endsWith=function(a){return this.lastIndexOf(a)===this.length-a.length}),function(){"use strict";angular.module("utils",[]).value("indentUnit",2).factory("safeApply",["$rootScope","$exceptionHandler",function(a,b){return function(c,d){if(c=c||a,-1===["$apply","$digest"].indexOf(c.$root&&c.$root.$$phase||c.$$phase))return c.$apply(d);try{return c.$eval(d)}catch(e){b(e)}}}]).factory("safeApplyWrapper",["safeApply",function(a){return function(b,c){return function(){var d=Array.prototype.slice.call(arguments,0);return a(b,function(){return c.apply(this,d)})}}}]).factory("getTime",function(){return Date.now||function(){return(new Date).getTime()}}).factory("debounce",["$timeout","$q",function(a,b){return function(c,d){var e=null,f=b.defer();return function(){var g=this,h=arguments,i=function(){e=null,f.resolve(c.apply(g,h)),f=b.defer()};return e&&a.cancel(e),e=a(i,d),f.promise}}}]).value("generateSpaces",function(a){return a=a||0,new Array(a+1).join(" ")}).factory("generateTabs",["generateSpaces","indentUnit",function(a,b){return function(c,d){return d=d||b,c=c||0,new Array(c+1).join(a(b))}}]).value("$prompt",function(a,b){return window.prompt(a,b)}).value("$confirm",function(a){return window.confirm(a)}).factory("generateName",function(){return function(a,b,c){c=c?"."+c:"";var d=Math.max.apply(void 0,a.map(function(a){var c=new RegExp(b+"(\\d+)"),d=a.match(c);return d?d[1]:0}).concat(0));return b+(d+1)+c}}).factory("scroll",function(){function a(a){a=a||window.event,a.preventDefault?a.preventDefault():a.returnValue=!1}function b(b){d[b.keyCode]&&a(b)}function c(b){a(b)}var d={37:!0,38:!0,39:!0,40:!0};return{enable:function(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",c,!1),window.onmousewheel=document.onmousewheel=document.onkeydown=null},disable:function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",c,!1),window.onmousewheel=document.onmousewheel=c,document.onkeydown=b}}}).factory("resolveUri",["$window",function(a){return function(b){return/^\w+:\/\//.test(b)?b:"/"===b[0]?a.location.origin+b:a.location.origin+a.location.pathname.split("/").slice(0,-1).concat(b).join("/")}}])}(),function(){"use strict";angular.module("raml").value("config",{set:function(a,b){localStorage["config."+a]=b},get:function(a,b){return a="config."+a,a in localStorage?localStorage[a]:b},remove:function(a){delete localStorage["config."+a]},clear:function(){localStorage.clear()}})}(),function(){"use strict";angular.module("lightweightDOM",["lightweightParse"]).factory("getNode",["getSpaceCount","getTabCount","getLineIndent","isArrayStarter","isCommentStarter","extractKeyValue",function(a,b,c,d,e,f){function g(a,b,f){this.editor=a,this.lineNumber=b,this.line=f,this.lineIndent=c(this.line,a.getOption("indentUnit")),this.isEmpty=this.lineIndent.spaceCount===this.line.length,this.isComment=!this.isEmpty&&e(this.line),this.isArrayStarter=!this.isComment&&d(this.line),this.isStructural=!this.isEmpty&&!this.isComment}function h(b,c){var d=b.getCursor(),e=arguments.length>1?c:d.line,f=b.getLine(e),h=i[e];if(void 0===f)return null;if(d.line===e){var j=a(f);j!==f.length&&"#"!==f[j]||(f=f.slice(0,d.ch))}return h&&h.line===f||(h=i[e]=new g(b,e,f)),h}var i={};return g.prototype.getKeyValue=function(){return this.keyValue||(this.keyValue=f(this.line)),this.keyValue},g.prototype.getKey=function(){return this.getKeyValue().key},g.prototype.getValue=function(){return this.getKeyValue().value},g.prototype.getNextSibling=function(){for(var a=this.lineNumber;;){var b=h(this.editor,++a);if(null===b)return null;if(b.isStructural){if(b.lineIndent.tabCount===this.lineIndent.tabCount)return b;if(this.isArrayStarter&&!b.isArrayStarter&&b.lineIndent.tabCount===this.lineIndent.tabCount+1)return b;if(!this.isArrayStarter&&b.isArrayStarter&&b.lineIndent.tabCount===this.lineIndent.tabCount-1)return b;if(b.lineIndent.tabCount<this.lineIndent.tabCount)return null}}},g.prototype.getPreviousSibling=function(){for(var a=this.lineNumber;;){a-=1;var b=h(this.editor,a);if(null===b)return null;if(b.isStructural){if(b.lineIndent.tabCount===this.lineIndent.tabCount)return b;if(this.isArrayStarter&&!b.isArrayStarter&&b.lineIndent.tabCount===this.lineIndent.tabCount+1)return b;if(!this.isArrayStarter&&b.isArrayStarter&&b.lineIndent.tabCount===this.lineIndent.tabCount-1)return b;if(b.lineIndent.tabCount<this.lineIndent.tabCount)return null}}},g.prototype.getFirstChild=function(){for(var a=this.lineIndent.tabCount+(this.isArrayStarter?2:1),b=this.lineNumber;;){var c=h(this.editor,++b);if(null===c)return null;if(c.lineIndent.tabCount<a)return null;if(c.lineIndent.tabCount>=a&&c.isStructural)return c}},g.prototype.getParent=function(){for(var a=this.lineIndent.tabCount-(!this.isArrayStarter&&this.getIsInArray()?2:1),b=this.lineNumber;;){var c=h(this.editor,--b);if(null===c)return null;if(c.lineIndent.tabCount<=a&&c.isStructural)return c}},g.prototype.getChildren=function(){for(var a=[],b=this.getFirstChild();null!==b;)a.push(b),b=b.getNextSibling();return a},g.prototype.getSelfAndNeighbors=function(){
for(var a=[],b=this.getIsInArray(),c=this;c&&c.getIsInArray()===b&&(a.push(c),!c.isArrayStarter);)c=c.getPreviousSibling();for(c=this.getNextSibling();c&&!c.isArrayStarter&&c.getIsInArray()===b;)a.push(c),c=c.getNextSibling();return a},g.prototype.getIsInArray=function(){if(this.isArrayStarter)return!0;for(var a=this.getPreviousSibling();a&&a.lineIndent.tabCount>=this.lineIndent.tabCount;)a=a.getPreviousSibling();return!(!a||!a.isArrayStarter||a.lineIndent.tabCount!==this.lineIndent.tabCount-1)},g.prototype.getPath=function(){for(var a=[],b=this;b=b.getParent();)a.unshift(b);return a},g.prototype.selfOrParent=function(a){return this.first(this.getParent,a)},g.prototype.selfOrPrevious=function(a){return this.first(this.getPreviousSibling,a)},g.prototype.first=function(a,b){for(var c=this;c;){if(b(c))return c;c=a.apply(c)}return null},h}])}(),function(){"use strict";angular.module("lightweightParse",["utils"]).factory("getSpaceCount",function(){return function(a){for(var b=0,c=a.length;b<c&&" "===a[b];b++);return b}}).factory("getTabCount",["indentUnit",function(a){return function(b,c){return c=c||a,Math.floor(b/c)}}]).factory("getLineIndent",["getSpaceCount","getTabCount",function(a,b){return function(c,d){var e=a(c);return{spaceCount:e,tabCount:b(e,d),content:e?c.slice(e):c}}}]).factory("isArrayStarter",["getSpaceCount",function(a){return function(b){var c=a(b);return"-"===b[c]&&" "===b[c+1]}}]).factory("isCommentStarter",["getSpaceCount",function(a){return function(b){return"#"===b[a(b)]}}]).factory("extractKeyValue",function(){function a(a,b,c){for(b=b||0,c=c||a.length,b<0&&(b=a.length+b),c<0&&(c=a.length+c);b<c&&" "===a[b];)b+=1;for(;b<c&&" "===a[c-1];)c-=1;return 0===b&&c===a.length?a:a.slice(b,c)}function b(a){return a?{text:a,isAlias:"&"===a[0],isReference:"*"===a[0]}:null}return function(c){var d=0,e=c.length,f=c.indexOf("#");return-1!==f&&(e=f),f=c.indexOf("- "),-1!==f&&f<e&&(d=f+2),-1!==(f=c.indexOf(": ",d))&&f<e?{key:a(c,d,f),value:b(a(c,f+2,e))}:(f=c.lastIndexOf(":",e),f===e-1?{key:a(c,d,e-1),value:null}:{key:null,value:b(a(c,d,e))})}}).factory("getScopes",["getLineIndent",function(a){function b(a,b){if(void 0===a||void 0===b)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}var c;return function(d){if(c&&b(c.key,d))return c.value;var e={},f=d.map(function(b,c){var d=a(b);return{tabCount:d.tabCount,content:d.content,lineNumber:c}}),g=f.reduce(function(a,b){var c,d,f=e[b.tabCount-1];if(f)c=f.length-1,d=e[b.tabCount-1][c];else{if(b.tabCount>1)return f=e[b.tabCount-2],f&&(c=f.length-1,d=e[b.tabCount-2][c],a[d]=a[d]||[],a[d].push({lineNumber:b.lineNumber,content:b.content,tabCount:b.tabCount}),e[b.tabCount-1]=e[b.tabCount-1]||[],e[b.tabCount-1].push(b.lineNumber)),a;d=0}return a[d]=a[d]||[],a[d].push({lineNumber:b.lineNumber,content:b.content,tabCount:b.tabCount}),e[b.tabCount]=e[b.tabCount]||[],e[b.tabCount].push(b.lineNumber),a},{});return c={result:{scopeLevels:e,scopesByLine:g},lines:d},{scopeLevels:e,scopesByLine:g}}}])}(),function(){"use strict";angular.module("codeFolding",["raml","lightweightParse"]).factory("getFoldRange",["getLineIndent",function(a){return function(b,c){var d,e=b.getLine(c.line),f=a(e);if(f.content){var g=b.getLine(c.line+1);if(g){var h=f.tabCount,i=a(g).tabCount;if(i>h)for(var j=c.line+2,k=b.lineCount();j<k;j++){if(g=b.getLine(j),d=a(g),(i=d.tabCount)<=h&&d.content)return g=b.getLine(j-1),{from:CodeMirror.Pos(c.line,e.length),to:CodeMirror.Pos(j-1,g.length)};if(j===k-1)return g=b.getLine(k-1),{from:CodeMirror.Pos(c.line,e.length),to:CodeMirror.Pos(k-1,g.length)}}}}}}])}(),function(){"use strict";angular.module("codeMirror",["raml","ramlEditorApp","codeFolding"]).factory("codeMirror",["$rootScope","ramlSuggest","codeMirrorHighLight","generateSpaces","generateTabs","getFoldRange","isArrayStarter","getSpaceCount","getTabCount","config","extractKeyValue",function(a,b,c,d,e,f,g,h,i,j,k){var l=null,m={CodeMirror:CodeMirror};m.removeTabs=function(a,b){var c=i(h(a),b)*b;return c?a.slice(c):a},m.tabKey=function(a){var b,c,e,f=a.getCursor(),g=a.getLine(f.line),h=a.getOption("indentUnit");if(a.somethingSelected())return void a.indentSelection("add");c=m.removeTabs(g,h),c=c.length?c:"",e=""!==c&&""===c.replace(/ /g,"")?h-c.length:h,b=d(e),a.replaceSelection(b,"end","+input")},m.backspaceKey=function(a){var b=a.getCursor(),c=a.getLine(b.line).slice(0,b.ch),d=a.getOption("indentUnit"),e=c.length-c.replace(/\s+$/,"").length;if(e>=d&&e%d==0)for(var f=0;f<d;f++)a.deleteH(-1,"char");else a.deleteH(-1,"char")};var n={xml:{name:"xml"},xsd:{name:"xml",alignCDATA:!0},json:{name:"javascript",json:!0},md:{name:"gfm"},raml:{name:"raml"}},o={"Cmd-S":"save","Ctrl-S":"save","Shift-Tab":"indentLess","Shift-Ctrl-T":"toggleTheme"},p={"Ctrl-Space":"autocomplete","Cmd-S":"save","Ctrl-S":"save","Shift-Tab":"indentLess","Shift-Ctrl-T":"toggleTheme"};return m.configureEditor=function(a,b){var c=n[b]||n.raml;a.setOption("mode",c),"raml"===c.name?a.setOption("extraKeys",p):a.setOption("extraKeys",o)},m.enterKey=function(a){function b(b,c){for(var d=b-1;d>=0;d--)if(h(a.getLine(d))<c)return k(a.getLine(d)).key}var c=a.getCursor(),f=c.ch>=a.getLine(c.line).length-1,i=a.getLine(c.line).slice(0,c.ch),j=g(i),l=h(i),m=d(l),n=b(c.line,l),o=-1!==["traits","resourceTypes"].indexOf(n);f?function(){if(o)return void(m+=e(2));if(j&&(m+=e(1)),"|"===i.replace(/\s+$/,"").slice(-1))return void(m+=e(1));var b=a.getLine(c.line+1);b&&h(b)>l&&(m+=e(1))}():j&&(m+=e(1)),a.replaceSelection("\n"+m,"end","+input")},m.createEditor=function(a,b){var c,d,e=JSON.parse(j.get("folding","true")),f=!1;e&&(f={rangeFinder:CodeMirror.fold.indent,foldOnChangeTimeSpan:300,updateViewportTimeSpan:200}),d={mode:"raml",theme:"solarized dark",lineNumbers:!0,lineWrapping:!0,autofocus:!0,indentWithTabs:!1,indentUnit:2,tabSize:2,keyMap:"tabSpace",foldGutter:f,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"]},b&&Object.keys(b).forEach(function(a){d[a]=b[a]}),c=new CodeMirror(a,d),c.setSize("100%","100%"),c.foldCode(0,{rangeFinder:CodeMirror.fold.indent});var g=c.defaultCharWidth();return c.on("renderLine",function(a,b,c){var d=CodeMirror.countColumn(b.text,null,a.getOption("tabSize"))*g;c.style.textIndent="-"+d+"px",c.style.paddingLeft=4+d+"px"}),c},m.initEditor=function(){var a=document.getElementById("code"),b=m.createEditor(a);return l=window.editor=b,b},m.setLine=function(a,b,c){a.replaceRange(c,{line:b,ch:0},{line:b})},m.removeLine=function(a,b){a.replaceRange("",{line:0===b?b:b-1},{line:b})},m.getEditor=function(){return l},function(){CodeMirror.keyMap.tabSpace={Tab:m.tabKey,Backspace:m.backspaceKey,Enter:m.enterKey,fallthrough:["default"]},CodeMirror.commands.save=function(){a.$broadcast("event:save")},CodeMirror.commands.autocomplete=function(a){CodeMirror.showHint(a,CodeMirror.hint.raml,{completeSingle:!1,ghosting:!1,async:!0})},CodeMirror.commands.toggleTheme=function(){a.$broadcast("event:toggle-theme")},CodeMirror.defineMode("raml",c.highlight),CodeMirror.defineMIME("text/x-raml","raml"),CodeMirror.registerHelper("hint","raml",b.autocompleteHelper.bind(b)),CodeMirror.registerHelper("fold","indent",f)}(),m}])}(),function(){"use strict";angular.module("codeMirror").factory("codeMirrorErrors",["codeMirror","$timeout",function(a,b){function c(a,b){var c=document.createElement("div");c.className="CodeMirror-lint-tooltip",c.appendChild(a.cloneNode(!0)),c.style.visibility="hidden",document.body.appendChild(c);var d=$(b).offset();return c.style.top=Math.max(0,d.top-c.offsetHeight)+"px",c.style.left=d.left+20+"px",null!==c.style.opacity&&(c.style.opacity=1),c.style.visibility="visible",c}function d(a){a.parentNode&&a.parentNode.removeChild(a)}function e(a){a.parentNode&&(null===a.style.opacity&&d(a),a.style.opacity=0,b(function(){d(a)},200))}function f(a,b){function d(a,b){if(!b)return!1;var c=$(a).offset().left,d=c+$(a).outerWidth(),e=c<=b.clientX&&b.clientX<=d+5,f=$(a).offset().top,g=f+$(a).outerHeight(),h=f<=b.clientY&&b.clientY<=g;return e&&h}function f(a){if(g){var b=d(h,a);d(g,a)||b||(l.off(g,"mousedown",i),l.off(document,"mousemove",f),e(g),g=null)}}var g=c(a,b),h=b,i=function(a){f(g);var b=a.target.dataset.path;if(b){angular.element(h).scope().$emit("event:raml-editor-file-select",b)}},j=setInterval(function(){if(!g)return clearInterval(j);for(var a=b;;a=a.parentNode){if(a===document.body)return;if(!a){f();break}}},400);l.on(g,"mousedown",i),l.on(document,"mousemove",f)}function g(a){a.clearGutter(m)}function h(a,b){return"error"===a?a:b}function i(a){for(var b=[],c=0,d=a.length;c<d;++c){var e=a[c],f=e.line||1;(b[f]||(b[f]=[])).push(e)}return b}function j(a){var b=a.severity;n.test(b)||(b="error");var c=document.createElement("div");c.className="CodeMirror-lint-message-"+b;var d=a.message;return a.path&&(d+=" at line "+a.tracingLine+" col "+a.tracingColumn+' in <a href="javascript:" data-path="/'+a.path+'">'+a.path+"</a>"),c.innerHTML="<p class=CodeMirror-tag-"+b+">"+b+'</p><p class="CodeMirror-message">'+d+"</p>",c}function k(a,b,c,d,e){var g=document.createElement("div"),h=g;return g.className="CodeMirror-lint-marker-"+b,c&&(h=g.appendChild(document.createElement("div")),h.className="CodeMirror-lint-marker-multiple"),!1!==d&&l.on(h,"mouseenter",function(){f(a,h)}),g.setAttribute("data-marker-line",e[0].line),g.setAttribute("data-marker-message",e[0].message),g}var l=a.CodeMirror,m="CodeMirror-lint-markers",n=/^(?:error|warning)$/,o={};return o.displayAnnotations=function(b,c){c=c||a.getEditor(),g(c);for(var d=i(b),e=0;e<d.length;++e){var f=d[e];if(f){for(var l=null,o=document.createDocumentFragment(),p=0;p<f.length;++p){var q=f[p],r=q.severity;n.test(r)||(r="error"),l=h(l,r),o.appendChild(j(q))}c.setGutterMarker(e-1,m,k(o,l,f.length>1,!0,f))}}},o.clearAnnotations=function(){g(a.getEditor())},o}])}(),function(){"use strict";angular.module("raml").value("snippets",{options:["options:","  description: <<insert text or markdown here>>"],head:["head:","  description: <<insert text or markdown here>>"],get:["get:","  description: <<insert text or markdown here>>"],post:["post:","  description: <<insert text or markdown here>>"],put:["put:","  description: <<insert text or markdown here>>"],delete:["delete:","  description: <<insert text or markdown here>>"],trace:["trace:","  description: <<insert text or markdown here>>"],connect:["connect:","  description: <<insert text or markdown here>>"],patch:["patch:","  description: <<insert text or markdown here>>"],"<resource>":["/newResource:","  displayName: resourceName"],title:["title: My API"],version:["version: v0.1"],baseuri:["baseUri: http://server/api/{version}"]}).factory("ramlSnippets",["snippets",function(a){function b(a){return f.find(function(b){return b.label===a}).keyValues}var c={},d=[],e=["extends"],f=[{label:"Trait",keyValues:d},{label:"ResourceType",keyValues:d},{label:"Library",keyValues:["usage"]},{label:"Overlay",keyValues:e},{label:"Extension",keyValues:e},{label:"DataType",keyValues:d},{label:"DocumentationItem",keyValues:["title","content"]},{label:"NamedExample",keyValues:["value"]},{label:"AnnotationTypeDeclaration",keyValues:d},{label:"SecurityScheme",keyValues:["type"]},{label:"",keyValues:["title"]}];return c.getEmptyRaml=function(a,c){var d=a||"1.0",e=c?" "+c:"",f=b(c||""),g=["#%RAML "+d+e];return f.forEach(function(a){g.push(a+":")}),g.join("\n")},c.getSnippet=function(b){var c=b.key,d=b.metadata||{},e=a[c.toLowerCase()];return e||(d.isText?b.isList?[c]:[c,""]:[c+":"])},c}])}(),function(){"use strict";angular.module("codeMirror").value("highlightRootElement",function(a,b,c,d,e,f){return e<=d[a+".level"]&&(d[a+".level"]=0,d[a+".inside"]=!1),a.indexOf(f)>=0?(d[a+".level"]=e,d[a+".inside"]=!0,b):!!d[a+".inside"]&&c}).value("booleanValues",["true","false"]).factory("keywordRegex",["booleanValues",function(a){return new RegExp("\\b(("+a.join(")|(")+"))$","i")}]).factory("token",["keywordRegex","highlightRootElement","getLineIndent","indentUnit",function(a,b,c,d){return function(e,f){var g=e.peek(),h=f.escaped;if(f.escaped=!1,"#"===g&&/^#%RAML (0\.8|1\.0|1\.0\s\w+)$/.test(e.string.trim()))return e.skipToEnd(),"raml-tag";if("#"===g&&(0===e.pos||/\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),"comment";if(f.literal&&e.indentation()>f.keyCol)return e.skipToEnd(),"none";if(f.literal&&(f.literal=!1),e.sol()){if(f.keyCol=0,f.pair=!1,f.pairStart=!1,e.match(/---/))return"def";if(e.match(/\.\.\./))return"def";if(e.match(/\s*-\s+/))return"meta"}if(!f.pair&&e.match(/^\s*([a-z0-9\?\/\{\}\._\-])+(?=\s*:)/i)){var i=e.string.replace(/^\s+|\s+$/g,"").split(":")[0],j="?"===i.slice(-1)?i.slice(0,-1):i,k=c(e.string).tabCount;if(f.pair=!0,f.keyCol=e.indentation(),e.string.match(/^\s*\- /i)&&(f.keyCol+=d),(k<=f.methodLevel||0===i.indexOf("/"))&&(f.methodLevel=0,f.insideMethod=!1),-1!==["options","get","head","post","put","delete","trace","connect","patch"].indexOf(j))return f.methodLevel=k,f.insideMethod=!0,"method-title";if(f.insideMethod)return"method-content";var l=b("traits","trait-title","trait-content",f,k,i)||b("resourceTypes","resource-type-title","resource-type-content",f,k,i)||b("schemas","schema-title","schema-content",f,k,i)||b("securitySchemes","security-scheme-title","security-scheme-content",f,k,i);return l||(0===i.indexOf("/")?"resource":"key")}if(f.pair&&e.match(/^:\s*/))return f.pairStart=!0,"meta";if(e.match(/^(\{|\}|\[|\])/))return"{"===g?f.inlinePairs++:"}"===g?f.inlinePairs--:"["===g?f.inlineList++:f.inlineList--,"meta";if(f.inlineList>0&&!h&&","===g)return e.next(),"meta";if(f.inlinePairs>0&&!h&&","===g)return f.keyCol=0,f.pair=!1,f.pairStart=!1,e.next(),"meta";if(f.pairStart){if(e.match(/^\s*(\||\>)\s*/))return f.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._\-]+\b/i))return"variable-2";if(0===f.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(f.inlinePairs>0&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|\}))/))return"number";if(e.match(a))return"keyword"}return f.pairStart=!1,f.escaped="\\"===g,e.next(),null}}]).value("startState",function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}).factory("yamlMode",["token","startState",function(a,b){return function(){return{token:a,startState:b}}}]).run(["codeMirror","yamlMode",function(a,b){var c=a.CodeMirror;c.defineMode("yaml",b),c.defineMIME("text/x-yaml","yaml")}])}(),function(){"use strict";angular.module("codeMirror").factory("codeMirrorHighLight",["indentUnit",function(a){var b={};return b.highlight=function(a){return b.indentationOverlay={token:function(a,b){if(void 0===b.cutoff||a.column()<=b.cutoff){if(a.match("  "))return"indent indent-col-"+a.column();if(a.match(" "))return"indent-incomplete"}a.skipToEnd()},startState:function(){return{}}},b.yaml=CodeMirror.overlayMode(CodeMirror.getMode(a,"yaml"),b.indentationOverlay),b.xml=CodeMirror.overlayMode(CodeMirror.getMode(a,"xml"),b.indentationOverlay),b.json=CodeMirror.overlayMode(CodeMirror.getMode(a,{name:"javascript",json:!0}),b.indentationOverlay),b.markdown=CodeMirror.overlayMode(CodeMirror.getMode(a,"gfm"),b.indentationOverlay),{startState:function(){return{token:b._yaml,localMode:null,localState:null,yamlState:b.yaml.startState()}},copyState:function(a){var c;return a.localState&&(c=CodeMirror.copyState(a.localMode,a.localState),c.parentIndentation||(c.parentIndentation=a.localState.parentIndentation)),{token:a.token,localMode:a.localMode,localState:c,yamlState:CodeMirror.copyState(b.yaml,a.yamlState)}},innerMode:function(a){return{state:a.localState||a.yamlState,mode:a.localMode||b.yaml}},token:function(a,b){return b.token(a,b)}}},b._yaml=function(a,c){return/(content|description):(\s?)\|/.test(a.string)&&b._setMode("markdown",a,c),/application\/json:/.test(a.string)&&b._setMode("json",a,c,2),/text\/xml:/.test(a.string)&&b._setMode("xml",a,c,2),b.yaml.token(a,c.yamlState)},b._xml=function(a,c){return b._applyMode("xml",a,c)},b._json=function(a,c){return b._applyMode("json",a,c)},b._markdown=function(a,c){return b._applyMode("markdown",a,c)},b._setMode=function(c,d,e,f){e.token=b["_"+c],e.localMode=b[c],e.localState=b[c].startState(),e.localState.parentIndentation=d.indentation()+(f||0),d.string.match(/^\s*\- /i)&&(e.localState.parentIndentation+=a),"markdown"===c&&(e.localState.base.parentIndentation=e.localState.parentIndentation)},b._applyMode=function(a,c,d){return/(schema|example):(\s?)\|/.test(c.string)?b._yaml(c,d):c.string.trim().length>0&&c.indentation()<=d.localState.parentIndentation?(d.token=b._yaml,d.localState=d.localMode=null,b._yaml(c,d)):(d.localState.overlay.cutoff=d.localState.parentIndentation,b[a].token(c,d.localState))},b}])}(),function(){"use strict";function a(a,b,c){c=c||{},"/"===a.slice(-1)&&a.length>1&&(a=a.slice(0,-1)),this.type="file",this.path=a,this.name=a.slice(a.lastIndexOf("/")+1),this.isDirectory=!1,this.name.lastIndexOf(".")>0&&(this.extension=this.name.slice(this.name.lastIndexOf(".")+1)),this.contents=b||"",this.persisted=c.persisted||!1,this.dirty=c.dirty||!this.persisted,this.root=c.root}angular.module("fs",["raml","utils"]).factory("ramlRepository",["$q","$rootScope","ramlSnippets","fileSystem",function(b,c,d,e){function f(a){return".meta"!==a.path.slice(-5)}function g(a){return!f(a)}function h(a){return function(b){throw a.error=b,b}}function i(a,b){return a.isDirectory===b.isDirectory?a.name.localeCompare(b.name):a.isDirectory?-1:1}function j(a,b){for(var c,d=0,e=b.children.length-1;e>=d;)c=Math.floor((d+e)/2),i(b.children[c],a)>0?e=c-1:d=c+1;return d}function k(a,c){var d="/"===a.path?[""]:a.path.split("/"),e=c.path.split("/").slice(0,-1),f=b.when(a);return e.slice(d.length).forEach(function(a){f=f.then(function(c){var d=o.join(c.path,a),e=o.getByPath(d);return e?e.isDirectory?e:b.reject(new Error("Can not create directory, file already exists: "+d)):o.createDirectory(c,a)})}),f.then(function(a){var d=o.getByPath(c.path);return d?d.isDirectory&&c.isDirectory?d:b.reject(new Error("Path already exists: "+c.path)):(a.children.splice(j(c,a),0,c),c)})}function l(a,b){return a.path.slice(0,a.path.lastIndexOf("/"))+"/"+b}function m(b,c,d){"/"===b.slice(-1)&&b.length>1&&(b=b.slice(0,-1)),d=d||[],this.type="directory",this.path=b,this.name=b.slice(b.lastIndexOf("/")+1),this.meta=c,this.collapsed=!0,this.isDirectory=!0;var e={folder:[],file:[]};d.forEach(function(a){e[a.type||"file"].push(a)});var h=function(b){return new a(b.path,b.contents,{dirty:!1,persisted:!0,root:b.root})},j=e.file.filter(f).map(h),k=e.file.filter(g).map(h),l=e.folder.map(function(a){return new m(a.path,a.meta,a.children)});this.children=l.concat(j).sort(i),this.metaChildren=l.concat(k).sort(i)}var n,o={},p="/";return o.supportsFolders=e.supportsFolders||!1,m.prototype.getDirectories=function(){return this.children.filter(function(a){return a.isDirectory})},m.prototype.getFiles=function(){return this.children.filter(function(a){return!a.isDirectory})},m.prototype.getMetaFiles=function(){return this.metaChildren.filter(function(a){return!a.isDirectory})},m.prototype.forEachItemDo=function(a,b){for(var c,d=b?this.metaChildren.slice():this.children.slice();d.length>0;)c=d.shift(),c.isDirectory&&(d=d.concat(b?c.metaChildren:c.children)),a.call(c,c)},m.prototype.forEachChildDo=function(a){this.forEachItemDo(a,!1)},m.prototype.forEachMetaChildDo=function(a){this.forEachItemDo(a,!0)},m.prototype.sortChildren=function(){this.children.sort(i)},o.sortingFunction=i,o.getParent=function(a){var b=a.path.slice(0,a.path.lastIndexOf("/"));return 0===b.length&&(b="/"),o.getByPath(b)},o.canExport=function(){return e.hasOwnProperty("exportFiles")},o.exportFiles=function(){return e.exportFiles()},o.createDirectory=function(a,c){var d=o.join(a.path,c),f=new m(d),g=o.getByPath(d);return g?b.when(g):k(a,f).then(function(){return e.createFolder(f.path)}).then(function(){return f})},o.generateDirectory=function(a,b){return o.createDirectory(a,b).then(function(a){return c.$broadcast("event:raml-editor-directory-created",a),a})},o.loadDirectory=function(){return e.directory(p).then(function(a){return n=new m(a.path,a.meta,a.children)})},o.removeDirectory=function(a){var d=[];a.getDirectories().forEach(function(a){d.push(o.removeDirectory(a))}),a.getFiles().concat(a.getMetaFiles()).forEach(function(a){d.push(o.removeFile(a))});var f=o.getParent(a),g=f.children.indexOf(a);return-1!==g&&f.children.splice(g,1),b.all(d).then(function(){return e.remove(a.path)}).then(function(a){c.$broadcast("event:raml-editor-directory-removed",a)})},o.renameDirectory=function(a,b){var d=l(a,b),f=e.rename(a.path,d);return a.forEachChildDo(function(b){b.path=b.path.replace(a.path,d)}),f.then(function(){return a.name=b,a.path=d,c.$broadcast("event:raml-editor-filetree-modified",a),a},h(a))},o.saveFile=function(a){function b(){return a.dirty=!1,a.persisted=!0,a}return e.save(a.path,a.contents).then(b,h(a))},o.renameFile=function(a,d){function f(){return a.name=d,a.path=g,c.$broadcast("event:raml-editor-filetree-modified",a),a}var g=l(a,d);return(a.persisted?e.rename(a.path,g):b.when(a)).then(f,h(a))},o.loadFile=function(a,b){function c(b){return a.dirty=!1,a.persisted=!0,a.loaded=!0,a.contents=b,a}return e.load(a.path,b).then(c,h(a))},o.removeFile=function(a){function d(){return a.dirty=!1,a.persisted=!1,Object.freeze(a)}var g,i=o.getParent(a);return g=a.persisted?e.remove(a.path):b.when(a),g.then(d,h(a)).then(function(){if(f(a)){var b=i.children.indexOf(a);-1!==b&&i.children.splice(b,1)}else{var d=i.metaChildren.indexOf(a);-1!==d&&i.metaChildren.splice(d,1)}c.$broadcast("event:raml-editor-file-removed",a)})},o.createFile=function(b,d){var e=o.join(b.path,d),f=new a(e);return k(b,f).then(function(){return c.$broadcast("event:raml-editor-file-created",f),f})},o.generateFile=function(a,b,e,f){return o.createFile(a,b).then(function(a){return"raml"===a.extension&&(a.contents=d.getEmptyRaml(e,f)),c.$broadcast("event:raml-editor-file-generated",a),a})},o.getContentByPath=function(a,c){var d=o.getByPath(a);return d?d.loaded?b.when(d.contents):o.loadFile(d,c).then(function(a){return a.contents}):b.reject("getByPathLoaded: "+a+": no such path")},o.getByPath=function(a){if(a){if("/"===a)return n;a=a.replace(/\/$/,"");for(var b,c=n.children.slice();c.length;){if(b=c.shift(),b.path===a)return b;b.isDirectory&&(c=c.concat(b.children))}}},o.rename=function(a,b){return a.isDirectory?o.renameDirectory(a,b):o.renameFile(a,b)},o.remove=function(a){return a.isDirectory?o.removeDirectory(a):o.removeFile(a)},o.move=function(a,c){if(c.isDirectory){var d,f=o.join(c.path,a.name);return a.isDirectory?(d=e.rename(a.path,f),a.forEachChildDo(function(b){b.path=b.path.replace(a.path,f)}),a.forEachMetaChildDo(function(b){b.path=b.path.replace(a.path,f)})):(o.moveMeta(a,c),d=a.persisted?e.rename(a.path,f):b.when(a)),d.then(function(){return a.path=f,a},h(a))}},o.saveMeta=function(b,c){var d=new a(b.path+".meta",JSON.stringify(c));return o.saveFile(d).then(function(){return o.getParent(d).metaChildren.push(d),c})},o.loadMeta=function(b){var c=new a(b.path+".meta");return o.loadFile(c).then(function(a){return JSON.parse(a.contents)},function(){return{}})},o.moveMeta=function(a,b){var c=a.name+".meta",d=o.join(b.path,c),f=a.path+".meta",g=o.getParent(a),h=g.metaChildren.find(function(a){return a.path===f});if(h)return e.rename(h.path,d).then(function(){var a=g.metaChildren.indexOf(h);return-1!==a&&g.metaChildren.splice(a,1),h.path=d,b.metaChildren.push(h),h},function(){return h})},o.join=function(){return Array.prototype.reduce.call(arguments,function(a,b){return null==b?a:"/"===b.charAt(0)?b:a.replace(/\/$/,"")+"/"+b},"/")},o}])}();var FSResolver=function(a,b){this.parsePath=function(a){return a.split("/").filter(function(a){return a&&""!==a})},this.getElement=function(b){var c=this.parsePath(b);return this.getElementFromPath(c,0,a)},this.getElementFromPath=function(a,b,c){if(a.length===b)return c;if(c.isDirectory){var d=this.getChild(c,a[b]);return d?this.getElementFromPath(a,b+1,d):d}},this.getChild=function(a,b){return a.children.find(function(a){return a.name===b})},this.getFileContentAsync=function(a){if(a.loaded){if(a.doc)return Promise.resolve(a.doc.getValue());if(a.contents)return Promise.resolve(a.contents)}var c=function(a){return a.contents};return b.loadFile(a,!0).then(c)},this.contentAsync=function(a){var b=this.getElement(a);return!b||b.isDirectory?Promise.resolve(""):this.getFileContentAsync(b)},this.list=function(a){var b=this.getElement(a);return b&&b.isDirectory?b.children.map(function(a){return a.name}):[]},this.listAsync=function(a){return Promise.resolve(this.list(a))},this.exists=function(a){return!!this.getElement(a)},this.existsAsync=function(a){return Promise.resolve(this.exists(a))},this.dirname=function(a){var b=this.getElement(a);return b?b.isDirectory?b.path:a.substring(0,a.lastIndexOf("/")+1)||"":""},this.resolve=function(a,b){return b.startsWith("/")?b:(a.endsWith("/")?a:a+"/")+b},this.extname=function(a){var b=this.getElement(a);if(!b||b.isDirectory)return"";var c=b.name.split(".");return c.length<=1?"":c[c.length-1]},this.isDirectory=function(a){var b=this.getElement(a);return!(!b||!b.isDirectory)},this.isDirectoryAsync=function(a){return Promise.resolve(this.isDirectory(a))}},EditorStateProvider=function(a,b,c){function d(a,b){return a+b}this.getText=function(){return c.getValue()},this.getPath=function(){return b},this.getBaseName=function(){var c=a.getElement(b);return c?c.name:""};var e=function(a){var b=a.getCursor();return range(0,b.line-1).map(function(b){return a.getLine(b).length+1}).reduce(d,0)+b.ch};this.offset=e(c),this.getOffset=function(){return this.offset}};angular.module("ramlEditorApp").factory("ramlSuggest",["ramlRepository","ramlEditorMainHelpers",function(a,b){function c(a,b){function c(a,b){if(!a)return!0;var c=b.text.toLowerCase();return c.startsWith(a)&&c!==a}var d=/:?(:|\s|\.|\[|]|-)+|!/,e=function(a,b){if(!a)return"";var c=a.slice(0,b).split(d);return c[c.length-1]},f=function(a,b){return a?a.slice(b).split(d)[0]:""},g=function(a,b,c){a.innerHTML=["<div>",c.displayText,"</div>",'<div class="category">',c.category,"</div>"].join("")},h=function(a){return{displayText:a.displayText||a.text,text:a.text,category:a.category,render:g}},i=a.getCursor(),j=a.getLine(i.line),k=i.ch,l=e(j,k)||"",m=f(j,k),n=l+m,o=n.toLowerCase(),p=a.getLine(i.line).length,q=k-l.length;return{word:n,list:b.filter(function(a){return c(o,a)}).map(h),from:CodeMirror.Pos(i.line,q),to:CodeMirror.Pos(i.line,p)}}function d(a){return void 0!==a.category&&"unknown"!==a.category.toLowerCase()||(a.category="others"),a}function e(a){return a.text=a.text||a.displayText||"",a}function f(a,c){var d=a.getCursor().ch,e=c.length>0&&(0===d||c.find(function(a){return"methods"===a.category?a:null}));if(e&&b.isApiDefinition(a.getValue())){var f=e.replacementPrefix||"",g="\n"+new Array(d-f.length+1).join(" ")+"  ";return c.concat({text:"/newResource:"+g+"displayName: resourceName"+g,displayText:"New Resource",category:"resources",replacementPrefix:f})}return c}return this.FSResolver=FSResolver,this.EditorStateProvider=EditorStateProvider,this.getSuggestions=function(b,c,g){var h=RAML.Suggestions,i=new FSResolver(b,a),j=h.getContentProvider(i),k=new EditorStateProvider(i,c.path,g);return h.suggestAsync(k,j).then(function(a){return Array.isArray(a)?a:[]},function(){return[]}).then(function(a){return a.map(d)}).then(function(a){return a.map(e)}).then(function(a){return f(g,a)})},this.suggest=function(a,b,c){return this.getSuggestions(a,b,c)},this.autocompleteHelper=function(a,b,d,e,f){if(!e||!f){var g=angular.element(a.getInputField()).scope();e=e||g.homeDirectory,f=f||g.fileBrowser.selectedFile}this.getSuggestions(e,f,a).then(function(b){return c(a,b)}).then(function(a){b(a)})},this}]),function(){"use strict";function a(){}a.prototype={directory:function(a){throw"Not implemented: FileSystem list invoked with [fullpath="+a+"]"},save:function(a,b){throw"Not implemented: FileSystem save invoked with [fullpath="+a+"] and [content="+b+"]"},createFolder:function(a){throw"Not implemented: FileSystem createFolder invoked with [fullpath="+a+"]"},load:function(a){throw"Not implemented: FileSystem load invoked with [fullpath="+a+"]"},remove:function(a){throw"Not implemented: FileSystem remove invoked with [fullpath="+a+"]"},rename:function(a,b){throw"Not implemented: FileSystem rename invoked with [source="+a+"] and [destination="+b+"]"}},angular.module("fs").provider("fileSystem",function(){return this.hasFactory=!1,this.setFileSystemFactory=function(a){this.$get=a,this.hasFactory=!0},this.$get=function(){return new a},this})}(),function(){"use strict";angular.module("ramlEditorApp").service("newFileService",["ramlRepository","newNameModal","$rootScope","generateName",function(a,b,c,d){function e(a,b,c){var e=a.children.map(function(a){return a.name}),f=(""!==b.label?c:"api")+"-";return d(e,f,"raml")}var f=this,g="https://github.com/raml-org/raml-spec/blob/master/versions/raml-10/raml-10.md#";return f.files={.8:{"":{label:"",name:"API Spec",description:"RAML 0.8 API Spec.",spec:"https://github.com/raml-org/raml-spec/blob/master/versions/raml-08/raml-08.md"}},"1.0":{"":{label:"",name:"API Spec",description:"RAML 1.0 API Spec.",spec:g+"the-root-of-the-document"},Trait:{label:"Trait",name:"Trait",description:"Define a single trait with common characteristics for methods.",spec:g+"resource-types-and-traits"},ResourceType:{label:"ResourceType",name:"Resource Type",description:"Define a single resource type with common characteristics for resources.",spec:g+"resource-types-and-traits"},Library:{label:"Library",name:"Library",description:"Define a collection of data type declarations, resource type declarations, trait declarations, and security scheme declarations into modular, externalized, reusable groups.",spec:g+"libraries"},Overlay:{label:"Overlay",name:"Overlay",description:"Define an overlay that adds or overrides nodes of a RAML API definition while preserving its behavioral, functional aspects.",spec:g+"overlays"},Extension:{label:"Extension",name:"Extension",description:"Define an extension that adds or modifies nodes of a RAML API definition.",spec:g+"extensions"},DataType:{label:"DataType",name:"Type",description:"Define a single data type declaration.",spec:g+"raml-data-types"},DocumentationItem:{label:"DocumentationItem",name:"User Documentation",description:"Define a single page documentation item.",spec:g+"user-documentation"},NamedExample:{label:"NamedExample",name:"Example",description:"Define a single example for a given data type.",spec:g+"defining-examples-in-raml"},AnnotationTypeDeclaration:{label:"AnnotationTypeDeclaration",name:"Annotation",description:"Define a single annotation type declaration that describes additional metadata that can be applied to any RAML node.",spec:g+"annotations"},SecurityScheme:{label:"SecurityScheme",name:"Security Scheme",description:"Define a single security scheme that describes the mechanism to secure data access, identify requests, and determine access level and data visibility.",spec:g+"security-schemes"}}},f.prompt=function(d,g,h){var i=d.isDirectory?d:a.getParent(d),j=[{message:"That file name is already taken.",validate:function(b){var c=a.join(i.path,b);return!a.getByPath(c)}}],k=h||"",l=f.files[g][k],m=e(d,l,h),n="Add new "+l.name+" file";return b.open(l.description,m,j,n,l.spec).then(function(b){return a.generateFile(i,b,g,k).catch(function(a){return c.$broadcast("event:notification",{message:a.message,expires:!0,level:"error"})})})},f.newFragmentFile=function(a,b){return""===b?f.prompt(a,"1.0"):f.prompt(a,"1.0",b)},f.newFile=function(a,b){return f.prompt(a,b)},f}])}(),function(){"use strict";angular.module("ramlEditorApp").service("newFolderService",["ramlRepository","newNameModal",function(a,b){var c=this;return c.prompt=function(c){var d=c.isDirectory?c:a.getParent(c),e=[{message:"That folder name is already taken.",validate:function(b){var c=a.join(d.path,b);return!a.getByPath(c)}}]
;return b.open("Input a name for your new folder:","",e,"Add a new folder").then(function(b){return a.generateDirectory(d,b)})},c}])}(),function(){"use strict";function a(a,b,c,d,e,f){function g(a){return'file with path="'+a+'" does not exist'}function h(a,b){a.type===f&&(a.children=b(a.path))}function i(a){var b=[];return e.forEach(function(c){c.path.toLowerCase()===a.toLowerCase()&&(h(c,j),b.push(c))}),b.length>0?b[0]:null}function j(a){a.lastIndexOf("/")!==a.length-1&&(a+="/");var b=[];return e.forEach(function(c){c.path.toLowerCase()!==a.toLowerCase()&&o(c.path)+"/"===a&&(h(c,j),b.push(c))}),b}function k(a){return 0!==a.indexOf("/")?{valid:!1,reason:'Path should start with "/"'}:{valid:!0}}function l(a){var b=o(a);return!(!e.has(b)&&""!==b)}function m(a){var b=!1;return e.forEach(function(c){0===c.path.indexOf(a+"/")&&(b=!0)}),b}function n(a){if(!k(a).valid)throw"Invalid Path!";return a.lastIndexOf("/")===a.length-1&&(a=a.slice(0,-1)),a.slice(a.lastIndexOf("/")+1)}function o(a){if(!k(a).valid)throw"Invalid Path!";return a.lastIndexOf("/")===a.length-1&&(a=a.slice(0,-1)),a.slice(0,a.lastIndexOf("/"))}var p={},q=500;return p.supportsFolders=!0,p.directory=function(a){var c=b.defer();return d(function(){var b=k(a);if(!b.valid)return c.reject(b.reason),c.promise;e.has("/")||e.set(a,{path:"/",name:"",type:"folder",meta:{created:Math.round((new Date).getTime()/1e3)}}),c.resolve(i(a))},q),c.promise},p.save=function(a,c){var g=b.defer();return d(function(){var b=n(a),d=e.get(a);if(!l(a))return g.reject(new Error("Parent folder does not exists: "+a)),g.promise;var h={};if(d){if(d.type===f)return g.reject("file has the same name as a folder"),g.promise;d.content=c,d.meta.lastUpdated=Math.round((new Date).getTime()/1e3),h=d}else h={path:a,name:b,content:c,type:"file",meta:{created:Math.round((new Date).getTime()/1e3)}};e.set(a,h),g.resolve()},q),g.promise},p.createFolder=function(a){var c=b.defer(),f=k(a);if(!f.valid)return c.reject(f.reason),c.promise;if(e.has(a))return c.reject(new Error("Folder already exists: "+a)),c.promise;var g=o(a);return e.has(g)?(d(function(){e.set(a,{path:a,name:n(a),type:"folder",meta:{created:Math.round((new Date).getTime()/1e3)}}),c.resolve()},q),c.promise):(c.reject(new Error("Parent folder does not exists: "+a)),c.promise)},p.load=function(a,c){var f=b.defer();return(c?setTimeout:d)(function(){var b=e.get(a);b&&"file"===b.type?f.resolve(e.get(a).content):f.reject(g(a))},q),f.promise},p.remove=function(a){var c=b.defer();return d(function(){var b=e.get(a);if(b&&b.type===f&&m(a))return c.reject("folder not empty"),c.promise;e.remove(a),c.resolve()},q),c.promise},p.rename=function(a,c){var g=b.defer();return d(function(){var b=e.get(a);return b?e.get(c)?(g.reject("File or folder already exists."),g.promise):l(c)?(b.path=c,b.name=n(c),e.remove(c),e.remove(a),e.set(c,b),b.type===f&&e.forEach(function(b){if(b.path.toLowerCase()!==c.toLowerCase()&&0===b.path.indexOf(a+"/")){var d=c+b.path.substring(a.length);e.remove(b.path),b.path=d,e.set(d,b)}}),void g.resolve()):(g.reject("Destination folder does not exist."),g.promise):(g.reject("Source file or folder does not exists."),g.promise)},q),g.promise},p.exportFiles=function(){var b=new a.JSZip;e.forEach(function(a){if("/"!==a.path&&".meta"!==a.name.slice(-5)){var c=a.path.slice(1);"folder"===a.type?b.folder(c):b.file(c,a.content)}});var d=c("Please enter a ZIP file name:","api.zip");d&&a.saveAs(b.generate({type:"blob"}),d)},p}angular.module("fs").constant("LOCAL_PERSISTENCE_KEY","localStorageFilePersistence").constant("FOLDER","folder").factory("localStorageHelper",["LOCAL_PERSISTENCE_KEY",function(a){return{forEach:function(b){for(var c in localStorage)localStorage.hasOwnProperty(c)&&0===c.indexOf(a+".")&&b(JSON.parse(localStorage.getItem(c)))},has:function(a){var b=!1;return a=a||"/",this.forEach(function(c){c.path.toLowerCase()===a.toLowerCase()&&(b=!0)}),b},set:function(b,c){localStorage.setItem(a+"."+b,JSON.stringify(c))},get:function(b){return JSON.parse(localStorage.getItem(a+"."+b))},remove:function(b){localStorage.removeItem(a+"."+b)}}}]).factory("localStorageFileSystem",a).config(function(b){b.hasFactory||b.setFileSystemFactory(a)})}(),function(){"use strict";angular.module("ramlEditorApp").service("mockingServiceClient",["$http","$q","$window","$rootScope","resolveUri",function(a,b,c,d,e){function f(){var a=/^#\/organizations\/([A-Za-z0-9-]+)\/dashboard\/apis\/([0-9-]+)\/versions\/([0-9-]+).*$/,b=c.location.hash.match(a);return null!==b&&b[1]&&b[2]&&b[3]?b.slice(1):[]}function g(){try{return JSON.parse(localStorage.user).token||""}catch(a){return""}}function h(a){return{"MS2-Authorization":g(),"MS2-Main-File":encodeURI(a&&a.name||""),"MS2-Origin":"API Designer Legacy"}}var i=this,j="/";i.proxy=null,i.baseUri="https://qax.anypoint.mulesoft.com/mocking/api/v1",i.legacyBaseUri="https://mocksvc.mulesoft.com",i.buildMockingService1Url=function(){return i.legacyBaseUri+["/mocks"].concat(Array.prototype.slice.call(arguments,0)).join("/")},i.buildMockingService2Url=function(){var a=["sources","manager","apis"].concat(f()).concat(Array.prototype.slice.call(arguments,0));return i.baseUri+j+a.join(j)},i.buildURL=function(a){var b=a||i.buildMockingService2Url(),d=i.proxy||c.RAML.Settings.proxy;return d&&(b=d+e(b)),b},i.enableMock=function(b){return a.post(i.buildURL(this.buildMockingService2Url("link")),null,{headers:h(b)}).then(function(c){const d=c.data.id;return a.get(i.buildURL(),{headers:h(b)}).then(function(a){var b=a.data&&a.data.metadata&&a.data.metadata.baseUriPath;return i.baseUri+"/links/"+d+b})})},i.deleteMock=function(b){return a.delete(i.buildURL(),{headers:h(b)})},i.deleteMock1=function(b){return a.delete(i.buildURL(i.buildMockingService1Url(),b.id,b.manageKey))},d.$on("event:evict-mocking",function(a,b){i.deleteMock(b)})}])}(),function(){"use strict";angular.module("ramlEditorApp").service("mockingService",["mockingServiceClient","ramlRepository",function(a,b){function c(a){return b.loadMeta(a).then(function(a){return a.mock})}function d(a,c){return b.loadMeta(a).then(function(d){return d.mock=c,b.saveMeta(a,d)}).then(function(){return c})}var e=this;e.getMock=function(a){return c(a)},e.enableMock=function(b){return a.enableMock(b).then(function(a){return d(b,a)})},e.deleteMock=function(b){return a.deleteMock(b).then(function(){return d(b,null)})},e.deleteMock1=function(b){return c(b).then(function(b){return b&&a.deleteMock(b)})}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("subMenuService",["$timeout","$window",function(a,b){this.open=function(c,d){a(function(){b.addEventListener("click",function a(){c.$apply(function(){c[d]=!1}),b.removeEventListener("click",a)})}),c[d]=!0},this.openSubMenu=function(a,b){a[b]=!0}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("importModal",["$modal",function(a){var b=this;return b.open=function(){return a.open({templateUrl:"views/import-modal.html",controller:"ImportController"}).result},b}]).controller("ImportController",["$scope","$modalInstance","swaggerToRAML","$q","$window","$rootScope","importService","ramlRepository",function(a,b,c,d,e,f,g,h){function i(a){return f.$broadcast("event:notification",{message:a,expires:!0,level:"error"})}function j(c){return a.fileSupported?(a.importing=!0,g.mergeFile(a.rootDirectory,c.value).then(function(){g.isZip(c.value)&&f.$broadcast("event:save-all",!0)}).then(function(){return b.close(!0)}).catch(function(a){i(a.message||a)}).finally(function(){a.importing=!1})):i("File upload not supported. Try upgrading your browser.")}function k(d){a.importing=!0;var f=e.RAML.Settings.proxy||"",h=f+d.value;return c.url(h).then(function(b){var c=m(d.value,"raml");return g.createAndSaveFile(a.rootDirectory,c,b)}).then(function(){return b.close(!0)}).catch(function(a){i("Failed to import Swagger: "+a.message)}).finally(function(){a.importing=!1})}function l(d){a.importing=!0;var e;return e=g.isZip(d.value)?c.zip(a.rootDirectory,d.value).then(function(){f.$broadcast("event:save-all")}):c.file(d.value).then(function(b){var c=m(d.value.name,"raml");return g.createAndSaveFile(a.rootDirectory,c,b)}),e.then(function(){return b.close(!0)}).catch(function(a){i("Failed to parse Swagger: "+a.message)}).finally(function(){a.importing=!1})}function m(a,b){var c=a.replace(/\/*$/,""),d=c.lastIndexOf("/");return d>-1&&(c=c.substr(d)),b&&(c=c.replace(/\.[^\.]*$/,"")+"."+b),c}a.importing=!1,a.rootDirectory=h.getByPath("/"),a.handleFileSelect=function(b){a.mode.value=b.files[0]},a.options=[{name:"RAML file",type:"file",spec:"RAML",callback:j},{name:"OAS file",type:"file",spec:"OAS",callback:l},{name:"OAS spec",type:"url",spec:"OAS",callback:k}],a.mode=a.options[0],a.fileSupported=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),a.import=function(b){if(b.$submitted=!0,a.submittedType=a.mode.type,!b.$invalid&&!a.importing)try{return a.mode.callback(a.mode)}catch(c){a.importing=!1,i(c.message||c)}}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("confirmModal",["$rootScope","$modal",function(a,b){var c=this;return c.open=function(c,d,e){return e=angular.extend({canDiscard:!1,closeButtonLabel:"OK",discardButtonLabel:"Discard",dismissButtonLabel:"Cancel",closeButtonCssClass:"btn-primary"},e),b.open({templateUrl:"views/confirm-modal.html",controller:"ConfirmController",scope:angular.extend(a.$new(),{title:d,message:c,canDiscard:e.canDiscard,closeButtonLabel:e.closeButtonLabel,discardButtonLabel:e.discardButtonLabel,dismissButtonLabel:e.dismissButtonLabel,closeButtonCssClass:e.closeButtonCssClass})}).result},c}]).controller("ConfirmController",["$modalInstance","$scope",function(a,b){b.discard=function(){a.dismiss(angular.extend(new Error,{discard:!0}))}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("newNameModal",["$modal",function(a){var b=this;return b.open=function(b,c,d,e,f){return a.open({templateUrl:"views/new-name-modal.html",controller:"NewNameController",windowClass:"modal in",resolve:{message:function(){return b},title:function(){return e},defaultName:function(){return c},validations:function(){return d},link:function(){return f}}}).result},b}]).controller("NewNameController",["$modalInstance","$scope","message","defaultName","validations","title","link",function(a,b,c,d,e,f,g){b.input={newName:d,message:c,title:f,link:g},b.validationErrorMessage="",b.isValid=function(a){if(a)for(var c=0;c<e.length;c++)if(!e[c].validate(a))return b.validationErrorMessage=e[c].message,!1;return!0},b.submit=function(c){if(c.$invalid)return void(c.$submitted=!0);a.close(b.input.newName)}}])}(),function(){"use strict";angular.module("ramlEditorApp").service("swaggerToRAML",["$window","$q","$http","importService","oasRamlConverter",function(a,b,c,d,e){function f(a,b){var c=a.lastIndexOf(".");return c>-1&&(a=a.substr(0,c)),a+"."+b}function g(){return new e.Converter(e.Formats.OAS20,e.Formats.RAML)}function h(a,b){function c(a){try{var b=JSON.parse(a);return h.test(b.swagger)}catch(c){return i.test(a)}}function e(a,b,d){function e(a){return 0!==a.indexOf("http")?"http://zip/"+a:a}function h(a){return 0===a.indexOf("http://zip/")?a.substring("http://zip/".length):a}var i=a[b];if(!c(i))return d.resolve({name:b,content:i});var j={canRead:function(a){return null!=this.read(a)},read:function(b){var c=h(b.url),d=a[c];if(!d)throw new Error("Could not load content for file "+c);return d}};g().convertFile(e(b),{resolve:{file:j,http:j}}).then(function(a){d.resolve({name:f(b,"raml"),content:a})}).catch(function(a){d.reject(a)})}var h=/^\d+\.\d+$/,i=/swagger\s*:\s*"{0,1}\d+\.\d+"{0,1}/;return d.importZip(a,b,e)}var i=this;return i.url=function(a){var c=b.defer();return g().convertFile(a).then(c.resolve).catch(c.reject),c.promise},i.file=function(a){var c=b.defer();return d.readFile(a).then(function(a){g().convertData(a).then(c.resolve).catch(c.reject)}).catch(c.reject),c.promise},i.zip=function(a,c){var e=b.defer();return d.readFile(c).then(function(b){h(a,b).then(e.resolve).catch(e.reject)}).catch(e.reject),e.promise},i}])}(),function(){"use strict";angular.module("ramlEditorApp").service("ramlToSwagger",["$q","$window","ramlRepository","ramlEditorMainHelpers","oasRamlConverter",function(a,b,c,d,e){function f(b){if(b&&d.isApiDefinition(b.contents))return a.when(b);var e=a.defer();return h(c.getByPath("/"),e),e.promise}function g(b,e){(b.loaded?a.when(b):c.loadFile(b)).then(function(a){d.isApiDefinition(a.contents)&&e.resolve(a)})}function h(a,b){for(var c=0;c<a.children.length;c++){var d=a.children[c];d.isDirectory?h(d,b):g(d,b)}}function i(a){var b=d.isApiDefinitionV08(a.contents)?e.Formats.RAML08:e.Formats.RAML10;return new e.Converter(b,e.Formats.OAS)}function j(a,b,d){var e={format:d,fsResolver:{content:function(a){throw new Error("ramlParser: loadPath: loadApi: content: "+a+": no such path")},contentAsync:function(a){return c.getContentByPath(a)}}};i(a).convertFile(a.path,e).then(function(c){b.resolve({name:a.name,path:a.path,contents:c})}).catch(b.reject)}function k(b,c){var d=a.defer();return f(c).then(function(a){j(a,d,b)}).catch(function(a){d.reject(a)}),d.promise}var l=this;return l.json=function(a){return k("json",a)},l.yaml=function(a){return k("yaml",a)},l}])}(),function(){"use strict";angular.module("ramlEditorApp").service("importService",["$q","$window","ramlRepository","importServiceConflictModal",function(a,b,c,d){function e(a,b,c){return r.readFile(c).then(function(d){if(r.isZip(c)){var e=b.replace(/[\\\/][^\\\/]*$/,"");return r.createDirectory(a,e).then(function(a){return r.importZip(a,d)})}return r.createFile(a,b,d)})}function f(b,c,d){return 0===c.length?a.reject("No valid files to import in .zip"):m(Object.keys(c).filter(i).map(function(e){return function(){if(d){var f=a.defer();return d(c,e,f),f.promise.then(function(a){return r.createFile(b,a.name,a.content)})}return r.createFile(b,e,c[e])}}))}function g(a){var b={};return Object.keys(a).forEach(function(c){if(!/^__MACOSX\//.test(c)&&!/\/$/.test(c)){var d=a[c];p(d)&&(b[c]=d.asText())}}),b}function h(a){var b=Object.keys(a);if(0===b.length)return[];var c=b.map(function(a){return/[\\\/]/.test(a)?a.replace(/[\\\/][^\\\/]*$/,"").split(/[\\\/]/):[]}).reduce(function(a,b){for(var c=0;c<a.length;c++)if(b[c]!==a[c])return b.slice(0,c);return a}).join("/");if(!c)return angular.extend({},a);var d={};return Object.keys(a).forEach(function(b){var e=b.substr(c.length+1);e&&(d[e]=a[b])}),d}function i(a){return!/(?:^|[\/\\])\./.test(a)}function j(a){return!!c.getByPath(a)}function k(a,b,d){return c.createFile(a,b).then(function(a){return a.contents=d,a})}function l(a,b){var d,e=0,f=b.lastIndexOf("."),g=f>-1?b.substr(0,f):b,h=f>-1?b.substr(f):"";do{var i=g+"-"+ ++e+h;d=c.join(a.path,i)}while(j(d));return d}function m(b){return b.reduce(function(a,b){return a.then(b)},a.when())}function n(a){return a.split("/").map(function(a){return a.replace(/[^A-Za-z0-9. _-]/g,"")}).join("/")}function o(a){return a.size<=1e7}function p(a){var c=b.RAML.Settings.customValidFileTypes||"text|image|raml|json|yaml|xml|xsd|zip",d=new RegExp(c,"i");if(a.type&&d.test(a.type))return!0;var e=b.RAML.Settings.customValidFileExtensions||".raml|.json|.yaml|.yml|.xml|.xsd|.jsd|.md|.txt|.jpg|.jpeg|.png|.html|.csv|.properties|.zip$";return new RegExp(e,"i").test(a.name)}function q(a){return a.name.slice(a.name.lastIndexOf(".")+1)}var r=this;r.mergeFile=function(a,b){return r.isZip(b)?r.readFile(b).then(function(b){return r.mergeZip(a,b)}):r.importFile(a,b).then(c.saveFile)},r.mergeFileList=function(a,b){return m(Array.prototype.map.call(b,function(b){return function(){return r.mergeFile(a,b)}}))},r.importEntry=function(b,d){var f=a.defer();if(d.isFile)d.file(function(a){var g=c.join(b.path,d.fullPath);return e(b,g,a).then(f.resolve,f.reject)},f.reject);else{d.createReader().readEntries(function(a){return m(a.filter(function(a){return i(a.name)}).map(function(a){return function(){return r.importEntry(b,a)}})).then(f.resolve,f.reject)})}return f.promise},r.importItem=function(a,b){return b.webkitGetAsEntry?r.importEntry(a,b.webkitGetAsEntry()):r.importFile(a,b.getAsFile())},r.importFile=function(a,b){return e(a,b.name,b)},r.importFromEvent=function(a,b){return b.dataTransfer.items?r.importItemList(a,b.dataTransfer.items):r.importFileList(a,b.dataTransfer.files)},r.importItemList=function(a,b){return m(Array.prototype.map.call(b,function(b){return function(){return r.importItem(a,b)}}))},r.importFileList=function(a,b){return m(Array.prototype.map.call(b,function(b){return function(){return r.importFile(a,b)}}))},r.createAndSaveFile=function(a,b,d){return r.createFile(a,b,d).then(c.saveFile)},r.createFile=function(b,e,f){var g=n(e);return r.checkExistence(b,g).then(function(e){if(e!==d.SKIP_FILE){if(e===d.KEEP_FILE){var h=l(b,g);return k(b,h,f)}if(e===d.REPLACE_FILE){var i=c.join(b.path,g),j=c.getByPath(i);return(j.loaded?a.when(j):c.loadFile({path:i})).then(function(a){return a.contents!==f&&(j.contents=a.contents,j.loaded=!0,j.doc?j.doc.setValue(f):j.doc=new CodeMirror.Doc(f),j.dirty=!0),j})}return k(b,g,f)}})},r.createDirectory=function(a,b){return c.createDirectory(a,b)},r.checkExistence=function(b,e){var f=c.join(b.path,e);return j(f)?d.open(f):a.when(null)},r.isZip=function(a){return/\.zip$/i.test(a.name)},r.readFile=function(c){if(!o(c))return a.reject("Only files up to 10mb are allowed");if(!p(c))return a.reject('Invalid file type "'+q(c)+'"');var d=a.defer(),e=new b.FileReader;return e.onload=function(){return d.resolve(e.result)},e.onerror=function(){return d.reject(e.error)},r.isZip(c)?e.readAsArrayBuffer(c):e.readAsText(c),d.promise},r.parseZip=function(a){return g(new b.JSZip(a).files)},r.mergeZip=function(a,b){return f(a,h(r.parseZip(b)))},r.importZip=function(a,b,c){return f(a,r.parseZip(b),c)}}])}(),function(){"use strict";var a=0,b=1,c=2;angular.module("ramlEditorApp").service("importServiceConflictModal",["$modal",function(d){var e=this;return e.open=function(a){return d.open({backdrop:"static",templateUrl:"views/import-service-conflict-modal.html",controller:"ImportServiceConflictModal",resolve:{path:function(){return a}}}).result},e.KEEP_FILE=b,e.SKIP_FILE=a,e.REPLACE_FILE=c,e}]).controller("ImportServiceConflictModal",["$scope","$modalInstance","path",function(d,e,f){d.path=f,d.skip=function(){e.close(a)},d.keep=function(){e.close(b)},d.replace=function(){e.close(c)}}])}(),function(){"use strict";angular.module("ramlEditorApp").factory("oasRamlConverter",["$window",function(a){return a.oasRamlConverter}])}(),function(){"use strict";angular.module("ramlEditorApp").factory("jsTraverse",["$window",function(a){return a.jsTraverse}])}(),function(){"use strict";angular.module("ramlEditorApp").factory("refParser",["$window",function(a){return a.$RefParser}])}(),angular.module("ramlEditorApp").factory("ramlWorker",["ramlRepository","ramlParser","$q","$window",function(a,b,c,d){var e=function(c){return b.loadPath(c.path,function(b){return a.getContentByPath(b)})},f=d.RAML.worker;if(f){var g=null,h=null;e=function(a){var b=c.defer(),d=a.path;return g?(h&&h.deferred.reject("aborted"),h={deferred:b,data:a}):(g=a,l("ramlParse",a).then(function(a){a.path=d,b.resolve(a),i()}).catch(function(a){a.path=d,b.reject(a),i()})),b.promise};var i=function(){g=null,h&&(e(h.data).then(h.deferred.resolve).catch(h.deferred.reject),h=null)},j=function(a,b){f.addEventListener("message",function(c){c.data.type===a&&b(c.data.payload)},!1)},k=function(a,b){try{f.postMessage({type:a,payload:b})}catch(c){console.error("Error when trying to post to worker",c),f.postMessage({type:a})}},l=function(a,b){var d=c.defer();const e=function(b){b.data.type===a+"-resolve"?(f.removeEventListener("message",e,!1),d.resolve(b.data.payload)):b.data.type===a+"-reject"&&(f.removeEventListener("message",e,!1),d.reject(b.data.payload))};return f.addEventListener("message",e,!1),k(a,b),d.promise};j("requestFile",function(b){b.path===g.path?k("requestFile",{path:b.path,content:g.contents}):a.getContentByPath(b.path,!0).then(function(a){k("requestFile",{path:b.path,content:a})}).catch(function(a){var c="string"==typeof a?a:a.message||"File not found "+b.path;k("requestFile",{path:b.path,error:c})})})}return{ramlParse:e}}]),function(){"use strict";angular.module("stringFilters",[]).filter("dasherize",function(){return function(a){return a?a.toLowerCase().trim().replace(/\s/g,"-"):""}})}(),function(){"use strict";angular.module("ramlEditorApp").constant("UPDATE_RESPONSIVENESS_INTERVAL",800).controller("ramlEditorMain",["UPDATE_RESPONSIVENESS_INTERVAL","$scope","$rootScope","$timeout","$window","safeApply","safeApplyWrapper","debounce","ramlWorker","ramlRepository","codeMirror","codeMirrorErrors","config","$prompt","$confirm","$modal","mockingServiceClient","$q","ramlEditorMainHelpers",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){function t(a){var b="";return a&&(b=a.path,a.dirty&&(b="* "+b)),b}function u(a){function b(a){return a.__isFold}function c(a){return a.find().from.line}function d(a,b){return Math.min(a,b)}var e={line:a};return x.findMarksAt(e).filter(b).map(c).reduce(d,y)}function v(a,b,c){return c===b?a:"Error on line "+(b+1)+": "+a}function w(a){return a&&a.start?{line:1+a.start.line,column:a.start.column}:a&&Array.isArray(a)?{line:1+a[0],column:a[1]}:{line:1,column:1}}var x,y,z;c.mockMigrated=!1,b.mockingMigratedDismissed=!1,e.setTheme=function(a){m.set("theme",a),b.theme=c.theme=a,f(b)},b.$on("event:raml-editor-file-selected",function(a,d){z=d,s.isApiDefinitionLike(d.contents)&&c.$broadcast("event:raml-parsed",{}),d.doc||(d.doc=new CodeMirror.Doc(d.contents)),x.swapDoc(d.doc),x.focus(),k.configureEditor(x,d.extension),b.fileParsable=b.getIsFileParsable(d),b.sourceUpdated()}),b.$watch("fileBrowser.selectedFile.contents",function(a){null!=a&&a!==x.getValue()&&(z.doc=new CodeMirror.Doc(a),x.swapDoc(z.doc))});var A=h(function(){c.$broadcast("event:file-updated")},m.get("updateResponsivenessInterval",a));b.$on("event:raml-editor-file-created",A),b.$on("event:raml-editor-file-removed",A),b.$on("event:raml-editor-file-removed",function(a,b){z===b&&(z=void 0,x.swapDoc(new CodeMirror.Doc("")))}),b.canExportFiles=function(){return j.canExport()},b.supportsFolders=j.supportsFolders,b.sourceUpdated=function(){var a=x.getValue(),c=b.fileBrowser.selectedFile;b.clearErrorMarks(),c.contents=a,b.fileParsable=b.getIsFileParsable(c),A()},b.loadRaml=function(a,b){return i.ramlParse({path:b,contents:a}).then(function(b){return s.isApiDefinitionLike(a)?b:null})},b.clearErrorMarks=function(){l.clearAnnotations(),b.hasErrors=!1,b.currentErrorCount=0,b.currentWarningCount=0,z&&b.fileParsable&&""!==z.doc.getValue().trim()||(b.currentError=void 0,y=void 0)};var B;b.parsing=0,b.$on("event:file-updated",function(){b.clearErrorMarks(),d.cancel(B),B=d(function(){b.clearErrorMarks(),z&&b.fileParsable&&""!==z.doc.getValue().trim()&&(b.parsing++,b.loadRaml(z.doc.getValue(),z.path).then(g(b,function(a){if(b.parsing--,b.clearErrorMarks(),a&&a.path===z.path&&0===b.parsing){var d=a.errors;if(d&&d.length>0&&(c.$broadcast("event:raml-parser-error",d),b.currentWarningCount=d.reduce(function(a,b){return b.isWarning?a+1:a},0),b.currentErrorCount=d.reduce(function(a,b){return b.isWarning?a:a+1},0)),0===b.currentErrorCount){var e=a.specification;c.$broadcast("event:raml-parsed",e)}$(".CodeMirror").each(function(a,b){b.CodeMirror.refresh()})}})).catch(g(b,function(a){b.parsing--,"aborted"!==a&&a.path===z.path&&0===b.parsing&&(b.currentErrorCount=0,b.currentWarningCount=0,c.$broadcast("event:raml-parser-error",a.parserErrors||a))})))},700)}),b.$on("event:raml-parsed",g(b,function(a,c){b.fileBrowser.selectedFile.raml=c,b.raml=c,b.title=c&&c.title,b.version=c&&c.version,b.ramlError=void 0,b.currentError=void 0,y=void 0})),b.$on("event:raml-parser-error",g(b,function(a,c){var d=Array.isArray(c)?c:[{line:0,column:1,message:c.message,isWarning:c.isWarning}];b.ramlError=c,l.displayAnnotations(d.map(function(b){function c(a,b){for(var e=0;e<a.length;e++){var f=a[e];if(f.path===b.name)return f.from=d,f;if(f.trace){var g=c(f.trace,b);if(g)return g.from=f,g}}}var d=b,e={line:void 0,column:void 0,path:void 0};if(void 0!==b.trace){var f=a.currentScope.fileBrowser.selectedFile,g=f.path,h=g.lastIndexOf("/")+1,i=g.substring("/"===g[0]?1:0,h);if(d=c(b.trace,f)){d.isWarning=b.isWarning;var j=w(d.from.range);e={line:j.line,column:j.column,path:i+d.from.path}}else{d={message:b.message,isWarning:b.isWarning};var k=w(b.range);e={line:k.line,column:k.column,path:i+b.path}}}var l=w(d.range);return{line:l.line,column:l.column,message:d.message,severity:d.isWarning?"warning":"error",path:e.path,tracingLine:e.line,tracingColumn:e.column}}))})),b.openHelp=function(){p.open({templateUrl:"views/help.html"})},b.getIsFileParsable=function(a){return s.isRamlFile(a.extension)&&s.isApiDefinitionLike(a.contents)},b.getIsMockingServiceVisible=function(){return!(b.mockingServiceDisabled||!b.fileParsable)},b.getIsMockingService1=function(){return!(!b.raml||!b.raml.baseUri||b.mockingMigratedDismissed)&&null!==/(?:mocksvc\.[a-z\.]*)mulesoft\.com(\/(.*))?/.exec(b.raml.baseUri)},b.getIsMigrationSuccessful=function(){return c.mockMigrated&&!b.mockingMigratedDismissed},b.closeMigrationHint=function(){b.mockingMigratedDismissed=!0},b.getIsShelfVisible=function(){return b.fileParsable},b.getIsConsoleVisible=function(){return b.fileParsable&&b.raml},b.toggleShelf=function(){b.shelf.collapsed=!b.shelf.collapsed,m.set("shelf.collapsed",b.shelf.collapsed)},b.getSelectedFileAbsolutePath=function(){if(!z)return"";var a="";return b.fileParsable&&(b.parsing>0?a="validating...":(b.currentErrorCount||b.currentWarningCount)&&(b.currentErrorCount&&(a+=b.currentErrorCount+" "+(b.currentErrorCount>1?"errors":"error")),b.currentErrorCount&&b.currentWarningCount&&(a+=", "),b.currentWarningCount&&(a+=b.currentWarningCount+" "+(b.currentWarningCount>1?"warnings":"warning")))),t(z)+(a?" ("+a+")":"")},b.$on("event:toggle-theme",function(){e.setTheme("dark"===b.theme?"light":"dark")}),function(){b.currentError=void 0,b.theme=c.theme=m.get("theme","dark"),b.shelf={},b.shelf.collapsed=JSON.parse(m.get("shelf.collapsed","false")),b.editor=x=k.initEditor(),x.on("fold",function(a,c,d){c.line<=y&&y<=d.line&&l.displayAnnotations([{line:c.line+1,message:v(b.currentError.message,y,c.line)}])}),x.on("unfold",function(){var a=u(y),c=v(b.currentError.message,y,a);l.displayAnnotations([{line:a+1,message:c}])}),x.on("change",function(){b.sourceUpdated()}),e.alreadyNotifiedExit=!1,e.editorFilesystemIsDirty=function(){var a=!1;return b.homeDirectory.forEachChildDo(function(b){a=b.dirty||a}),a},e.onbeforeunload=function(){if(!e.alreadyNotifiedExit&&e.editorFilesystemIsDirty())return"WARNING: You have unsaved changes. Those will be lost if you leave this page."},b.mockingServiceBaseUri&&(q.baseUri=b.mockingServiceBaseUri)}()}])}(),function(){"use strict";angular.module("ramlEditorApp").factory("ramlEditorMainHelpers",function(){function a(a){return"raml"===a}function b(a){return c(a)||e(a)}function c(a){return/^#%RAML\s(0\.8|1\.0)\s*$/.test(f(a))}function d(a){return/^#%RAML\s(0\.8)\s*$/.test(f(a))}function e(a){return/^#%RAML\s1\.0\s(Trait|ResourceType|Library|Overlay|Extension|DataType|DocumentationItem|NamedExample|AnnotationTypeDeclaration|SecurityScheme)\s*$/.test(f(a))}function f(a){return a.split(/\r\n|\n/)[0]}return{isRamlFile:a,isApiDefinition:c,isApiDefinitionV08:d,isApiDefinitionLike:b}})}(),function(){"use strict";angular.module("ramlEditorApp").factory("applySuggestion",function(){return function(a,b){var c=b.replacementPrefix||"",d=a.getCursor(),e={line:d.line,ch:a.getLine(d.line).length},f={line:d.line,ch:d.ch-c.length};a.replaceRange(b.key,f,e);var g=b.key.split("\n"),h=g.length>1?g[g.length-1].length:d.ch+g[0].length-c.length,i=d.line+g.length-1;a.setCursor({line:i,ch:h}),a.focus()}}).factory("newSuggestions",["ramlSuggest",function(a){var b=function(a,b){var c=function(a,c){var d=a[c[b]]||[];return d.push(c),a[c[b]]=d,a};return a.reduce(c,{})},c=function(a){var c=a.map(function(a){return{category:a.category,title:a.displayText||a.text,key:a.text,replacementPrefix:a.replacementPrefix||""}}),d=b(c,"category");return{categories:Object.keys(d).map(function(a){return{name:a,items:d[a]}})}};return function(b,d,e){return a.suggest(b,d,e).then(c)}}]).controller("ramlEditorShelf",["$scope","safeApplyWrapper","newSuggestions","applySuggestion",function(a,b,c,d){function e(b){a.model=b,a.$digest()}var f=a.editor;a.cursorMoved=b(null,function(){a.shelf.collapsed?a.model=[]:c(a.homeDirectory,a.fileBrowser.selectedFile,f).then(e)}),a.orderSections=function(a){var b=["root","docs","methods","parameters","responses","security","resources","traits and types"].indexOf(a.name.toLowerCase());return-1===b?b.length:b},a.itemClick=function(a){d(f,a)},f.on("cursorActivity",a.cursorMoved)}])}(),function(){"use strict";angular.module("ramlEditorApp").constant("NOTIFICATION_TIMEOUT",3e3).controller("notifications",["NOTIFICATION_TIMEOUT","$scope","$timeout",function(a,b,c){function d(){var f;e.length&&(f=e.splice(0,1)[0],b.message=f.message,b.expires=f.expires,b.level=f.level||"info",b.shouldDisplayNotifications=!0,f.expires&&c(function(){b.shouldDisplayNotifications=!1,d()},a))}var e=[];b.shouldDisplayNotifications=!1,b.$on("event:notification",function(a,b){e.push(JSON.parse(JSON.stringify(b))),d()}),b.hideNotifications=function(){b.shouldDisplayNotifications=!1,d()}}])}(),function(){"use strict";angular.module("ramlEditorApp").controller("mockingServiceController",["$scope","$rootScope","mockingService","mockingServiceClient","codeMirror","getNode",function(a,b,c,d,e,f){function g(){function b(b,c,d){e.setLine(a.editor,b,(d||"")+a.editor.getLine(b)+"\n"+c)}for(var c="baseUri: "+a.mock,d=f(a.editor,0);d;){if("baseUri"===d.getKey())return void(d.getValue().text!==a.mock&&b(d.lineNumber,c,"#"));d=d.getNextSibling()}for(var g=0;a.editor.getLine(g);g++)if("---"===a.editor.getLine(g).trim())return void b(g,c);b(0,c)}function h(b){var c=void 0,d=void 0;for(c=0;c<a.editor.lineCount();c++)if((d=a.editor.getLine(c).trim())===b){e.removeLine(a.editor,c);break}for(c=Math.min(c,a.editor.lineCount()-1);c>=0;c--)if(d=a.editor.getLine(c).trim(),0===d.indexOf("#")&&0===d.slice(1).trim().indexOf("baseUri: ")){e.setLine(a.editor,c,d.slice(1).trim());break}}function i(b){return a.loading=!0,b.finally(function(){a.loading=!1})}function j(a){b.mock=a,b.enabled=!!a}function k(){i(c.getMock(a.fileBrowser.selectedFile).then(j).then(function(){a.mock&&g()}))}function l(d){i(c.enableMock(a.fileBrowser.selectedFile).then(j).then(g).then(function(){d&&(b.mockMigrated=!0)}))}function m(b){var d=b?c.deleteMock1(a.fileBrowser.selectedFile):c.deleteMock(a.fileBrowser.selectedFile),e=b?"baseUri: "+a.raml.baseUri:"baseUri: "+a.mock;i(d.then(function(){h(e)}).then(j))}a.toggleMockingService=function(c){if(a.fileBrowser.selectedFile)return c?(m(c),void l(c)):b.enabled?void m():void l()},a.$watch("fileBrowser.selectedFile",function(a){a?k():j()})}])}(),function(){"use strict";angular.module("splitter",[]).directive("ngSplitter",["$window","config",function(a,b){function c(a){return a.attr("ng-splitter-collapse-target")}function d(a){return a.attr("ng-splitter-min-width")}function e(a){return a[c(a)]()}function f(a){return a[{next:"prev",prev:"next"}[c(a)]]()}function g(a,b){var c=d(a);return(void 0===c||b>=c)&&e(a).css("min-width",Math.max(0,b)+"px"),Math.max(0,b)}function h(a,b,d){var h=e(a),j=i(h,b),k=f(a),l=i(k,b),m={next:1,prev:-1}[c(a)];return l+d*m<0&&(d=l*m*-1),d&&(j=g(a,j-d*m)),j}function i(a,b){var c="offset"+b[0].toUpperCase()+b.slice(1);return a[0][c]}function j(a,c){return b.get("splitterSize_"+a.attr("id"))||k(a,c)}function k(a,c){var d=i(e(a),c);return b.set("splitterSize_"+a.attr("id"),d),d}function l(a){return"true"===b.get("splitterCollapsed_"+a.attr("id"))}function m(a,c){b.set("splitterCollapsed_"+a.attr("id"),c)}function n(a,b){a.toggleClass("collapsed",b),e(a).toggleClass("hide-display",b),m(a,b)}
return angular.element.prototype.prev||(angular.element.prototype.prev=function(){var a;if(this.length)for(a=this[0].previousSibling;null!==a&&1!==a.nodeType;)a=a.previousSibling;return angular.isDefined(a)?angular.element(a):this}),{restrict:"A",link:function(b,c,d){var e,f=!1,i=!0,m="vertical"===d.ngSplitter,o=m?"width":"height",p=m?"clientX":"clientY",q=j(c,o),r=l(c),s=c.parent();g(c,q),n(c,r),b["splitterCollapsed_"+c.attr("id")]=r,c.on("mousedown",function(a){0===a.button&&(e=a[p],q=j(c,o),r=l(c),f=!0,s.addClass("noselect"))}),angular.element(a).on("mousemove",function(a){if(f){i=!0;var d=0===h(c,o,a[p]-e);d!==r&&(n(c,d),b.$apply(function(){b["splitterCollapsed_"+c.attr("id")]=d})),e=a[p],r=d}}).on("mouseup",function(){f&&(r?(n(c,!0),g(c,q),b.$apply(function(){b["splitterCollapsed_"+c.attr("id")]=!0})):k(c,o),f=!1,s.removeClass("noselect"))}),c.children(".split").on("mousedown",function(){i=!1}),c.children(".split").on("mouseup",function(){if(!i){var a=!l(c);n(c,a),b.$apply(function(){b["splitterCollapsed_"+c.attr("id")]=a}),i=!0,f=!1}})}}}])}(),function(){"use strict";angular.module("validate",[]).directive("ngValidate",["$parse",function(a){return{require:"ngModel",link:function(b,c,d,e){var f=a(d.ngValidate);b.$watch(d.ngModel,function(a){var c=f(b,{$value:a});e.$setValidity("validate",c)})}}}])}(),function(){"use strict";angular.module("autoFocus",[]).directive("ngAutoFocus",["$timeout",function(a){return{link:function(b,c,d){b.$watch(d.ngAutoFocus,function(b){b&&a(function(){c[0].focus()},100)})}}}])}(),function(){"use strict";angular.module("rightClick",[]).directive("ngRightClick",["$parse",function(a){return function(b,c,d){var e=a(d.ngRightClick);c.on("contextmenu",function(a){b.$apply(function(){a.preventDefault(),e(b,{$event:a})})})}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditor",function(){return{restrict:"E",scope:{mockingServiceDisabled:"=",mockingServiceBaseUri:"="},templateUrl:"views/raml-editor-main.tmpl.html",controller:"ramlEditorMain"}})}(),function(){"use strict";angular.module("dragAndDrop",[]).directive("ngDragEnter",["$parse",function(a){return function(b,c,d){var e=a(d.ngDragEnter),f=0;c.on("dragleave",function(){f--}),c.on("dragenter",function(a){1===++f&&b.$apply(function(){a.preventDefault(),e(b,{$event:a})})})}}]).directive("ngDragLeave",["$parse",function(a){return function(b,c,d){var e=a(d.ngDragLeave),f=0;c.on("dragenter",function(){f++}),c.on("dragleave",function(a){0===--f&&b.$apply(function(){a.preventDefault(),e(b,{$event:a})})})}}]).directive("ngDrop",["$parse",function(a){return function(b,c,d){var e=a(d.ngDrop);c.on("dragover",function(a){a.preventDefault()}),c.on("drop",function(a){b.$apply(function(){a.preventDefault(),a.stopPropagation(),e(b,{$event:a.originalEvent})})})}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorContextMenu",["$injector","$window","confirmModal","newNameModal","ramlRepository","newFileService","newFolderService","subMenuService","scroll",function(a,b,c,d,e,f,g,h,i){function j(a){var b={label:"Save",execute:function(){return e.saveFile(a)}},h={label:"New File",fragments:f.files["1.0"],execute:function(b){if(b)return f.prompt(a,"1.0",b)},newFile:function(){return f.prompt(a,"0.8")}},i={label:"New Folder",execute:function(){return g.prompt(a)}},j={label:"Rename",execute:function(){var b=e.getParent(a),c=a.isDirectory?"Enter a new name for this folder:":"Enter a new name for this file:",f=a.isDirectory?"Rename a folder":"Rename a file",g=[{message:"This name is already taken.",validate:function(a){var c=e.join(b.path,a);return!e.getByPath(c)}}];return d.open(c,a.name,g,f).then(function(b){e.rename(a,b)})}},k={label:"Delete",execute:function(){var b,d;return a.isDirectory?(b='Are you sure you want to delete "'+a.name+'" and all its contents?',d="Delete folder"):(b='Are you sure you want to delete "'+a.name+'"?',d="Delete file"),c.open(b,d,{closeButtonLabel:"Delete",closeButtonCssClass:"btn-danger"}).then(function(){return e.remove(a)})}};return a.isDirectory?[h,i,j,k]:[b,j,k]}function k(a){var b=a.getBoundingClientRect();return!(b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth))}return{restrict:"E",templateUrl:"views/raml-editor-context-menu.tmpl.html",link:function(a,c){function d(a,b){var c=b.pageY,d=b.pageX,e=angular.element(a[0].children[0]);e.css("top",c+"px"),e.css("left",d+"px"),setTimeout(function(){k(e[0])&&e.css("top",c-e[0].offsetHeight+"px")},0)}function e(c){c&&c.target.firstChild.nodeValue&&c.target.firstChild.nodeValue.match("New File")||(i.enable(),a.$apply(function(){delete g.target,a.opened=!1,b.removeEventListener("click",e),b.removeEventListener("keydown",f)}))}function f(a){27===a.which&&(a.preventDefault(),e())}a.openFileMenu=function(b){"New File"===b.label&&h.openSubMenu(a,"showFileMenu")},a.closeFileMenu=function(){a.showFileMenu=!1};var g={open:function(g,h){i.disable(),this.target=h,a.target=h,a.actions=j(h),g.stopPropagation(),d(c,g),b.addEventListener("click",e),b.addEventListener("keydown",f),a.opened=!0}};a.registerContextMenu(g)},scope:!0}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorFileBrowser",["$q","$window","$rootScope","$timeout","config","ramlRepository","newNameModal","importService",function(a,b,c,d,e,f,g,h){function i(i){function j(a){if("/"!==a.path){var b=f.getParent(a);b.collapsed=!1,j(b)}}function k(a){83!==a.which||!a.metaKey&&!a.ctrlKey||a.shiftKey||a.altKey||(a.preventDefault(),i.$apply(function(){n.saveFile(n.selectedFile)}))}function l(){var a="Untitled-1.raml",b=[];g.open("File system has no files, please input a name for the new file:",a,b,"Add a new file").then(function(a){return f.generateFile(i.homeDirectory,a)},function(){return f.generateFile(i.homeDirectory,a)})}function m(a){for(var b=[a],c=0;c<b.length;){for(var d=b[c],e=d.children,f=void 0,g=0;g<e.length;g++){if(f=e[g],"file"===f.type&&f.root)return f;"directory"===f.type&&b.push(f)}c+=1}}var n=this,o=angular.noop,p=void 0;i.toggleFolderCollapse=function(a){a.collapsed=!a.collapsed},i.fileTreeOptions=function(){var a=!1;return{accept:function(b,c,d){var e,g=b.$modelValue,h=d<0?i.homeDirectory:c.$modelValue[d];h.isDirectory||(h=c.$nodeScope?c.$nodeScope.$modelValue:i.homeDirectory);var j=f.getParent(g).path===h.path||h.path.slice(0,g.path.length)===g.path;return a=h.children.filter(function(a){return a.name===g.name}).length>0,e=!a&&!j,n.cursorState=e?"ok":"no",e},dropped:function(a){var b=a.source.nodeScope.$modelValue,c=a.dest.nodesScope.$nodeScope?a.dest.nodesScope.$nodeScope.$modelValue:i.homeDirectory;f.move(b,c).then(function(){return n.select(b)})},dragStop:function(b){n.cursorState="",!b.canceled&&a&&c.$broadcast("event:notification",{message:"Failed: duplicate file name found in the destination folder.",expires:!0,level:"error"})}}}(),n.select=function(a){return a.isDirectory?n.selectDirectory(a):n.selectFile(a)},i.$on("event:raml-editor-file-select",function(a,b){var c=f.getByPath(b);n.selectFile(c)}),c.$on("event:imported-file-selected",function(){var a=JSON.parse(e.get("currentFile","{}")),b=f.getByPath(a.path);n.selectFile(b)}),n.selectFile=function(b){if(n.selectedFile&&n.selectedFile.$$hashKey===b.$$hashKey)return void(n.currentTarget=b);o(),(b.loaded||!b.persisted?a.when(b):f.loadFile(b)).then(function(a){n.selectedFile=n.currentTarget=a,i.$emit("event:raml-editor-file-selected",a),o=i.$watch("fileBrowser.selectedFile.contents",function(b,c){b!==c&&(a.dirty=!0)})})},n.selectDirectory=function(a){i.$emit("event:raml-editor-directory-selected",a)},n.saveFile=function(a){f.saveFile(a).then(function(){return c.$broadcast("event:notification",{message:"File saved.",expires:!0})})},n.dropFile=function(a,b){return h.importFromEvent(b,a).then(function(){b.collapsed=!1}).catch(function(a){c.$broadcast("event:notification",{message:a.message,expires:!0,level:"error"})})},n.showContextMenu=function(a,b){p.open(a,b)},n.contextMenuOpenedFor=function(a){return p&&p.target===a},b.addEventListener("keydown",k),i.fileBrowser=n,i.registerContextMenu=function(a){p=a},i.$on("event:raml-editor-file-generated",function(a,b){n.selectFile(b)}),i.$on("event:raml-editor-directory-created",function(a,b){n.selectDirectory(b)}),i.$on("event:raml-editor-file-selected",function(a,b){j(b)}),i.$on("event:raml-editor-directory-selected",function(a,b){j(b)}),i.$on("event:raml-editor-filetree-modified",function(a,b){f.getParent(b).sortChildren()}),i.$on("event:raml-editor-file-removed",function(a,b){d(function(){var a=i.homeDirectory.getFiles();0===a.length?l():b===n.selectedFile&&n.selectFile(a[0])})}),i.$on("$destroy",function(){b.removeEventListener("keydown",k)}),i.$watch("fileBrowser.selectedFile.path",function(a,b){a!==b&&e.set("currentFile",JSON.stringify({path:a,name:a.slice(a.lastIndexOf("/")+1)}))}),f.loadDirectory().then(function(a){i.homeDirectory=a,n.rootFile=m(a);var b=[];if(i.homeDirectory.forEachChildDo(function(a){a.isDirectory||b.push(a)}),!b.length)return void l();var c=JSON.parse(e.get("currentFile","{}")),d=f.getByPath(c.path)||n.rootFile||b[0];n.selectFile(d)})}return{restrict:"E",templateUrl:"views/raml-editor-file-browser.tmpl.html",controller:i}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorProjectButton",["$timeout","$window","subMenuService",function(a,b,c){return{restrict:"E",templateUrl:"views/menu/project-menu.tmpl.html",link:function(a){a.openProjectMenu=function(){c.open(a,"showProjectMenu")},a.openFileMenu=function(){c.openSubMenu(a,"showFileMenu")},a.closeFileMenu=function(){a.showFileMenu=!1}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorSaveFileButton",["$rootScope","ramlRepository",function(a,b){return{restrict:"E",replace:!0,template:'<li role="save-button" ng-click="saveFile()"><a><i class="fa fa-save"></i>&nbsp;Save</a></li>',link:function(c){c.saveFile=function(){var d=c.fileBrowser.selectedFile;return a.$broadcast("event:evict-mocking",d),b.saveFile(d).then(function(){a.$broadcast("event:notification",{message:"File saved.",expires:!0})})}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorSaveAllButton",["$rootScope","ramlRepository","$q",function(a,b,c){return{restrict:"E",replace:!0,template:'<li role="save-all-button" ng-click="saveAllFiles()"><a><i class="fa fa-save"></i>&nbsp;Save All</a></li>',link:function(d){d.saveAllFiles=function(e){var f=[];return d.homeDirectory.forEachChildDo(function(a){if(!a.isDirectory)return a.dirty?f.push(b.saveFile(a)):void 0}),c.all(f).then(function(){e&&a.$broadcast("event:imported-file-selected"),a.$broadcast("event:notification",{message:"All files saved.",expires:!0})})},a.$on("event:save-all",function(a,b){d.saveAllFiles(b)})}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorNewFolderButton",["newFolderService",function(a){return{restrict:"E",replace:!0,template:'<li ng-show="supportsFolders" role="new-folder-button" ng-click="newFolder()"><a><i class="fa fa-folder-open"></i>&nbsp;New Folder</a></li>',link:function(b){b.newFolder=function(){return a.prompt(b.homeDirectory)}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorNewFileMenu",["newFileService","subMenuService",function(a,b){return{restrict:"E",replace:!0,scope:{target:"=",showFileMenu:"=",showFragmentMenu:"=",openFileMenuCondition:"@",menuRole:"@"},templateUrl:"views/menu/new-file-menu.tmpl.html",link:function(c){c.closeFragmentMenu=function(){c.showFragmentMenu=!1},c.openFragmentMenu=function(){b.openSubMenu(c,"showFragmentMenu"),c.fragments=a.files["1.0"]},c.newFragmentFile=function(b){return a.newFragmentFile(c.target||c.$parent.homeDirectory,b)},c.newFile=function(b){return a.newFile(c.target||c.$parent.homeDirectory,b)},c.notSorted=function(a){return a?Object.keys(a).map(function(b){return a[b]}):[]}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorExportMenu",["ramlRepository","subMenuService","ramlToSwagger","$window","$location","$rootScope",function(a,b,c,d,e,f){return{restrict:"E",templateUrl:"views/menu/export-menu.tmpl.html",link:function(g){function h(a,b){var c=new Blob([a],{type:"application/json;charset=utf-8"});d.saveAs(c,b)}function i(a){return f.$broadcast("event:notification",{message:a,expires:!0,level:"error"})}function j(a,b){var c=a.lastIndexOf(".");c>-1&&(a=a.substr(0,c));var d=a.lastIndexOf("/");return d>-1&&(a=a.substr(d+1)),a+"."+b}g.xOasExport=g.xOasExport||"true"===e.search().xOasExport,g.openExportMenu=function(){b.openSubMenu(g,"showExportMenu")},g.closeExportMenu=function(){g.showExportMenu=!1},g.exportZipFiles=function(){a.exportFiles()},g.exportJsonFiles=function(){var a=g.fileBrowser.selectedFile;c.json(a).then(function(a){h(JSON.stringify(a.contents,null,2),j(a.name||a.path,"json"))}).catch(function(a){i(a)})},g.exportYamlFiles=function(){var a=g.fileBrowser.selectedFile;c.yaml(a).then(function(a){h(a.contents,j(a.name||a.path,"yaml"))}).catch(function(a){i(a)})}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorImportButton",["$injector","importModal",function(a,b){return{restrict:"E",replace:!0,template:'<li role="import-button" ng-click="importFile()"><a><i class="fa fa-cloud-download"></i>&nbsp;Import</a></li>',link:function(a){a.importFile=function(){return b.open()}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorViewButton",["$timeout","$window","subMenuService","$rootScope",function(a,b,c,d){return{restrict:"E",templateUrl:"views/menu/view-menu.tmpl.html",link:function(a){a.openViewMenu=function(){c.open(a,"showViewMenu")},a.toogleBackgroundColor=function(){d.$broadcast("event:toggle-theme")}}}}])}(),function(){"use strict";angular.module("ramlEditorApp").directive("ramlEditorHelpButton",["$modal","$timeout","$window","subMenuService",function(a,b,c,d){return{restrict:"E",templateUrl:"views/menu/help-menu.tmpl.html",link:function(b){b.openHelpContextMenu=function(){d.open(b,"menuContextHelpOpen")},b.openHelpModal=function(){a.open({templateUrl:"views/modal/help.html"})}}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNode",["treeConfig","$uiTreeHelper","$window","$document","$timeout","ramlRepository","config",function(a,b,c,d,e,f,g){return{require:["^uiTreeNodes","^uiTree","?uiTreeNode"],link:function(h,i,j,k){var l={};angular.extend(l,a),l.nodeClass&&i.addClass(l.nodeClass),h.init(k),h.collapsed=!!b.getNodeAttribute(h,"collapsed"),h.$watch(j.collapsed,function(a){"boolean"==typeof a&&(h.collapsed=a)}),h.$watch("collapsed",function(a){b.setNodeAttribute(h,"collapsed",a),j.$set("collapsed",a)});var m,n,o,p,q,r,s,t,u,v="ontouchstart"in window,w=!0,x=!1,y=null,z=!1,A=null,B=1e3,C=document.body,D=document.documentElement,E=function(a){if((v||2!==a.button&&3!==a.which)&&!(a.uiTreeDragging||a.originalEvent&&a.originalEvent.uiTreeDragging)){var e=angular.element(a.target),f=e.scope();if(f&&f.$type&&!("uiTreeNode"!==f.$type&&"uiTreeHandle"!==f.$type||"uiTreeNode"===f.$type&&f.$handleScope)){var j=e.prop("tagName").toLowerCase();if("input"!==j&&"textarea"!==j&&"button"!==j&&"select"!==j){for(;e&&e[0]&&e[0]!==i;){if(b.nodrag(e))return;e=e.parent()}if(h.beforeDrag(h)){a.uiTreeDragging=!0,a.originalEvent&&(a.originalEvent.uiTreeDragging=!0),a.preventDefault();var k=b.eventObj(a);n=!0,o=b.dragInfo(h);var q=h.$element.prop("tagName");s=angular.element(c.document.createElement(q)),l.hiddenClass&&s.addClass(l.hiddenClass),p=b.positionStarted(k,h.$element),r=angular.element(c.document.createElement(h.$parentNodesScope.$element.prop("tagName"))).addClass(h.$parentNodesScope.$element.attr("class")).addClass(l.dragClass).addClass("light"===g.get("theme")?"drag-light":""),r.css("z-index",9999),h.$element.after(s),r.append(h.$element.clone().html(h.$element.children()[0].innerHTML));var w=d.find("raml-editor-file-browser");w.append(r);var x=k.pageX-p.offsetX-w.offset().left,y=k.pageY-p.offsetY-w.offset().top;r.css({left:x+"px",top:y+"px"}),m={dragging:r},h.$element.addClass("drag-elm");angular.element(r[0].lastChild).scope().collapsed=!0,angular.element(d).bind("touchend",K),angular.element(d).bind("touchcancel",K),angular.element(d).bind("touchmove",J),angular.element(d).bind("mouseup",K),angular.element(d).bind("mousemove",J),angular.element(d).bind("mouseleave",L),t=Math.max(C.scrollHeight,C.offsetHeight,D.clientHeight,D.scrollHeight,D.offsetHeight),u=Math.max(C.scrollWidth,C.offsetWidth,D.clientWidth,D.scrollWidth,D.offsetWidth),h.$treeScope.isDragging=!0}}}}},F=function(a){if(!x)return void(w||(x=!0,h.$apply(function(){h.$callbacks.dragStart(o.eventArgs(m,p))})));var f,g,i,j=b.eventObj(a);if(r){a.preventDefault(),c.getSelection?c.getSelection().removeAllRanges():c.document.selection&&c.document.selection.empty();var k=d.find("raml-editor-file-browser");f=j.pageX-p.offsetX-k.offset().left,g=j.pageY-p.offsetY-k.offset().top,i={left:f,right:f+r[0].scrollWidth+5,top:g,bottom:g+r[0].scrollHeight},i.left<0?f=0:i.right>u&&(f=u-r[0].scrollWidth-5),i.top<0?g=0:i.bottom>t&&(g=t-r[0].scrollHeight),r.css({left:f+"px",top:g+"px"});var l=window.pageYOffset||c.document.documentElement.scrollTop,s=l+(window.innerHeight||c.document.clientHeight||c.document.clientHeight);if(s<j.pageY&&s<=t&&window.scrollBy(0,10),l>j.pageY&&window.scrollBy(0,-10),b.positionMoved(a,p,n),n)return void(n=!1);var v;angular.isFunction(r.hide)?r.hide():(v=r[0].style.display,r[0].style.display="none");var y=j.pageX-c.document.body.scrollLeft,z=j.pageY-(window.pageYOffset||c.document.documentElement.scrollTop);c.document.elementFromPoint(y,z);var C=angular.element(c.document.elementFromPoint(y,z));angular.isFunction(r.show)?r.show():r[0].style.display=v;var D=C.scope();if(!p.dirAx&&D!==h.prevHoverNode){var E=!1;if(h.prevHoverNode=D,!D)return;if("uiTree"===D.$type&&D.dragEnabled&&(E=D.isEmpty()),"uiTreeHandle"===D.$type&&(D=D.$nodeScope),"uiTreeDummyNode"===D.$type)return q=D.$parentNodesScope.accept(h,-1),q&&o.moveTo(D.$parentNodesScope,D.$parentNodesScope.childNodes(),H(h.$modelValue,D.$parentNodesScope.$modelValue)),$(".dragover").removeClass("dragover"),C.addClass("dragover"),void(A&&(e.cancel(A),A=null));if("uiTreeNode"!==D.$type&&!E)return;e.cancel(A),$(".dragover").removeClass("dragover"),D.$childNodesScope?(angular.element(D.$element.children()[0]).addClass("dragover"),D.collapsed&&(A=e(function(){D.collapsed=!1,h.nodeToExpand=null},B)),h.nodeToExpand=D):D.$parentNodeScope?(C.addClass("dragover"),angular.element(D.$parentNodeScope.$element.children()[0]).addClass("dragover"),h.nodeToExpand=D.$parentNodeScope):C.addClass("dragover"),E?D.$nodesScope.accept(h,0)&&o.moveTo(D.$nodesScope,D.$nodesScope.childNodes(),0):D.dragEnabled()&&(C=D.$element,(q=D.$parentNodesScope.accept(h,D.index()))&&(D.$childNodesScope?o.moveTo(D.$childNodesScope,D.childNodes(),H(h.$modelValue,D.$childNodesScope.$modelValue)):o.moveTo(D.$parentNodesScope,D.$parentNodesScope.childNodes(),H(h.$modelValue,D.$parentNodesScope.$modelValue))))}h.$apply(function(){h.$callbacks.dragMove(o.eventArgs(m,p))})}},G=function(a){a.preventDefault(),r&&(h.$treeScope.$apply(function(){h.$callbacks.beforeDrop(o.eventArgs(m,p))}),s.replaceWith(h.$element),r.remove(),r=null,h.$$apply?(o.apply(),h.$treeScope.$apply(function(){h.$callbacks.dropped(o.eventArgs(m,p))})):M(),h.$treeScope.$apply(function(){var a=o.eventArgs(m,p);a.canceled=z,h.$callbacks.dragStop(a)}),h.$$apply=!1,o=null),angular.element(d).unbind("touchend",K),angular.element(d).unbind("touchcancel",K),angular.element(d).unbind("touchmove",J),angular.element(d).unbind("mouseup",K),angular.element(d).unbind("mousemove",J),angular.element(c.document.body).unbind("mouseleave",L),$(".dragover").removeClass("dragover"),h.$element.removeClass("drag-elm"),h.$treeScope.isDragging=!1,h.prevHoverNode=null,z=!1},H=function(a,b){for(var c,d=0,e=b.length-1;e>=d;)c=Math.floor((d+e)/2),f.sortingFunction.call(null,b[c],a)>0?e=c-1:d=c+1;return d},I=function(a){h.dragEnabled()&&E(a)},J=function(a){F(a)},K=function(a){h.$$apply=q,G(a)},L=function(a){h.$$apply=!1,z=!0,G(a)},M=function(){e(function(){i.unbind(),i.bind("touchstart mousedown",function(a){w=!0,x=!1,y=e(function(){w=!1,I(a)},h.dragDelay)}),i.bind("touchend touchcancel mouseup",function(){e.cancel(y)})})};M(),angular.element(c.document.body).bind("keydown",function(a){27===a.keyCode&&L(a)})}}}]).directive("uiTreeDummyNode",["treeConfig",function(a){return{require:["^uiTreeNodes","^uiTree"],template:"<div class=\"file-item dummy\" ng-class=\"{'no-drop': fileBrowser.cursorState === 'no', copy: fileBrowser.cursorState === 'ok'}\"></div>",restrict:"E",replace:!0,controller:function(a,b){this.scope=a,a.$element=b,a.$parentNodeScope=null,a.$childNodesScope=null,a.$parentNodesScope=null,a.$treeScope=null,a.$$apply=!1,a.$type="uiTreeDummyNode",a.init=function(b){var c=b[0];a.$treeScope=b[1]?b[1].scope:null,a.$parentNodeScope=c.scope.$nodeScope,a.$parentNodesScope=c.scope}},link:function(b,c,d,e){var f={};angular.extend(f,a),f.nodeClass&&c.addClass(f.nodeClass),b.init(e)}}}])}(),angular.module("ramlEditorApp").run(["$templateCache",function(a){"use strict";a.put("views/confirm-modal.html",'<form name="form" novalidate>\n  <div class="modal-header">\n    <h3>{{title}}</h3>\n  </div>\n\n  <div class="modal-body">\n    <p>{{message}}</p>\n  </div>\n\n  <div class="modal-footer">\n    <button type="button" class="btn btn-default" ng-click="$dismiss()">{{dismissButtonLabel}}</button>\n    <button type="button" class="btn btn-default" ng-if="canDiscard" ng-click="discard()">{{discardButtonLabel}}</button>\n    <button type="button" class="btn" ng-class="closeButtonCssClass" ng-click="$close()" ng-auto-focus="true">{{closeButtonLabel}}</button>\n  </div>\n</form>\n'),a.put("views/import-modal.html",'<form name="form" novalidate ng-submit="import(form)">\n  <div class="modal-header">\n    <h3>Import file</h3>\n  </div>\n\n  <div class="modal-body" ng-class="{\'has-error\': submittedType === mode.type && form.$invalid}">\n    <div style="text-align: center; font-size: 2em; margin-bottom: 1em;" ng-show="importing">\n      <i class="fa fa-spin fa-spinner"></i>\n    </div>\n\n    <div class="form-group" style="margin-bottom: 10px;">\n      <div style="float: left; width: 130px;">\n        <select class="form-control" ng-model="mode" ng-options="option.name for option in options"></select>\n      </div>\n\n      <div style="margin-left: 145px;" ng-switch="mode.type">\n        <input id="swagger" name="swagger" type="url" ng-model="mode.value" class="form-control" required ng-switch-when="url" placeholder="http://petstore.swagger.io/v2/swagger.json">\n\n        <input id="file" name="file" type="file" ng-model="mode.value" class="form-control" required ng-switch-when="file" onchange="angular.element(this).scope().handleFileSelect(this)">\n      </div>\n    </div>\n\n    <div ng-if="submittedType === \'url\'">\n      <p class="help-block" ng-show="form.swagger.$error.required || form.swagger.$error.url">Please provide a valid URL.</p>\n    </div>\n\n    <div ng-if="submittedType === \'file\'">\n      <p class="help-block" ng-show="form.file.$error.required">Please select a file to import.</p>\n    </div>\n\n    <div ng-if="mode.type === \'file\'">\n      <p>If you want to upload multiple files, you can .zip them and import them in a single step.</p>\n    </div>\n\n    <div ng-if="mode.spec === \'OAS\'">\n      <p>Note: Currently supports OAS (Swagger) v2.0</p>\n    </div>\n  </div>\n\n  <div class="modal-footer" style="margin-top: 0;">\n    <button type="button" class="btn btn-default" ng-click="$dismiss()">Close</button>\n    <button type="submit" class="btn btn-primary">Import</button>\n  </div>\n</form>\n'),a.put("views/import-service-conflict-modal.html",'<form name="form" novalidate>\n  <div class="modal-header">\n    <h3>Path already exists</h3>\n  </div>\n\n  <div class="modal-body">\n    The path (<strong>{{path}}</strong>) already exists.\n  </div>\n\n  <div class="modal-footer">\n    <button type="button" class="btn btn-default pull-left" ng-click="skip()">Skip</button>\n    <button type="submit" class="btn btn-primary" ng-click="keep()">Keep Both</button>\n    <button type="submit" class="btn btn-primary" ng-click="replace()">Replace</button>\n  </div>\n</form>\n'),a.put("views/menu/export-menu.tmpl.html",'<li ng-if="!xOasExport" role="export-zip" ng-click="exportZipFiles()">\n  <a><i class="fa fa-download"></i>&nbsp;Export files</a>\n</li>\n\n<a ng-if="xOasExport">\n  <i class="fa fa-plus"></i>&nbsp;Export\n  <i class="submenu-icon fa fa-caret-right"></i>\n</a>\n\n<ul ng-if="xOasExport" role="menu-dropdown" class="submenu-item menu-item-context" ng-show="showExportMenu">\n  <li role="export-zip" ng-click="exportZipFiles()"><a>&nbsp;Project Zip</a></li>\n  <li role="export-json" ng-click="exportJsonFiles()"><a>&nbsp;OAS 2.0 JSON</a></li>\n  <li role="export-yaml" ng-click="exportYamlFiles()"><a>&nbsp;OAS 2.0 YAML</a></li>\n</ul>\n'),a.put("views/menu/help-menu.tmpl.html",'<span role="help-button" class="menu-item-toggle" ng-click="openHelpContextMenu($event)">\n  <i class="fa fa-question-circle"></i>&nbsp;Help\n  <i class="menu-icon fa fa-caret-down"></i>\n</span>\n<ul role="menu-dropdown" class="menu-item-context" ng-show="menuContextHelpOpen">\n  <li role="context-menu-item"><a role="raml-specification" href="https://github.com/raml-org/raml-spec/blob/master/versions/raml-10/raml-10.md" target="_blank">RAML Specification</a></li>\n  <li rile="context-menu-item"><a role="raml-website" href="http://raml.org" target="_blank">raml.org Website</a></li>\n  <li role="context-menu-item"><a role="report-raml-bug" href="https://github.com/mulesoft/api-designer/issues" target="_blank">Report a Bug</a></li>\n  <li role="context-menu-item"><a role="raml-guide" href="http://raml.org/docs.html" target="_blank">Getting Started Guide</a></li>\n  <li role="context-menu-item" ng-click="openHelpModal()"><a role="raml-about">About</a></li>\n</ul>\n'),a.put("views/menu/new-file-menu.tmpl.html",'<ul role="{{menuRole}}" class="submenu-item menu-item-context" ng-show="showFileMenu">\n  <li role="context-menu-item" ng-mouseenter="openFragmentMenu()" ng-mouseleave="closeFragmentMenu()">\n    <a>\n        &nbsp;Raml 1.0\n        <i class="submenu-icon fa fa-caret-right"></i>\n    </a>\n\n    <ul role="{{menuRole}}" class="submenu-item menu-item-context" ng-show="{{ openFileMenuCondition }}">\n      <li role="new-raml-{{fragment.name}}" ng-repeat="fragment in notSorted(fragments)" ng-click="newFragmentFile(fragment.label)">\n        <a>&nbsp;{{ fragment.name }}</a>\n      </li>\n    </ul>\n  </li>\n\n  <li role="new-raml-0.8" ng-click="newFile(\'0.8\')">\n    <a>&nbsp;Raml 0.8 API Spec</a>\n  </li>\n</ul>\n'),a.put("views/menu/project-menu.tmpl.html",'<span class="menu-item-toggle" role="project-button" ng-click="openProjectMenu($event)">\n  <i class="fa fa-cogs"></i>&nbsp;Project\n  <i class="menu-icon fa fa-caret-down"></i>\n</span>\n<ul role="menu-dropdown" class="menu-item-context" ng-show="showProjectMenu">\n  <li role="new-file" ng-mouseenter="openFileMenu()" ng-mouseleave="closeFileMenu()">\n    <a>\n      <i class="fa fa-plus"></i>&nbsp;New File\n      <i class="submenu-icon fa fa-caret-right"></i>\n    </a>\n    <raml-editor-new-file-menu show-file-menu="showFileMenu" show-fragment-menu="showFragmentMenu" open-file-menu-condition="showFragmentMenu" menu-role="menu-dropdown"></raml-editor-new-file-menu>\n  </li>\n\n  <raml-editor-new-folder-button></raml-editor-new-folder-button>\n\n  <raml-editor-save-file-button></raml-editor-save-file-button>\n\n  <raml-editor-save-all-button></raml-editor-save-all-button>\n\n  <raml-editor-import-button></raml-editor-import-button>\n\n  <raml-editor-export-menu ng-if="!xOasExport"></raml-editor-export-menu>\n\n  <li role="context-menu-item" class="submenu" ng-mouseenter="openExportMenu()" ng-mouseleave="closeExportMenu()" ng-show="xOasExport && canExportFiles()">\n    <raml-editor-export-menu></raml-editor-export-menu>\n  </li>\n</ul>\n'),a.put("views/menu/view-menu.tmpl.html",'<span class="menu-item-toggle" ng-click="openViewMenu($event)">\n  <i class="fa fa-edit"></i>&nbsp;View\n  <i class="menu-icon fa fa-caret-down"></i>\n</span>\n<ul role="menu-dropdown" class="menu-item-context" ng-show="showViewMenu">\n  <li role="toogle-background" ng-click="toogleBackgroundColor()">\n      <a>&nbsp;Toggle Background Color</a>\n  </li>\n</ul>\n\n'),a.put("views/modal/help.html",'<div class="modal-header">\n    <h3>About</h3>\n</div>\n\n<div class="modal-body">\n    <p>\n        The API Designer for RAML is built by MuleSoft, and is a web-based editor designed to help you author RAML specifications for your APIs.\n        <br />\n        <br />\n        RAML is a human-and-machine readable modeling language for REST APIs, backed by a workgroup of industry leaders.\n    </p>\n\n    <p>\n        To learn more about the RAML specification and other tools which support RAML, please visit <a href="http://www.raml.org" target="_blank">http://www.raml.org</a>.\n        <br />\n        <br />\n        For specific questions, or to get help from the community, head to the community forum at <a href="http://forums.raml.org" target="_blank">http://forums.raml.org</a>.\n    </p>\n</div>\n'),a.put("views/new-name-modal.html",'<form name="form" novalidate ng-submit="submit(form)">\n  <div class="modal-header">\n    <h3>{{input.title}}</h3>\n  </div>\n\n  <div class="modal-body">\n    \x3c!-- name --\x3e\n    <div class="form-group" ng-class="{\'has-error\': form.$submitted && form.name.$invalid}">\n      <p>\n        {{input.message}}\n      </p>\n      <p ng-if="input.link">\n        Learn more\n        <a target="_blank" href="{{input.link}}">\n          <i class="fa fa-external-link"></i>\n        </a>\n      </p>\n      \x3c!-- label --\x3e\n      <label for="name" class="control-label required-field-label">Name</label>\n\n      \x3c!-- input --\x3e\n      <input id="name" name="name" type="text"\n             ng-model="input.newName" class="form-control"\n             ng-validate="isValid($value)"\n             ng-maxlength="64" ng-auto-focus="true" value="{{input.suggestedName}}" required>\n\n      \x3c!-- error --\x3e\n      <p class="help-block" ng-show="form.$submitted && form.name.$error.required">Please provide a name.</p>\n      <p class="help-block" ng-show="form.$submitted && form.name.$error.maxlength">Name must be shorter than 64 characters.</p>\n      <p class="help-block" ng-show="form.$submitted && form.name.$error.validate">{{validationErrorMessage}}</p>\n    </div>\n  </div>\n\n  <div class="modal-footer">\n    <button type="button" class="btn btn-default" ng-click="$dismiss()">Cancel</button>\n    <button type="submit" class="btn btn-primary">OK</button>\n  </div>\n</form>\n'),a.put("views/raml-editor-context-menu.tmpl.html",'<ul role="context-menu" ng-show="opened">\n  <li role="context-menu-item" ng-mouseenter="openFileMenu(action)" ng-mouseleave="closeFileMenu()" ng-repeat="action in actions" ng-click="action.execute()">\n    {{ action.label }}\n    <i class="submenu-icon fa fa-caret-right" ng-if="action.fragments !== undefined"></i>\n    <raml-editor-new-file-menu ng-if="action.fragments !== undefined" target="target" show-file-menu="showFileMenu" show-fragment-menu="showFragmentMenu" open-file-menu-condition="showFragmentMenu" menu-role="context-menu"></raml-editor-new-file-menu>\n  </li>\n</ul>\n'),
a.put("views/raml-editor-file-browser.tmpl.html",'<raml-editor-context-menu></raml-editor-context-menu>\n\n<script type="text/ng-template" id="file-item.html">\n  <div ui-tree-handle class="file-item" ng-right-click="fileBrowser.showContextMenu($event, node)" ng-click="fileBrowser.select(node)"\n    ng-class="{currentfile: fileBrowser.currentTarget.path === node.path && !isDragging,\n      dirty: node.dirty,\n      geared: fileBrowser.contextMenuOpenedFor(node),\n      directory: node.isDirectory,\n      \'no-drop\': fileBrowser.cursorState === \'no\',\n      copy: fileBrowser.cursorState === \'ok\'}"\n    ng-drop="node.isDirectory && fileBrowser.dropFile($event, node)">\n    <span class="file-name" ng-click="toggleFolderCollapse(node)">\n      <i class="fa icon fa-caret-right fa-fw" ng-if="node.isDirectory" ng-class="{\'fa-rotate-90\': !collapsed}"></i>\n      <i class="fa icon fa-fw" ng-class="{\'fa-folder-o\': node.isDirectory, \'fa-file-text-o\': !node.isDirectory}"></i>\n      &nbsp;{{node.name}}\n    </span>\n    <i class="fa fa-cog" ng-click="fileBrowser.showContextMenu($event, node)" ng-class="{hidden: isDragging}" data-nodrag></i>\n  </div>\n\n  <ul ui-tree-nodes ng-if="node.isDirectory" ng-class="{hidden: collapsed}" ng-model="node.children">\n    <li ui-tree-node ng-repeat="node in node.children" ng-include="\'file-item.html\'" data-collapsed="node.collapsed" data-path="{{node.path}}">\n    </li>\n  </ul>\n<\/script>\n\n<div ui-tree="fileTreeOptions" ng-model="homeDirectory" class="file-list" data-drag-delay="300" data-empty-place-holder-enabled="false" ng-drop="fileBrowser.dropFile($event, homeDirectory)" ng-right-click="fileBrowser.showContextMenu($event, homeDirectory)">\n  <ul ui-tree-nodes ng-model="homeDirectory.children" id="tree-root">\n    <ui-tree-dummy-node class="top"></ui-tree-dummy-node>\n    <li ui-tree-node ng-repeat="node in homeDirectory.children" ng-include="\'file-item.html\'" data-collapsed="node.collapsed"\n     data-path="{{node.path}}"\n     ng-drag-enter="node.collapsed = false"\n     ng-drag-leave="node.collapsed = true"></li>\n    <ui-tree-dummy-node class="bottom" ng-click="fileBrowser.select(homeDirectory)"></ui-tree-dummy-node>\n  </ul>\n</div>\n'),a.put("views/raml-editor-main.tmpl.html",'<div role="raml-editor" class="{{theme}}">\n  <div role="notifications" ng-controller="notifications" class="hidden" ng-class="{hidden: !shouldDisplayNotifications, error: level === \'error\'}">\n    {{message}}\n    <i class="fa" ng-class="{\'fa-check\': level === \'info\', \'fa-warning\': level === \'error\'}" ng-click="hideNotifications()"></i>\n  </div>\n\n  <header>\n    <h1>\n      <strong>API</strong> Designer\n    </h1>\n\n    <a role="logo" target="_blank" href="http://mulesoft.com"></a>\n  </header>\n\n  <ul class="menubar">\n    <li class="menu-item menu-item-ll">\n      <raml-editor-project-button></raml-editor-project-button>\n    </li>\n    <li class="menu-item menu-item-ll">\n      <raml-editor-view-button></raml-editor-view-button>\n    </li>\n    <li class="menu-item menu-item-ll">\n      <raml-editor-help-button></raml-editor-help-button>\n    </li>\n    <li class="spacer file-absolute-path">{{getSelectedFileAbsolutePath()}}</li>\n    <li class="menu-item menu-item-fr menu-item-mocking-service" ng-show="getIsMockingServiceVisible()" ng-controller="mockingServiceController" ng-click="toggleMockingService()">\n      <div class="title">Mocking Service</div>\n      <div class="field-wrapper" ng-class="{loading: loading}">\n        <i class="fa fa-spin fa-spinner" ng-if="loading"></i>\n        <div class="field" ng-if="!loading">\n          <input type="checkbox" value="None" id="mockingServiceEnabled" ng-checked="enabled" ng-click="$event.preventDefault()" />\n          <label for="mockingServiceEnabled"></label>\n        </div>\n      </div>\n    </li>\n  </ul>\n\n  <div role="flexColumns">\n    <raml-editor-file-browser role="browser"></raml-editor-file-browser>\n\n    <div id="browserAndEditor" ng-splitter="vertical" ng-splitter-collapse-target="prev"><div class="split split-left">&nbsp;</div></div>\n\n    <div role="editor" ng-class="{error: currentError}">\n      <div id="code" role="code"></div>\n\n      <div role="shelf" ng-show="getIsShelfVisible()" ng-class="{expanded: !shelf.collapsed}">\n        <div role="shelf-tab" ng-click="toggleShelf()">\n          <i class="fa fa-inbox fa-lg"></i><i class="fa" ng-class="shelf.collapsed ? \'fa-caret-up\' : \'fa-caret-down\'"></i>\n        </div>\n\n        <div role="shelf-container" ng-show="!shelf.collapsed" ng-include src="\'views/raml-editor-shelf.tmpl.html\'"></div>\n      </div>\n    </div>\n\n    <div id="consoleAndEditor" ng-show="getIsConsoleVisible()" ng-splitter="vertical" ng-splitter-collapse-target="next" ng-splitter-min-width="470"><div class="split split-right">&nbsp;</div></div>\n\n    <div ng-show="getIsConsoleVisible()" role="preview-wrapper" class="raml-console-embedded">\n      <div ng-show="getIsMockingService1()">\n        <div class="mocking-service-popover orange">\n          <div class="col">\n            <div class="mocking-service-text">A new mocking service is available. Upgrading takes just seconds.</div>\n            <div>\n              <a class="mocking-service-link" href="https://docs.mulesoft.com/design-center/design-migrating-ms" rel="noopener" target="_blank">See what’s new</a>\n            </div>\n          </div>\n          <div class="col right">\n            <div class="right-col" ng-controller="mockingServiceController" ng-click="toggleMockingService(true)">\n              <button class="mocking-service-button" ng-click="">Upgrade</button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div ng-show="getIsMigrationSuccessful()">\n        <div class="mocking-service-popover green">\n          <div class="col">\n            <div class="mocking-service-text">Your mocking service has been successfully upgraded!</div>\n            <div>\n              <a class="mocking-service-link" href="https://docs.mulesoft.com/design-center/design-migrating-ms" rel="noopener" target="_blank">See what’s new</a>\n            </div>\n          </div>\n          <div class="col right">\n            <div class="right-col" ng-click="closeMigrationHint()">\n              <button class="mocking-service-button" ng-click="">Dismiss</button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div ng-if="!splitterCollapsed_consoleAndEditor && getIsConsoleVisible()">\n        <raml-console raml="raml" errors="ramlError" disable-description="true"\n            options="{ singleView: true, disableThemeSwitcher: true, disableRamlClientGenerator: true, disableTitle: true}"\n            style="padding: 0; margin-top: 0;"></raml-console>\n      </div>\n    </div>\n  </div>\n</div>\n'),a.put("views/raml-editor-shelf.tmpl.html",'<ul role="sections" ng-controller="ramlEditorShelf">\n  <li role="section" ng-repeat="category in model.categories | orderBy:orderSections" class="{{category.name | dasherize}}">\n    {{category.name}}&nbsp;({{category.items.length}})\n    <ul role="items">\n      <li ng-repeat="item in category.items" ng-click="itemClick(item)"><i class="fa fa-reply"></i><span>{{item.title}}</span></li>\n    </ul>\n  </li>\n</ul>\n')}]);